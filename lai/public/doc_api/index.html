<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>Documentação da API</title>

    <style>
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight, .highlight .w {
  color: #f8f8f2;
  background-color: #272822;
}
.highlight .err {
  color: #272822;
  background-color: #f92672;
}
.highlight .c, .highlight .cd, .highlight .cm, .highlight .c1, .highlight .cs {
  color: #75715e;
}
.highlight .cp {
  color: #f4bf75;
}
.highlight .nt {
  color: #f4bf75;
}
.highlight .o, .highlight .ow {
  color: #f8f8f2;
}
.highlight .p, .highlight .pi {
  color: #f8f8f2;
}
.highlight .gi {
  color: #a6e22e;
}
.highlight .gd {
  color: #f92672;
}
.highlight .gh {
  color: #66d9ef;
  background-color: #272822;
  font-weight: bold;
}
.highlight .k, .highlight .kn, .highlight .kp, .highlight .kr, .highlight .kv {
  color: #ae81ff;
}
.highlight .kc {
  color: #fd971f;
}
.highlight .kt {
  color: #fd971f;
}
.highlight .kd {
  color: #fd971f;
}
.highlight .s, .highlight .sb, .highlight .sc, .highlight .sd, .highlight .s2, .highlight .sh, .highlight .sx, .highlight .s1 {
  color: #a6e22e;
}
.highlight .sr {
  color: #a1efe4;
}
.highlight .si {
  color: #cc6633;
}
.highlight .se {
  color: #cc6633;
}
.highlight .nn {
  color: #f4bf75;
}
.highlight .nc {
  color: #f4bf75;
}
.highlight .no {
  color: #f4bf75;
}
.highlight .na {
  color: #66d9ef;
}
.highlight .m, .highlight .mf, .highlight .mh, .highlight .mi, .highlight .il, .highlight .mo, .highlight .mb, .highlight .mx {
  color: #a6e22e;
}
.highlight .ss {
  color: #a6e22e;
}
    </style>
    <link href="stylesheets/screen.css" rel="stylesheet" media="screen" />
    <link href="stylesheets/print.css" rel="stylesheet" media="print" />
      <script src="javascripts/all.js"></script>
  </head>

  <body class="index" data-languages="[&quot;javascript&quot;,&quot;html&quot;]">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar.png" alt="Navbar" />
      </span>
    </a>
    <div class="tocify-wrapper">
      <img src="images/logo.png" alt="Logo" />
        <div class="lang-selector">
              <a href="#" data-language-name="javascript">javascript</a>
              <a href="#" data-language-name="html">html</a>
        </div>
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <div id="toc">
      </div>
        <ul class="toc-footer">
            <li><a href='http://www.nxcd.com.br'>Nextcode</a></li>
        </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id="introdu-o">Introdução</h1>

<p>Bem vindo à API do portal LAI. Neste documento encontram-se os detalhes de acesso dos endpoints de pesquida de pedidos no elasticsearch.</p>

<p>Os trechos de código apresentados aqui são trechos HTML e JS para serem usados com JQuery. Segue CDN para uso:</p>

<p>https://code.jquery.com/jquery-2.2.4.min.js</p>

<p>Para suporte utilize o email abaixo:</p>

<p>suporte@nxcd.com.br</p>

<h1 id="autentica-o">Autenticação</h1>

<p>As APIs não precisam de autenticação. Através do arquivo config.js na raiz do projeto é possível configurar os IPs dos servidores que poderão acessar a aplicação.</p>

<p>Para liberaro o acesso de um servidor, acrescente seu IP no array de chave &ldquo;allowedIPs&rdquo;.</p>

<h1 id="pedidos">Pedidos</h1>

<h2 id="criar-pedido">Criar pedido</h2>
<pre class="highlight javascript"><code>
<span class="nx">$</span><span class="p">(</span><span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>

    <span class="nx">$</span><span class="p">(</span><span class="nb">document</span><span class="p">).</span><span class="nx">ready</span><span class="p">(</span><span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
        <span class="nx">$</span><span class="p">(</span> <span class="s2">"#btnCriar"</span> <span class="p">).</span><span class="nx">click</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
            <span class="nx">criar</span><span class="p">();</span>
        <span class="p">});</span>        
    <span class="p">});</span>

    <span class="kd">function</span> <span class="nx">criar</span><span class="p">()</span> <span class="p">{</span>

        <span class="kd">var</span> <span class="nx">data</span> <span class="o">=</span> <span class="p">{</span> 
            <span class="s2">"agentes_codigo_local"</span> <span class="p">:</span>  <span class="nx">$</span><span class="p">(</span><span class="s1">'#agentes_codigo_local'</span><span class="p">).</span><span class="nx">val</span><span class="p">(),</span>
            <span class="s2">"agentes_nome_local"</span> <span class="p">:</span>  <span class="nx">$</span><span class="p">(</span><span class="s1">'#agentes_nome_local'</span><span class="p">).</span><span class="nx">val</span><span class="p">(),</span>
            <span class="s2">"usuarios_codigo_local"</span> <span class="p">:</span>  <span class="nx">$</span><span class="p">(</span><span class="s1">'#usuarios_codigo_local'</span><span class="p">).</span><span class="nx">val</span><span class="p">(),</span>
            <span class="s2">"usuarios_email_local"</span> <span class="p">:</span>  <span class="nx">$</span><span class="p">(</span><span class="s1">'#usuarios_email_local'</span><span class="p">).</span><span class="nx">val</span><span class="p">(),</span>
            <span class="s2">"usuarios_nome_local"</span> <span class="p">:</span>  <span class="nx">$</span><span class="p">(</span><span class="s1">'#usuarios_nome_local'</span><span class="p">).</span><span class="nx">val</span><span class="p">(),</span>
            <span class="s2">"status_pedido_codigo_local"</span> <span class="p">:</span>  <span class="nx">$</span><span class="p">(</span><span class="s1">'#status_pedido_codigo_local'</span><span class="p">).</span><span class="nx">val</span><span class="p">(),</span>
            <span class="s2">"status_pedido_interno_codigo_local"</span> <span class="p">:</span>  <span class="nx">$</span><span class="p">(</span><span class="s1">'#status_pedido_interno_codigo_local'</span><span class="p">).</span><span class="nx">val</span><span class="p">(),</span>
            <span class="s2">"status_pedido_interno_nome_local"</span> <span class="p">:</span>  <span class="nx">$</span><span class="p">(</span><span class="s1">'#status_pedido_interno_nome_local'</span><span class="p">).</span><span class="nx">val</span><span class="p">(),</span>
            <span class="s2">"status_pedido_nome_local"</span> <span class="p">:</span>  <span class="nx">$</span><span class="p">(</span><span class="s1">'#status_pedido_nome_local'</span><span class="p">).</span><span class="nx">val</span><span class="p">(),</span>
            <span class="s2">"tipo_pedido_situacao_codigo_local"</span> <span class="p">:</span>  <span class="nx">$</span><span class="p">(</span><span class="s1">'#tipo_pedido_situacao_codigo_local'</span><span class="p">).</span><span class="nx">val</span><span class="p">(),</span>
            <span class="s2">"tipo_pedido_situacao_nome_local"</span> <span class="p">:</span>  <span class="nx">$</span><span class="p">(</span><span class="s1">'#tipo_pedido_situacao_nome_local'</span><span class="p">).</span><span class="nx">val</span><span class="p">(),</span>
            <span class="s2">"tipo_pedido_origem_codigo_local"</span>      <span class="p">:</span>  <span class="nx">$</span><span class="p">(</span><span class="s1">'#tipo_pedido_origem_codigo_local'</span><span class="p">).</span><span class="nx">val</span><span class="p">(),</span>
            <span class="s2">"tipo_pedido_origem_nome_local"</span> <span class="p">:</span>  <span class="nx">$</span><span class="p">(</span><span class="s1">'#tipo_pedido_origem_nome_local'</span><span class="p">).</span><span class="nx">val</span><span class="p">(),</span>
            <span class="s2">"tipo_poder_codigo_local"</span> <span class="p">:</span>  <span class="nx">$</span><span class="p">(</span><span class="s1">'#tipo_poder_codigo_local'</span><span class="p">).</span><span class="nx">val</span><span class="p">(),</span>
            <span class="s2">"tipo_poder_nome_local"</span> <span class="p">:</span>  <span class="nx">$</span><span class="p">(</span><span class="s1">'#tipo_poder_nome_local'</span><span class="p">).</span><span class="nx">val</span><span class="p">(),</span>
            <span class="s2">"tipo_nivel_federativo_codigo_local"</span> <span class="p">:</span> <span class="nx">$</span><span class="p">(</span><span class="s1">'#tipo_nivel_federativo_codigo_local'</span><span class="p">).</span><span class="nx">val</span><span class="p">(),</span>
            <span class="s2">"tipo_nivel_federativo_nome_local"</span> <span class="p">:</span> <span class="nx">$</span><span class="p">(</span><span class="s1">'#tipo_nivel_federativo_nome_local'</span><span class="p">).</span><span class="nx">val</span><span class="p">(),</span>
            <span class="s2">"pedidos_protocolo_local"</span> <span class="p">:</span>  <span class="nx">$</span><span class="p">(</span><span class="s1">'#pedidos_protocolo_local'</span><span class="p">).</span><span class="nx">val</span><span class="p">(),</span>
            <span class="s2">"pedidos_titulo_local"</span> <span class="p">:</span>  <span class="nx">$</span><span class="p">(</span><span class="s1">'#pedidos_titulo_local'</span><span class="p">).</span><span class="nx">val</span><span class="p">(),</span>
            <span class="s2">"pedidos_slug_local"</span> <span class="p">:</span>  <span class="nx">$</span><span class="p">(</span><span class="s1">'#pedidos_slug_local'</span><span class="p">).</span><span class="nx">val</span><span class="p">(),</span>
            <span class="s2">"pedidos_descricao_local"</span> <span class="p">:</span>  <span class="nx">$</span><span class="p">(</span><span class="s1">'#pedidos_descricao_local'</span><span class="p">).</span><span class="nx">val</span><span class="p">(),</span>
            <span class="s2">"pedidos_foi_prorrogado_local"</span> <span class="p">:</span>  <span class="nx">$</span><span class="p">(</span><span class="s1">'#pedidos_foi_prorrogado_local'</span><span class="p">).</span><span class="nx">val</span><span class="p">(),</span>
            <span class="s2">"pedidos_anonimo_local"</span> <span class="p">:</span>  <span class="nx">$</span><span class="p">(</span><span class="s1">'#pedidos_anonimo_local'</span><span class="p">).</span><span class="nx">val</span><span class="p">(),</span>
            <span class="s2">"pedidos_data_envio_local"</span> <span class="p">:</span>  <span class="nx">$</span><span class="p">(</span><span class="s1">'#pedidos_data_envio_local'</span><span class="p">).</span><span class="nx">val</span><span class="p">(),</span>
            <span class="s2">"pedidos_enviado_para_local"</span> <span class="p">:</span>  <span class="nx">$</span><span class="p">(</span><span class="s1">'#pedidos_enviado_para_local'</span><span class="p">).</span><span class="nx">val</span><span class="p">(),</span>
            <span class="s2">"tipo_pedidos_resposta_codigo"</span> <span class="p">:</span>  <span class="nx">$</span><span class="p">(</span><span class="s1">'#tipo_pedidos_resposta_codigo'</span><span class="p">).</span><span class="nx">val</span><span class="p">(),</span>
            <span class="s2">"tipo_pedidos_resposta_nome"</span> <span class="p">:</span>  <span class="nx">$</span><span class="p">(</span><span class="s1">'#tipo_pedidos_resposta_nome'</span><span class="p">).</span><span class="nx">val</span><span class="p">()</span>


        <span class="p">};</span>

        <span class="kd">var</span> <span class="nx">urlApi</span> <span class="o">=</span> <span class="s1">'/achadosepedidos.org.br/api/pedidos/criar/'</span> <span class="o">+</span> <span class="nx">$</span><span class="p">(</span><span class="s1">'#codigo_pedido'</span><span class="p">).</span><span class="nx">val</span><span class="p">();</span>

        <span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">(</span><span class="nx">urlApi</span><span class="p">,</span> <span class="p">{</span>
            <span class="na">method</span><span class="p">:</span> <span class="s2">"PUT"</span><span class="p">,</span>
            <span class="na">data</span><span class="p">:</span> <span class="nx">data</span><span class="p">,</span>
            <span class="na">contentType</span><span class="p">:</span> <span class="s1">'application/x-www-form-urlencoded'</span><span class="p">,</span>
            <span class="na">dataType</span><span class="p">:</span> <span class="s2">"json"</span><span class="p">,</span>
            <span class="na">success</span><span class="p">:</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">result</span><span class="p">)</span> <span class="p">{</span>
                <span class="nx">alert</span><span class="p">(</span><span class="s2">"Pedido criado"</span><span class="p">);</span>
            <span class="p">},</span>
            <span class="na">error</span><span class="p">:</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
                <span class="nx">alert</span><span class="p">(</span><span class="s2">"Erro"</span><span class="p">);</span>
            <span class="p">}</span>
        <span class="p">});</span>
    <span class="p">}</span>

<span class="p">});</span>

</code></pre><pre class="highlight html"><code><span class="cp">&lt;!DOCTYPE html&gt;</span>
<span class="nt">&lt;html</span> <span class="na">lang=</span><span class="s">"pt-BR"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;head&gt;</span>
        <span class="nt">&lt;title&gt;</span>Criar Pedido<span class="nt">&lt;/title&gt;</span>
        <span class="nt">&lt;script </span><span class="na">src=</span><span class="s">"https://code.jquery.com/jquery-2.2.4.min.js"</span><span class="nt">&gt;&lt;/script&gt;</span>
    <span class="nt">&lt;/head&gt;</span>
    <span class="nt">&lt;body&gt;</span>
        <span class="nt">&lt;table&gt;</span>
            <span class="nt">&lt;tr&gt;</span>
                <span class="nt">&lt;td&gt;</span>codigo_pedido<span class="nt">&lt;/td&gt;</span>
                <span class="nt">&lt;td&gt;&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">id=</span><span class="s">"codigo_pedido"</span><span class="nt">&gt;&lt;/td&gt;</span>
            <span class="nt">&lt;/tr&gt;</span>
            <span class="nt">&lt;tr&gt;</span>
                <span class="nt">&lt;td&gt;</span>agentes_codigo_local<span class="nt">&lt;/td&gt;</span>
                <span class="nt">&lt;td&gt;&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">id=</span><span class="s">"agentes_codigo_local"</span><span class="nt">&gt;&lt;/td&gt;</span>
            <span class="nt">&lt;/tr&gt;</span>
            <span class="nt">&lt;tr&gt;</span>
                <span class="nt">&lt;td&gt;</span>agentes_nome_local<span class="nt">&lt;/td&gt;</span>
                <span class="nt">&lt;td&gt;&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">id=</span><span class="s">"agentes_nome_local"</span><span class="nt">&gt;&lt;/td&gt;</span>
            <span class="nt">&lt;/tr&gt;</span>
            <span class="nt">&lt;tr&gt;</span>
                <span class="nt">&lt;td&gt;</span>usuarios_codigo_local<span class="nt">&lt;/td&gt;</span>
                <span class="nt">&lt;td&gt;&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">id=</span><span class="s">"usuarios_codigo_local"</span><span class="nt">&gt;&lt;/td&gt;</span>
            <span class="nt">&lt;/tr&gt;</span>
            <span class="nt">&lt;tr&gt;</span>
                <span class="nt">&lt;td&gt;</span>usuarios_email_local<span class="nt">&lt;/td&gt;</span>
                <span class="nt">&lt;td&gt;&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">id=</span><span class="s">"usuarios_email_local"</span><span class="nt">&gt;&lt;/td&gt;</span>
            <span class="nt">&lt;/tr&gt;</span>
            <span class="nt">&lt;tr&gt;</span>
                <span class="nt">&lt;td&gt;</span>usuarios_nome_local<span class="nt">&lt;/td&gt;</span>
                <span class="nt">&lt;td&gt;&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">id=</span><span class="s">"usuarios_nome_local"</span><span class="nt">&gt;&lt;/td&gt;</span>
            <span class="nt">&lt;/tr&gt;</span>
            <span class="nt">&lt;tr&gt;</span>
                <span class="nt">&lt;td&gt;</span>status_pedido_codigo_local<span class="nt">&lt;/td&gt;</span>
                <span class="nt">&lt;td&gt;&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">id=</span><span class="s">"status_pedido_codigo_local"</span><span class="nt">&gt;&lt;/td&gt;</span>
            <span class="nt">&lt;/tr&gt;</span>
            <span class="nt">&lt;tr&gt;</span>
                <span class="nt">&lt;td&gt;</span>status_pedido_interno_codigo_local<span class="nt">&lt;/td&gt;</span>
                <span class="nt">&lt;td&gt;&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">id=</span><span class="s">"status_pedido_interno_codigo_local"</span><span class="nt">&gt;&lt;/td&gt;</span>
            <span class="nt">&lt;/tr&gt;</span>
            <span class="nt">&lt;tr&gt;</span>
                <span class="nt">&lt;td&gt;</span>status_pedido_interno_nome_local<span class="nt">&lt;/td&gt;</span>
                <span class="nt">&lt;td&gt;&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">id=</span><span class="s">"status_pedido_interno_nome_local"</span><span class="nt">&gt;&lt;/td&gt;</span>
            <span class="nt">&lt;/tr&gt;</span>
            <span class="nt">&lt;tr&gt;</span>
                <span class="nt">&lt;td&gt;</span>status_pedido_nome_local<span class="nt">&lt;/td&gt;</span>
                <span class="nt">&lt;td&gt;&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">id=</span><span class="s">"status_pedido_nome_local"</span><span class="nt">&gt;&lt;/td&gt;</span>
            <span class="nt">&lt;/tr&gt;</span>
            <span class="nt">&lt;tr&gt;</span>
                <span class="nt">&lt;td&gt;</span>tipo_pedido_situacao_codigo_local<span class="nt">&lt;/td&gt;</span>
                <span class="nt">&lt;td&gt;&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">id=</span><span class="s">"tipo_pedido_situacao_codigo_local"</span><span class="nt">&gt;&lt;/td&gt;</span>
            <span class="nt">&lt;/tr&gt;</span>
            <span class="nt">&lt;tr&gt;</span>
                <span class="nt">&lt;td&gt;</span>tipo_pedido_situacao_nome_local<span class="nt">&lt;/td&gt;</span>
                <span class="nt">&lt;td&gt;&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">id=</span><span class="s">"tipo_pedido_situacao_nome_local"</span><span class="nt">&gt;&lt;/td&gt;</span>
            <span class="nt">&lt;/tr&gt;</span>
            <span class="nt">&lt;tr&gt;</span>
                <span class="nt">&lt;td&gt;</span>tipo_pedido_origem_codigo_local<span class="nt">&lt;/td&gt;</span>
                <span class="nt">&lt;td&gt;&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">id=</span><span class="s">"tipo_pedido_origem_codigo_local"</span><span class="nt">&gt;&lt;/td&gt;</span>
            <span class="nt">&lt;/tr&gt;</span>
            <span class="nt">&lt;tr&gt;</span>
                <span class="nt">&lt;td&gt;</span>tipo_pedido_origem_nome_local<span class="nt">&lt;/td&gt;</span>
                <span class="nt">&lt;td&gt;&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">id=</span><span class="s">"tipo_pedido_origem_nome_local"</span><span class="nt">&gt;&lt;/td&gt;</span>
            <span class="nt">&lt;/tr&gt;</span>
            <span class="nt">&lt;tr&gt;</span>
                <span class="nt">&lt;td&gt;</span>tipo_poder_codigo_local<span class="nt">&lt;/td&gt;</span>
                <span class="nt">&lt;td&gt;&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">id=</span><span class="s">"tipo_poder_codigo_local"</span><span class="nt">&gt;&lt;/td&gt;</span>
            <span class="nt">&lt;/tr&gt;</span>
            <span class="nt">&lt;tr&gt;</span>
                <span class="nt">&lt;td&gt;</span>tipo_poder_nome_local<span class="nt">&lt;/td&gt;</span>
                <span class="nt">&lt;td&gt;&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">id=</span><span class="s">"tipo_poder_nome_local"</span><span class="nt">&gt;&lt;/td&gt;</span>
            <span class="nt">&lt;/tr&gt;</span>
            <span class="nt">&lt;tr&gt;</span>
                <span class="nt">&lt;td&gt;</span>tipo_nivel_federativo_codigo_local<span class="nt">&lt;/td&gt;</span>
                <span class="nt">&lt;td&gt;&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">id=</span><span class="s">"tipo_nivel_federativo_codigo_local"</span><span class="nt">&gt;&lt;/td&gt;</span>
            <span class="nt">&lt;/tr&gt;</span>
            <span class="nt">&lt;tr&gt;</span>
                <span class="nt">&lt;td&gt;</span>tipo_podertipo_nivel_federativo_nome_local_nome_local<span class="nt">&lt;/td&gt;</span>
                <span class="nt">&lt;td&gt;&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">id=</span><span class="s">"tipo_nivel_federativo_nome_local"</span><span class="nt">&gt;&lt;/td&gt;</span>
            <span class="nt">&lt;/tr&gt;</span>
            <span class="nt">&lt;tr&gt;</span>
                <span class="nt">&lt;td&gt;</span>pedidos_protocolo_local<span class="nt">&lt;/td&gt;</span>
                <span class="nt">&lt;td&gt;&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">id=</span><span class="s">"pedidos_protocolo_local"</span><span class="nt">&gt;&lt;/td&gt;</span>
            <span class="nt">&lt;/tr&gt;</span>
            <span class="nt">&lt;tr&gt;</span>
                <span class="nt">&lt;td&gt;</span>pedidos_titulo_local<span class="nt">&lt;/td&gt;</span>
                <span class="nt">&lt;td&gt;&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">id=</span><span class="s">"pedidos_titulo_local"</span><span class="nt">&gt;&lt;/td&gt;</span>
            <span class="nt">&lt;/tr&gt;</span>
            <span class="nt">&lt;tr&gt;</span>
                <span class="nt">&lt;td&gt;</span>pedidos_slug_local<span class="nt">&lt;/td&gt;</span>
                <span class="nt">&lt;td&gt;&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">id=</span><span class="s">"pedidos_slug_local"</span><span class="nt">&gt;&lt;/td&gt;</span>
            <span class="nt">&lt;/tr&gt;</span>
            <span class="nt">&lt;tr&gt;</span>   
                <span class="nt">&lt;td&gt;</span>pedidos_descricao_local<span class="nt">&lt;/td&gt;</span>
                <span class="nt">&lt;td&gt;&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">id=</span><span class="s">"pedidos_descricao_local"</span><span class="nt">&gt;&lt;/td&gt;</span>
            <span class="nt">&lt;/tr&gt;</span>
            <span class="nt">&lt;tr&gt;</span>
                <span class="nt">&lt;td&gt;</span>pedidos_foi_prorrogado_local<span class="nt">&lt;/td&gt;</span>
                <span class="nt">&lt;td&gt;&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">id=</span><span class="s">"pedidos_foi_prorrogado_local"</span><span class="nt">&gt;&lt;/td&gt;</span>
            <span class="nt">&lt;/tr&gt;</span>
            <span class="nt">&lt;tr&gt;</span>
                <span class="nt">&lt;td&gt;</span>pedidos_anonimo_local<span class="nt">&lt;/td&gt;</span>
                <span class="nt">&lt;td&gt;&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">id=</span><span class="s">"pedidos_anonimo_local"</span><span class="nt">&gt;&lt;/td&gt;</span>
            <span class="nt">&lt;/tr&gt;</span>
            <span class="nt">&lt;tr&gt;</span>
                <span class="nt">&lt;td&gt;</span>pedidos_data_envio_local<span class="nt">&lt;/td&gt;</span>
                <span class="nt">&lt;td&gt;&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">id=</span><span class="s">"pedidos_data_envio_local"</span><span class="nt">&gt;&lt;/td&gt;</span>
            <span class="nt">&lt;/tr&gt;</span>
            <span class="nt">&lt;tr&gt;</span>
                <span class="nt">&lt;td&gt;</span>pedidos_enviado_para_local<span class="nt">&lt;/td&gt;</span>
                <span class="nt">&lt;td&gt;&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">id=</span><span class="s">"pedidos_enviado_para_local"</span><span class="nt">&gt;&lt;/td&gt;</span>
            <span class="nt">&lt;/tr&gt;</span>
            <span class="nt">&lt;tr&gt;</span>
                <span class="nt">&lt;td&gt;</span>tipo_pedidos_resposta_codigo<span class="nt">&lt;/td&gt;</span>
                <span class="nt">&lt;td&gt;&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">id=</span><span class="s">"tipo_pedidos_resposta_codigo"</span><span class="nt">&gt;&lt;/td&gt;</span>
            <span class="nt">&lt;/tr&gt;</span>
            <span class="nt">&lt;tr&gt;</span>
                <span class="nt">&lt;td&gt;</span>tipo_pedidos_resposta_nome<span class="nt">&lt;/td&gt;</span>
                <span class="nt">&lt;td&gt;&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">id=</span><span class="s">"tipo_pedidos_resposta_nome"</span><span class="nt">&gt;&lt;/td&gt;</span>
            <span class="nt">&lt;/tr&gt;</span>
            <span class="nt">&lt;tr&gt;&lt;td</span> <span class="na">colspan=</span><span class="s">"2"</span><span class="nt">&gt;&lt;input</span> <span class="na">type=</span><span class="s">"button"</span> <span class="na">id=</span><span class="s">"btnCriar"</span> <span class="na">value=</span><span class="s">"Criar"</span><span class="nt">&gt;&lt;/td&gt;&lt;/tr&gt;</span>
        <span class="nt">&lt;/table&gt;</span>
    <span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span>

</code></pre>
<blockquote>
<p>O código acima retorna o objeto abaixo em caso de sucesso:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>O código acima retorna o objeto abaixo em caso de erro:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"error"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"source"</span><span class="p">:</span><span class="w"> </span><span class="s2">"..."</span><span class="p">,</span><span class="w">
        </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"..."</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Este endpoint serve pra criar pedidos no elasticsearch, caso o código do pedido já tenha sido utilizado, o endpoint resultará em erro. </p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">PUT /achadosepedidos.org.br/api/pedidos/criar/$CODIGO_PEDIDO</code></p>

<h3 id="par-metros-querystring">Parâmetros - Querystring</h3>

<table><thead>
<tr>
<th>Parâmetro</th>
<th>Tipo</th>
<th>Observação</th>
</tr>
</thead><tbody>
<tr>
<td>CODIGO_PEDIDO</td>
<td>Número</td>
<td>Obrigatório</td>
</tr>
</tbody></table>

<h3 id="par-metros-do-request">Parâmetros do Request</h3>

<table><thead>
<tr>
<th>Parâmetro</th>
<th>Tipo</th>
<th>Observação</th>
</tr>
</thead><tbody>
<tr>
<td>agentes_codigo_local</td>
<td>Número</td>
<td></td>
</tr>
<tr>
<td>agentes_nome_local</td>
<td>Texto</td>
<td></td>
</tr>
<tr>
<td>usuarios_codigo_local</td>
<td>Número</td>
<td></td>
</tr>
<tr>
<td>usuarios_email_local</td>
<td>Texto</td>
<td></td>
</tr>
<tr>
<td>usuarios_nome_local</td>
<td>Texto</td>
<td></td>
</tr>
<tr>
<td>status_pedido_codigo_local</td>
<td>Número</td>
<td></td>
</tr>
<tr>
<td>status_pedido_interno_codigo_local</td>
<td>Número</td>
<td></td>
</tr>
<tr>
<td>status_pedido_interno_nome_local</td>
<td>Texto</td>
<td></td>
</tr>
<tr>
<td>status_pedido_nome_local</td>
<td>Texto</td>
<td></td>
</tr>
<tr>
<td>tipo_pedido_situacao_codigo_local</td>
<td>Número</td>
<td></td>
</tr>
<tr>
<td>tipo_pedido_situacao_nome_local</td>
<td>Texto</td>
<td></td>
</tr>
<tr>
<td>tipo_pedido_origem_codigo_local</td>
<td>Número</td>
<td></td>
</tr>
<tr>
<td>tipo_pedido_origem_nome_local</td>
<td>Texto</td>
<td></td>
</tr>
<tr>
<td>tipo_poder_codigo_local</td>
<td>Número</td>
<td></td>
</tr>
<tr>
<td>tipo_poder_nome_local</td>
<td>Texto</td>
<td></td>
</tr>
<tr>
<td>tipo_nivel_federativo_codigo_local</td>
<td>Número</td>
<td></td>
</tr>
<tr>
<td>tipo_nivel_federativo_nome_local</td>
<td>Texto</td>
<td></td>
</tr>
<tr>
<td>pedidos_protocolo_local</td>
<td>Texto</td>
<td></td>
</tr>
<tr>
<td>pedidos_titulo_local</td>
<td>Texto</td>
<td></td>
</tr>
<tr>
<td>pedidos_slug_local</td>
<td>Texto</td>
<td></td>
</tr>
<tr>
<td>pedidos_descricao_local</td>
<td>Texto</td>
<td></td>
</tr>
<tr>
<td>pedidos_foi_prorrogado_local</td>
<td>Texto</td>
<td></td>
</tr>
<tr>
<td>pedidos_anonimo_local</td>
<td>Texto</td>
<td></td>
</tr>
<tr>
<td>pedidos_data_envio_local</td>
<td>Texto</td>
<td>Timestamp em formato &ldquo;aaaa-mm-dd&rdquo;</td>
</tr>
<tr>
<td>pedidos_enviado_para_local</td>
<td>Texto</td>
<td></td>
</tr>
<tr>
<td>tipo_pedidos_resposta_codigo</td>
<td>Número</td>
<td></td>
</tr>
<tr>
<td>tipo_pedidos_resposta_nome</td>
<td>Texto</td>
<td></td>
</tr>
</tbody></table>

<h2 id="gravar-pedido">Gravar pedido</h2>
<pre class="highlight javascript"><code>
<span class="nx">$</span><span class="p">(</span><span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>

    <span class="nx">$</span><span class="p">(</span><span class="nb">document</span><span class="p">).</span><span class="nx">ready</span><span class="p">(</span><span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
        <span class="nx">$</span><span class="p">(</span> <span class="s2">"#btnGravar"</span> <span class="p">).</span><span class="nx">click</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
            <span class="nx">gravar</span><span class="p">();</span>
        <span class="p">});</span>        
    <span class="p">});</span>

    <span class="kd">function</span> <span class="nx">gravar</span><span class="p">()</span> <span class="p">{</span>

        <span class="kd">var</span> <span class="nx">data</span> <span class="o">=</span> <span class="p">{</span> 
            <span class="s2">"agentes_codigo_local"</span> <span class="p">:</span>  <span class="nx">$</span><span class="p">(</span><span class="s1">'#agentes_codigo_local'</span><span class="p">).</span><span class="nx">val</span><span class="p">(),</span>
            <span class="s2">"agentes_nome_local"</span> <span class="p">:</span>  <span class="nx">$</span><span class="p">(</span><span class="s1">'#agentes_nome_local'</span><span class="p">).</span><span class="nx">val</span><span class="p">(),</span>
            <span class="s2">"usuarios_codigo_local"</span> <span class="p">:</span>  <span class="nx">$</span><span class="p">(</span><span class="s1">'#usuarios_codigo_local'</span><span class="p">).</span><span class="nx">val</span><span class="p">(),</span>
            <span class="s2">"usuarios_email_local"</span> <span class="p">:</span>  <span class="nx">$</span><span class="p">(</span><span class="s1">'#usuarios_email_local'</span><span class="p">).</span><span class="nx">val</span><span class="p">(),</span>
            <span class="s2">"usuarios_nome_local"</span> <span class="p">:</span>  <span class="nx">$</span><span class="p">(</span><span class="s1">'#usuarios_nome_local'</span><span class="p">).</span><span class="nx">val</span><span class="p">(),</span>
            <span class="s2">"status_pedido_codigo_local"</span> <span class="p">:</span>  <span class="nx">$</span><span class="p">(</span><span class="s1">'#status_pedido_codigo_local'</span><span class="p">).</span><span class="nx">val</span><span class="p">(),</span>
            <span class="s2">"status_pedido_interno_codigo_local"</span> <span class="p">:</span>  <span class="nx">$</span><span class="p">(</span><span class="s1">'#status_pedido_interno_codigo_local'</span><span class="p">).</span><span class="nx">val</span><span class="p">(),</span>
            <span class="s2">"status_pedido_interno_nome_local"</span> <span class="p">:</span>  <span class="nx">$</span><span class="p">(</span><span class="s1">'#status_pedido_interno_nome_local'</span><span class="p">).</span><span class="nx">val</span><span class="p">(),</span>
            <span class="s2">"status_pedido_nome_local"</span> <span class="p">:</span>  <span class="nx">$</span><span class="p">(</span><span class="s1">'#status_pedido_nome_local'</span><span class="p">).</span><span class="nx">val</span><span class="p">(),</span>
            <span class="s2">"tipo_pedido_situacao_codigo_local"</span> <span class="p">:</span>  <span class="nx">$</span><span class="p">(</span><span class="s1">'#tipo_pedido_situacao_codigo_local'</span><span class="p">).</span><span class="nx">val</span><span class="p">(),</span>
            <span class="s2">"tipo_pedido_situacao_nome_local"</span> <span class="p">:</span>  <span class="nx">$</span><span class="p">(</span><span class="s1">'#tipo_pedido_situacao_nome_local'</span><span class="p">).</span><span class="nx">val</span><span class="p">(),</span>
            <span class="s2">"tipo_pedido_origem_codigo_local"</span>      <span class="p">:</span>  <span class="nx">$</span><span class="p">(</span><span class="s1">'#tipo_pedido_origem_codigo_local'</span><span class="p">).</span><span class="nx">val</span><span class="p">(),</span>
            <span class="s2">"tipo_pedido_origem_nome_local"</span> <span class="p">:</span>  <span class="nx">$</span><span class="p">(</span><span class="s1">'#tipo_pedido_origem_nome_local'</span><span class="p">).</span><span class="nx">val</span><span class="p">(),</span>
            <span class="s2">"tipo_poder_codigo_local"</span> <span class="p">:</span>  <span class="nx">$</span><span class="p">(</span><span class="s1">'#tipo_poder_codigo_local'</span><span class="p">).</span><span class="nx">val</span><span class="p">(),</span>
            <span class="s2">"tipo_poder_nome_local"</span> <span class="p">:</span>  <span class="nx">$</span><span class="p">(</span><span class="s1">'#tipo_poder_nome_local'</span><span class="p">).</span><span class="nx">val</span><span class="p">(),</span>
            <span class="s2">"tipo_nivel_federativo_codigo_local"</span> <span class="p">:</span> <span class="nx">$</span><span class="p">(</span><span class="s1">'#tipo_nivel_federativo_codigo_local'</span><span class="p">).</span><span class="nx">val</span><span class="p">(),</span>
            <span class="s2">"tipo_nivel_federativo_nome_local"</span> <span class="p">:</span> <span class="nx">$</span><span class="p">(</span><span class="s1">'#tipo_nivel_federativo_nome_local'</span><span class="p">).</span><span class="nx">val</span><span class="p">(),</span>
            <span class="s2">"pedidos_protocolo_local"</span> <span class="p">:</span>  <span class="nx">$</span><span class="p">(</span><span class="s1">'#pedidos_protocolo_local'</span><span class="p">).</span><span class="nx">val</span><span class="p">(),</span>
            <span class="s2">"pedidos_titulo_local"</span> <span class="p">:</span>  <span class="nx">$</span><span class="p">(</span><span class="s1">'#pedidos_titulo_local'</span><span class="p">).</span><span class="nx">val</span><span class="p">(),</span>
            <span class="s2">"pedidos_slug_local"</span> <span class="p">:</span>  <span class="nx">$</span><span class="p">(</span><span class="s1">'#pedidos_slug_local'</span><span class="p">).</span><span class="nx">val</span><span class="p">(),</span>
            <span class="s2">"pedidos_descricao_local"</span> <span class="p">:</span>  <span class="nx">$</span><span class="p">(</span><span class="s1">'#pedidos_descricao_local'</span><span class="p">).</span><span class="nx">val</span><span class="p">(),</span>
            <span class="s2">"pedidos_foi_prorrogado_local"</span> <span class="p">:</span>  <span class="nx">$</span><span class="p">(</span><span class="s1">'#pedidos_foi_prorrogado_local'</span><span class="p">).</span><span class="nx">val</span><span class="p">(),</span>
            <span class="s2">"pedidos_anonimo_local"</span> <span class="p">:</span>  <span class="nx">$</span><span class="p">(</span><span class="s1">'#pedidos_anonimo_local'</span><span class="p">).</span><span class="nx">val</span><span class="p">(),</span>
            <span class="s2">"pedidos_data_envio_local"</span> <span class="p">:</span>  <span class="nx">$</span><span class="p">(</span><span class="s1">'#pedidos_data_envio_local'</span><span class="p">).</span><span class="nx">val</span><span class="p">(),</span>
            <span class="s2">"pedidos_enviado_para_local"</span> <span class="p">:</span>  <span class="nx">$</span><span class="p">(</span><span class="s1">'#pedidos_enviado_para_local'</span><span class="p">).</span><span class="nx">val</span><span class="p">(),</span>
            <span class="s2">"tipo_pedidos_resposta_codigo"</span> <span class="p">:</span>  <span class="nx">$</span><span class="p">(</span><span class="s1">'#tipo_pedidos_resposta_codigo'</span><span class="p">).</span><span class="nx">val</span><span class="p">(),</span>
            <span class="s2">"tipo_pedidos_resposta_nome"</span> <span class="p">:</span>  <span class="nx">$</span><span class="p">(</span><span class="s1">'#tipo_pedidos_resposta_nome'</span><span class="p">).</span><span class="nx">val</span><span class="p">()</span>
        <span class="p">};</span>

        <span class="kd">var</span> <span class="nx">urlApi</span> <span class="o">=</span> <span class="s1">'/achadosepedidos.org.br/api/pedidos/gravar/'</span> <span class="o">+</span> <span class="nx">$</span><span class="p">(</span><span class="s1">'#codigo_pedido'</span><span class="p">).</span><span class="nx">val</span><span class="p">();</span>

        <span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">(</span><span class="nx">urlApi</span><span class="p">,</span> <span class="p">{</span>
            <span class="na">method</span><span class="p">:</span> <span class="s2">"PUT"</span><span class="p">,</span>
            <span class="na">data</span><span class="p">:</span> <span class="nx">data</span><span class="p">,</span>
            <span class="na">contentType</span><span class="p">:</span> <span class="s1">'application/x-www-form-urlencoded'</span><span class="p">,</span>
            <span class="na">dataType</span><span class="p">:</span> <span class="s2">"json"</span><span class="p">,</span>
            <span class="na">success</span><span class="p">:</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">result</span><span class="p">)</span> <span class="p">{</span>
                <span class="nx">alert</span><span class="p">(</span><span class="s2">"Pedido salvo"</span><span class="p">);</span>
            <span class="p">},</span>
            <span class="na">error</span><span class="p">:</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
                <span class="nx">alert</span><span class="p">(</span><span class="s2">"Erro"</span><span class="p">);</span>
            <span class="p">}</span>
        <span class="p">});</span>
    <span class="p">}</span>

<span class="p">});</span>

</code></pre><pre class="highlight html"><code><span class="cp">&lt;!DOCTYPE html&gt;</span>
<span class="nt">&lt;html</span> <span class="na">lang=</span><span class="s">"pt-BR"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;head&gt;</span>
        <span class="nt">&lt;title&gt;</span>Gravar Pedido<span class="nt">&lt;/title&gt;</span>
        <span class="nt">&lt;script </span><span class="na">src=</span><span class="s">"https://code.jquery.com/jquery-2.2.4.min.js"</span><span class="nt">&gt;&lt;/script&gt;</span>
    <span class="nt">&lt;/head&gt;</span>
    <span class="nt">&lt;body&gt;</span>
        <span class="nt">&lt;table&gt;</span>
            <span class="nt">&lt;tr&gt;</span>
                <span class="nt">&lt;td&gt;</span>codigo_pedido<span class="nt">&lt;/td&gt;</span>
                <span class="nt">&lt;td&gt;&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">id=</span><span class="s">"codigo_pedido"</span><span class="nt">&gt;&lt;/td&gt;</span>
            <span class="nt">&lt;/tr&gt;</span>
            <span class="nt">&lt;tr&gt;</span>
                <span class="nt">&lt;td&gt;</span>agentes_codigo_local<span class="nt">&lt;/td&gt;</span>
                <span class="nt">&lt;td&gt;&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">id=</span><span class="s">"agentes_codigo_local"</span><span class="nt">&gt;&lt;/td&gt;</span>
            <span class="nt">&lt;/tr&gt;</span>
            <span class="nt">&lt;tr&gt;</span>
                <span class="nt">&lt;td&gt;</span>agentes_nome_local<span class="nt">&lt;/td&gt;</span>
                <span class="nt">&lt;td&gt;&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">id=</span><span class="s">"agentes_nome_local"</span><span class="nt">&gt;&lt;/td&gt;</span>
            <span class="nt">&lt;/tr&gt;</span>
            <span class="nt">&lt;tr&gt;</span>
                <span class="nt">&lt;td&gt;</span>usuarios_codigo_local<span class="nt">&lt;/td&gt;</span>
                <span class="nt">&lt;td&gt;&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">id=</span><span class="s">"usuarios_codigo_local"</span><span class="nt">&gt;&lt;/td&gt;</span>
            <span class="nt">&lt;/tr&gt;</span>
            <span class="nt">&lt;tr&gt;</span>
                <span class="nt">&lt;td&gt;</span>usuarios_email_local<span class="nt">&lt;/td&gt;</span>
                <span class="nt">&lt;td&gt;&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">id=</span><span class="s">"usuarios_email_local"</span><span class="nt">&gt;&lt;/td&gt;</span>
            <span class="nt">&lt;/tr&gt;</span>
            <span class="nt">&lt;tr&gt;</span>
                <span class="nt">&lt;td&gt;</span>usuarios_nome_local<span class="nt">&lt;/td&gt;</span>
                <span class="nt">&lt;td&gt;&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">id=</span><span class="s">"usuarios_nome_local"</span><span class="nt">&gt;&lt;/td&gt;</span>
            <span class="nt">&lt;/tr&gt;</span>
            <span class="nt">&lt;tr&gt;</span>
                <span class="nt">&lt;td&gt;</span>status_pedido_codigo_local<span class="nt">&lt;/td&gt;</span>
                <span class="nt">&lt;td&gt;&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">id=</span><span class="s">"status_pedido_codigo_local"</span><span class="nt">&gt;&lt;/td&gt;</span>
            <span class="nt">&lt;/tr&gt;</span>
            <span class="nt">&lt;tr&gt;</span>
                <span class="nt">&lt;td&gt;</span>status_pedido_interno_codigo_local<span class="nt">&lt;/td&gt;</span>
                <span class="nt">&lt;td&gt;&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">id=</span><span class="s">"status_pedido_interno_codigo_local"</span><span class="nt">&gt;&lt;/td&gt;</span>
            <span class="nt">&lt;/tr&gt;</span>
            <span class="nt">&lt;tr&gt;</span>
                <span class="nt">&lt;td&gt;</span>status_pedido_interno_nome_local<span class="nt">&lt;/td&gt;</span>
                <span class="nt">&lt;td&gt;&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">id=</span><span class="s">"status_pedido_interno_nome_local"</span><span class="nt">&gt;&lt;/td&gt;</span>
            <span class="nt">&lt;/tr&gt;</span>
            <span class="nt">&lt;tr&gt;</span>
                <span class="nt">&lt;td&gt;</span>status_pedido_nome_local<span class="nt">&lt;/td&gt;</span>
                <span class="nt">&lt;td&gt;&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">id=</span><span class="s">"status_pedido_nome_local"</span><span class="nt">&gt;&lt;/td&gt;</span>
            <span class="nt">&lt;/tr&gt;</span>
            <span class="nt">&lt;tr&gt;</span>
                <span class="nt">&lt;td&gt;</span>tipo_pedido_situacao_codigo_local<span class="nt">&lt;/td&gt;</span>
                <span class="nt">&lt;td&gt;&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">id=</span><span class="s">"tipo_pedido_situacao_codigo_local"</span><span class="nt">&gt;&lt;/td&gt;</span>
            <span class="nt">&lt;/tr&gt;</span>
            <span class="nt">&lt;tr&gt;</span>
                <span class="nt">&lt;td&gt;</span>tipo_pedido_situacao_nome_local<span class="nt">&lt;/td&gt;</span>
                <span class="nt">&lt;td&gt;&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">id=</span><span class="s">"tipo_pedido_situacao_nome_local"</span><span class="nt">&gt;&lt;/td&gt;</span>
            <span class="nt">&lt;/tr&gt;</span>     
            <span class="nt">&lt;tr&gt;</span>
                <span class="nt">&lt;td&gt;</span>tipo_pedido_origem_codigo_local<span class="nt">&lt;/td&gt;</span>
                <span class="nt">&lt;td&gt;&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">id=</span><span class="s">"tipo_pedido_origem_codigo_local"</span><span class="nt">&gt;&lt;/td&gt;</span>
            <span class="nt">&lt;/tr&gt;</span>
            <span class="nt">&lt;tr&gt;</span>
                <span class="nt">&lt;td&gt;</span>tipo_pedido_origem_nome_local<span class="nt">&lt;/td&gt;</span>
                <span class="nt">&lt;td&gt;&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">id=</span><span class="s">"tipo_pedido_origem_nome_local"</span><span class="nt">&gt;&lt;/td&gt;</span>
            <span class="nt">&lt;/tr&gt;</span>

            <span class="nt">&lt;tr&gt;</span>
                <span class="nt">&lt;td&gt;</span>tipo_poder_codigo_local<span class="nt">&lt;/td&gt;</span>
                <span class="nt">&lt;td&gt;&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">id=</span><span class="s">"tipo_poder_codigo_local"</span><span class="nt">&gt;&lt;/td&gt;</span>
            <span class="nt">&lt;/tr&gt;</span>
            <span class="nt">&lt;tr&gt;</span>
                <span class="nt">&lt;td&gt;</span>tipo_poder_nome_local<span class="nt">&lt;/td&gt;</span>
                <span class="nt">&lt;td&gt;&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">id=</span><span class="s">"tipo_poder_nome_local"</span><span class="nt">&gt;&lt;/td&gt;</span>
            <span class="nt">&lt;/tr&gt;</span>

            <span class="nt">&lt;tr&gt;</span>
                <span class="nt">&lt;td&gt;</span>tipo_nivel_federativo_codigo_local<span class="nt">&lt;/td&gt;</span>
                <span class="nt">&lt;td&gt;&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">id=</span><span class="s">"tipo_nivel_federativo_codigo_local"</span><span class="nt">&gt;&lt;/td&gt;</span>
            <span class="nt">&lt;/tr&gt;</span>
            <span class="nt">&lt;tr&gt;</span>
                <span class="nt">&lt;td&gt;</span>tipo_nivel_federativo_nome_local<span class="nt">&lt;/td&gt;</span>
                <span class="nt">&lt;td&gt;&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">id=</span><span class="s">"tipo_nivel_federativo_nome_local"</span><span class="nt">&gt;&lt;/td&gt;</span>
            <span class="nt">&lt;/tr&gt;</span> 
            <span class="nt">&lt;tr&gt;</span>
                <span class="nt">&lt;td&gt;</span>pedidos_protocolo_local<span class="nt">&lt;/td&gt;</span>
                <span class="nt">&lt;td&gt;&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">id=</span><span class="s">"pedidos_protocolo_local"</span><span class="nt">&gt;&lt;/td&gt;</span>
            <span class="nt">&lt;/tr&gt;</span>
            <span class="nt">&lt;tr&gt;</span>
                <span class="nt">&lt;td&gt;</span>pedidos_titulo_local<span class="nt">&lt;/td&gt;</span>
                <span class="nt">&lt;td&gt;&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">id=</span><span class="s">"pedidos_titulo_local"</span><span class="nt">&gt;&lt;/td&gt;</span>
            <span class="nt">&lt;/tr&gt;</span>
            <span class="nt">&lt;tr&gt;</span>
                <span class="nt">&lt;td&gt;</span>pedidos_slug_local<span class="nt">&lt;/td&gt;</span>
                <span class="nt">&lt;td&gt;&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">id=</span><span class="s">"pedidos_slug_local"</span><span class="nt">&gt;&lt;/td&gt;</span>
            <span class="nt">&lt;/tr&gt;</span>
            <span class="nt">&lt;tr&gt;</span>   
                <span class="nt">&lt;td&gt;</span>pedidos_descricao_local<span class="nt">&lt;/td&gt;</span>
                <span class="nt">&lt;td&gt;&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">id=</span><span class="s">"pedidos_descricao_local"</span><span class="nt">&gt;&lt;/td&gt;</span>
            <span class="nt">&lt;/tr&gt;</span>
            <span class="nt">&lt;tr&gt;</span>
                <span class="nt">&lt;td&gt;</span>pedidos_foi_prorrogado_local<span class="nt">&lt;/td&gt;</span>
                <span class="nt">&lt;td&gt;&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">id=</span><span class="s">"pedidos_foi_prorrogado_local"</span><span class="nt">&gt;&lt;/td&gt;</span>
            <span class="nt">&lt;/tr&gt;</span>
            <span class="nt">&lt;tr&gt;</span>
                <span class="nt">&lt;td&gt;</span>pedidos_anonimo_local<span class="nt">&lt;/td&gt;</span>
                <span class="nt">&lt;td&gt;&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">id=</span><span class="s">"pedidos_anonimo_local"</span><span class="nt">&gt;&lt;/td&gt;</span>
            <span class="nt">&lt;/tr&gt;</span>
            <span class="nt">&lt;tr&gt;</span>
                <span class="nt">&lt;td&gt;</span>pedidos_data_envio_local<span class="nt">&lt;/td&gt;</span>
                <span class="nt">&lt;td&gt;&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">id=</span><span class="s">"pedidos_data_envio_local"</span><span class="nt">&gt;&lt;/td&gt;</span>
            <span class="nt">&lt;/tr&gt;</span>
            <span class="nt">&lt;tr&gt;</span>
                <span class="nt">&lt;td&gt;</span>pedidos_enviado_para_local<span class="nt">&lt;/td&gt;</span>
                <span class="nt">&lt;td&gt;&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">id=</span><span class="s">"pedidos_enviado_para_local"</span><span class="nt">&gt;&lt;/td&gt;</span>
            <span class="nt">&lt;/tr&gt;</span>
            <span class="nt">&lt;tr&gt;</span>
                <span class="nt">&lt;td&gt;</span>tipo_pedidos_resposta_codigo<span class="nt">&lt;/td&gt;</span>
                <span class="nt">&lt;td&gt;&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">id=</span><span class="s">"tipo_pedidos_resposta_codigo"</span><span class="nt">&gt;&lt;/td&gt;</span>
            <span class="nt">&lt;/tr&gt;</span>
            <span class="nt">&lt;tr&gt;</span>
                <span class="nt">&lt;td&gt;</span>tipo_pedidos_resposta_nome<span class="nt">&lt;/td&gt;</span>
                <span class="nt">&lt;td&gt;&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">id=</span><span class="s">"tipo_pedidos_resposta_nome"</span><span class="nt">&gt;&lt;/td&gt;</span>
            <span class="nt">&lt;/tr&gt;</span>
            <span class="nt">&lt;tr&gt;&lt;td</span> <span class="na">colspan=</span><span class="s">"2"</span><span class="nt">&gt;&lt;input</span> <span class="na">type=</span><span class="s">"button"</span> <span class="na">id=</span><span class="s">"btnGravar"</span> <span class="na">value=</span><span class="s">"Gravar"</span><span class="nt">&gt;&lt;/td&gt;&lt;/tr&gt;</span>
        <span class="nt">&lt;/table&gt;</span>
    <span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span>

</code></pre>
<blockquote>
<p>O código acima retorna o objeto abaixo em caso de sucesso:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>O código acima retorna o objeto abaixo em caso de erro:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"error"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"source"</span><span class="p">:</span><span class="w"> </span><span class="s2">"..."</span><span class="p">,</span><span class="w">
        </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"..."</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Este endpoint serve pra criar pedidos no elasticsearch, caso o código do pedido já tenha sido utilizado, o endpoint sobreescreverá o json no elasticsearch. </p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">PUT /achadosepedidos.org.br/api/pedidos/gravar/$CODIGO_PEDIDO</code></p>

<h3 id="par-metros-querystring">Parâmetros - Querystring</h3>

<table><thead>
<tr>
<th>Parâmetro</th>
<th>Tipo</th>
<th>Observação</th>
</tr>
</thead><tbody>
<tr>
<td>CODIGO_PEDIDO</td>
<td>Número</td>
<td>Obrigatório</td>
</tr>
</tbody></table>

<h3 id="par-metros-do-request">Parâmetros do Request</h3>

<table><thead>
<tr>
<th>Parâmetro</th>
<th>Tipo</th>
<th>Observação</th>
</tr>
</thead><tbody>
<tr>
<td>agentes_codigo_local</td>
<td>Número</td>
<td></td>
</tr>
<tr>
<td>agentes_nome_local</td>
<td>Texto</td>
<td></td>
</tr>
<tr>
<td>usuarios_codigo_local</td>
<td>Número</td>
<td></td>
</tr>
<tr>
<td>usuarios_email_local</td>
<td>Texto</td>
<td></td>
</tr>
<tr>
<td>usuarios_nome_local</td>
<td>Texto</td>
<td></td>
</tr>
<tr>
<td>status_pedido_codigo_local</td>
<td>Número</td>
<td></td>
</tr>
<tr>
<td>status_pedido_interno_codigo_local</td>
<td>Número</td>
<td></td>
</tr>
<tr>
<td>status_pedido_interno_nome_local</td>
<td>Texto</td>
<td></td>
</tr>
<tr>
<td>status_pedido_nome_local</td>
<td>Texto</td>
<td></td>
</tr>
<tr>
<td>tipo_pedido_situacao_codigo_local</td>
<td>Número</td>
<td></td>
</tr>
<tr>
<td>tipo_pedido_situacao_nome_local</td>
<td>Texto</td>
<td></td>
</tr>
<tr>
<td>tipo_pedido_origem_codigo_local</td>
<td>Número</td>
<td></td>
</tr>
<tr>
<td>tipo_pedido_origem_nome_local</td>
<td>Texto</td>
<td></td>
</tr>
<tr>
<td>tipo_poder_codigo_local</td>
<td>Número</td>
<td></td>
</tr>
<tr>
<td>tipo_poder_nome_local</td>
<td>Texto</td>
<td></td>
</tr>
<tr>
<td>tipo_nivel_federativo_codigo_local</td>
<td>Número</td>
<td></td>
</tr>
<tr>
<td>tipo_nivel_federativo_nome_local</td>
<td>Texto</td>
<td></td>
</tr>
<tr>
<td>pedidos_protocolo_local</td>
<td>Texto</td>
<td></td>
</tr>
<tr>
<td>pedidos_titulo_local</td>
<td>Texto</td>
<td></td>
</tr>
<tr>
<td>pedidos_slug_local</td>
<td>Texto</td>
<td></td>
</tr>
<tr>
<td>pedidos_descricao_local</td>
<td>Texto</td>
<td></td>
</tr>
<tr>
<td>pedidos_foi_prorrogado_local</td>
<td>Texto</td>
<td></td>
</tr>
<tr>
<td>pedidos_anonimo_local</td>
<td>Texto</td>
<td></td>
</tr>
<tr>
<td>pedidos_data_envio_local</td>
<td>Texto</td>
<td>Timestamp em formato &ldquo;aaaa-mm-dd&rdquo;</td>
</tr>
<tr>
<td>pedidos_enviado_para_local</td>
<td>Texto</td>
<td></td>
</tr>
<tr>
<td>tipo_pedidos_resposta_codigo</td>
<td>Número</td>
<td></td>
</tr>
<tr>
<td>tipo_pedidos_resposta_nome</td>
<td>Texto</td>
<td></td>
</tr>
</tbody></table>

<h2 id="apagar-pedido">Apagar pedido</h2>
<pre class="highlight javascript"><code>
<span class="nx">$</span><span class="p">(</span><span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>

    <span class="nx">$</span><span class="p">(</span><span class="nb">document</span><span class="p">).</span><span class="nx">ready</span><span class="p">(</span><span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
        <span class="nx">$</span><span class="p">(</span> <span class="s2">"#btnApagar"</span> <span class="p">).</span><span class="nx">click</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
            <span class="nx">apagar</span><span class="p">();</span>
        <span class="p">});</span>        
    <span class="p">});</span>

    <span class="kd">function</span> <span class="nx">apagar</span><span class="p">()</span> <span class="p">{</span>

        <span class="kd">var</span> <span class="nx">urlApi</span> <span class="o">=</span> <span class="s1">'/achadosepedidos.org.br/api/pedidos/apagar/'</span> <span class="o">+</span> <span class="nx">$</span><span class="p">(</span><span class="s1">'#codigo_pedido'</span><span class="p">).</span><span class="nx">val</span><span class="p">();</span>

        <span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">(</span><span class="nx">urlApi</span><span class="p">,</span> <span class="p">{</span>
            <span class="na">method</span><span class="p">:</span> <span class="s2">"DELETE"</span><span class="p">,</span>
            <span class="na">contentType</span><span class="p">:</span> <span class="s1">'application/x-www-form-urlencoded'</span><span class="p">,</span>
            <span class="na">dataType</span><span class="p">:</span> <span class="s2">"json"</span><span class="p">,</span>
            <span class="na">success</span><span class="p">:</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">result</span><span class="p">)</span> <span class="p">{</span>
                <span class="nx">alert</span><span class="p">(</span><span class="s2">"Pedido salvo"</span><span class="p">);</span>
            <span class="p">},</span>
            <span class="na">error</span><span class="p">:</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
                <span class="nx">alert</span><span class="p">(</span><span class="s2">"Erro"</span><span class="p">);</span>
            <span class="p">}</span>
        <span class="p">});</span>
    <span class="p">}</span>

<span class="p">});</span>

</code></pre><pre class="highlight html"><code><span class="cp">&lt;!DOCTYPE html&gt;</span>
<span class="nt">&lt;html</span> <span class="na">lang=</span><span class="s">"pt-BR"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;head&gt;</span>
        <span class="nt">&lt;title&gt;</span>Apagar Pedido<span class="nt">&lt;/title&gt;</span>
        <span class="nt">&lt;script </span><span class="na">src=</span><span class="s">"https://code.jquery.com/jquery-2.2.4.min.js"</span><span class="nt">&gt;&lt;/script&gt;</span>
    <span class="nt">&lt;/head&gt;</span>
    <span class="nt">&lt;body&gt;</span>
        <span class="nt">&lt;table&gt;</span>
            <span class="nt">&lt;tr&gt;</span>
                <span class="nt">&lt;td&gt;</span>codigo_pedido<span class="nt">&lt;/td&gt;</span>
                <span class="nt">&lt;td&gt;&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">id=</span><span class="s">"codigo_pedido"</span><span class="nt">&gt;&lt;/td&gt;</span>
            <span class="nt">&lt;/tr&gt;</span>
            <span class="nt">&lt;tr&gt;&lt;td</span> <span class="na">colspan=</span><span class="s">"2"</span><span class="nt">&gt;&lt;input</span> <span class="na">type=</span><span class="s">"button"</span> <span class="na">id=</span><span class="s">"btnApagar"</span> <span class="na">value=</span><span class="s">"Apagar"</span><span class="nt">&gt;&lt;/td&gt;&lt;/tr&gt;</span>
        <span class="nt">&lt;/table&gt;</span>
    <span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span>

</code></pre>
<blockquote>
<p>O código acima retorna o objeto abaixo em caso de sucesso:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>O código acima retorna o objeto abaixo em caso de erro:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"error"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"source"</span><span class="p">:</span><span class="w"> </span><span class="s2">"..."</span><span class="p">,</span><span class="w">
        </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"..."</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Este endpoint serve para apagar um pedido no elasticsearch. </p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">DELETE /achadosepedidos.org.br/api/pedidos/apagar/$CODIGO_PEDIDO</code></p>

<h3 id="par-metros-querystring">Parâmetros - Querystring</h3>

<table><thead>
<tr>
<th>Parâmetro</th>
<th>Tipo</th>
<th>Observação</th>
</tr>
</thead><tbody>
<tr>
<td>CODIGO_PEDIDO</td>
<td>Número</td>
<td>Obrigatório</td>
</tr>
</tbody></table>

<h2 id="consultar-pedido-por-id">Consultar pedido por ID</h2>
<pre class="highlight javascript"><code>
<span class="nx">$</span><span class="p">(</span><span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>

    <span class="nx">$</span><span class="p">(</span><span class="nb">document</span><span class="p">).</span><span class="nx">ready</span><span class="p">(</span><span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
        <span class="nx">$</span><span class="p">(</span> <span class="s2">"#btnConsultar"</span> <span class="p">).</span><span class="nx">click</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
            <span class="nx">consultar</span><span class="p">();</span>
        <span class="p">});</span>        
    <span class="p">});</span>

    <span class="kd">function</span> <span class="nx">consultar</span><span class="p">()</span> <span class="p">{</span>

        <span class="kd">var</span> <span class="nx">urlApi</span> <span class="o">=</span> <span class="s1">'/achadosepedidos.org.br/api/pedidos/consultar/'</span> <span class="o">+</span> <span class="nx">$</span><span class="p">(</span><span class="s1">'#codigo_pedido'</span><span class="p">).</span><span class="nx">val</span><span class="p">();</span>

        <span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">(</span><span class="nx">urlApi</span><span class="p">,</span> <span class="p">{</span>
            <span class="na">method</span><span class="p">:</span> <span class="s2">"GET"</span><span class="p">,</span>
            <span class="na">contentType</span><span class="p">:</span> <span class="s1">'application/x-www-form-urlencoded'</span><span class="p">,</span>
            <span class="na">dataType</span><span class="p">:</span> <span class="s2">"json"</span><span class="p">,</span>
            <span class="na">success</span><span class="p">:</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">result</span><span class="p">)</span> <span class="p">{</span>
                <span class="nx">alert</span><span class="p">(</span><span class="s2">"Pedido encontrado"</span><span class="p">);</span>
                <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">result</span><span class="p">);</span>
            <span class="p">},</span>
            <span class="na">error</span><span class="p">:</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
                <span class="nx">alert</span><span class="p">(</span><span class="s2">"Erro"</span><span class="p">);</span>
            <span class="p">}</span>
        <span class="p">});</span>
    <span class="p">}</span>

<span class="p">});</span>

</code></pre><pre class="highlight html"><code><span class="cp">&lt;!DOCTYPE html&gt;</span>
<span class="nt">&lt;html</span> <span class="na">lang=</span><span class="s">"pt-BR"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;head&gt;</span>
        <span class="nt">&lt;title&gt;</span>Consultar Pedido<span class="nt">&lt;/title&gt;</span>
        <span class="nt">&lt;script </span><span class="na">src=</span><span class="s">"https://code.jquery.com/jquery-2.2.4.min.js"</span><span class="nt">&gt;&lt;/script&gt;</span>
    <span class="nt">&lt;/head&gt;</span>
    <span class="nt">&lt;body&gt;</span>
        <span class="nt">&lt;table&gt;</span>
            <span class="nt">&lt;tr&gt;</span>
                <span class="nt">&lt;td&gt;</span>codigo_pedido<span class="nt">&lt;/td&gt;</span>
                <span class="nt">&lt;td&gt;&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">id=</span><span class="s">"codigo_pedido"</span><span class="nt">&gt;&lt;/td&gt;</span>
            <span class="nt">&lt;/tr&gt;</span>
            <span class="nt">&lt;tr&gt;&lt;td</span> <span class="na">colspan=</span><span class="s">"2"</span><span class="nt">&gt;&lt;input</span> <span class="na">type=</span><span class="s">"button"</span> <span class="na">id=</span><span class="s">"btnConsultar"</span> <span class="na">value=</span><span class="s">"Consultar"</span><span class="nt">&gt;&lt;/td&gt;&lt;/tr&gt;</span>
        <span class="nt">&lt;/table&gt;</span>
    <span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span>

</code></pre>
<blockquote>
<p>O código acima retorna o objeto abaixo em caso de sucesso:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"... objeto do pedido ..."</span><span class="w">
</span><span class="err">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>O código acima retorna o objeto abaixo em caso de erro:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"error"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"source"</span><span class="p">:</span><span class="w"> </span><span class="s2">"..."</span><span class="p">,</span><span class="w">
        </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"..."</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Este endpoint serve para consultar um pedido no elasticsearch através de seu ID. </p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET /achadosepedidos.org.br/api/pedidos/consultar/$CODIGO_PEDIDO</code></p>

<h3 id="par-metros-querystring">Parâmetros - Querystring</h3>

<table><thead>
<tr>
<th>Parâmetro</th>
<th>Tipo</th>
<th>Observação</th>
</tr>
</thead><tbody>
<tr>
<td>CODIGO_PEDIDO</td>
<td>Número</td>
<td>Obrigatório</td>
</tr>
</tbody></table>

<h2 id="consultar-pedido">Consultar pedido</h2>
<pre class="highlight javascript"><code>
<span class="nx">$</span><span class="p">(</span><span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>

    <span class="nx">$</span><span class="p">(</span><span class="nb">document</span><span class="p">).</span><span class="nx">ready</span><span class="p">(</span><span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
        <span class="nx">$</span><span class="p">(</span> <span class="s2">"#btnConsultar"</span> <span class="p">).</span><span class="nx">click</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
            <span class="nx">consultar</span><span class="p">();</span>
        <span class="p">});</span>        
    <span class="p">});</span>

    <span class="kd">function</span> <span class="nx">consultar</span><span class="p">()</span> <span class="p">{</span>

        <span class="kd">var</span> <span class="nx">data</span> <span class="o">=</span> <span class="p">{</span> 
            <span class="s2">"value"</span> <span class="p">:</span>  <span class="nx">$</span><span class="p">(</span><span class="s1">'#value'</span><span class="p">).</span><span class="nx">val</span><span class="p">()</span>
        <span class="p">};</span>

        <span class="kd">var</span> <span class="nx">urlApi</span> <span class="o">=</span> <span class="s1">'/achadosepedidos.org.br/api/pedidos/consultar/'</span><span class="p">;</span>

        <span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">(</span><span class="nx">urlApi</span><span class="p">,</span> <span class="p">{</span>
            <span class="na">method</span><span class="p">:</span> <span class="s2">"POST"</span><span class="p">,</span>
            <span class="na">contentType</span><span class="p">:</span> <span class="s1">'application/x-www-form-urlencoded'</span><span class="p">,</span>
            <span class="na">dataType</span><span class="p">:</span> <span class="s2">"json"</span><span class="p">,</span>
            <span class="na">data</span><span class="p">:</span> <span class="nx">data</span><span class="p">,</span>
            <span class="na">success</span><span class="p">:</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">result</span><span class="p">)</span> <span class="p">{</span>
                <span class="nx">alert</span><span class="p">(</span><span class="s2">"Pedido encontrado"</span><span class="p">);</span>
                <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">result</span><span class="p">);</span>
            <span class="p">},</span>
            <span class="na">error</span><span class="p">:</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
                <span class="nx">alert</span><span class="p">(</span><span class="s2">"Erro"</span><span class="p">);</span>
            <span class="p">}</span>
        <span class="p">});</span>
    <span class="p">}</span>

<span class="p">});</span>

</code></pre><pre class="highlight html"><code><span class="cp">&lt;!DOCTYPE html&gt;</span>
<span class="nt">&lt;html</span> <span class="na">lang=</span><span class="s">"pt-BR"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;head&gt;</span>
        <span class="nt">&lt;title&gt;</span>Consultar Pedido<span class="nt">&lt;/title&gt;</span>
        <span class="nt">&lt;script </span><span class="na">src=</span><span class="s">"https://code.jquery.com/jquery-2.2.4.min.js"</span><span class="nt">&gt;&lt;/script&gt;</span>
    <span class="nt">&lt;/head&gt;</span>
    <span class="nt">&lt;body&gt;</span>
        <span class="nt">&lt;table&gt;</span>
            <span class="nt">&lt;tr&gt;</span>
                <span class="nt">&lt;td&gt;</span>Value<span class="nt">&lt;/td&gt;</span>
                <span class="nt">&lt;td&gt;&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">id=</span><span class="s">"value"</span><span class="nt">&gt;&lt;/td&gt;</span>
            <span class="nt">&lt;/tr&gt;</span>
            <span class="nt">&lt;tr&gt;&lt;td</span> <span class="na">colspan=</span><span class="s">"2"</span><span class="nt">&gt;&lt;input</span> <span class="na">type=</span><span class="s">"button"</span> <span class="na">id=</span><span class="s">"btnConsultar"</span> <span class="na">value=</span><span class="s">"Consultar"</span><span class="nt">&gt;&lt;/td&gt;&lt;/tr&gt;</span>
        <span class="nt">&lt;/table&gt;</span>
    <span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span>

</code></pre>
<blockquote>
<p>O código acima retorna o objeto abaixo em caso de sucesso:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"total"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nt">"max_score"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"hits"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"... array de pedidos ..."</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>O código acima retorna o objeto abaixo em caso de erro:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"error"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"source"</span><span class="p">:</span><span class="w"> </span><span class="s2">"..."</span><span class="p">,</span><span class="w">
        </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"..."</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Este endpoint serve para consultar um pedido no elasticsearch através de qualquer palavra inserida no corpo do pedido.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST /achadosepedidos.org.br/api/pedidos/consultar/</code></p>

<h3 id="par-metros-querystring">Parâmetros - Querystring</h3>

<table><thead>
<tr>
<th>Parâmetro</th>
<th>Tipo</th>
<th>Observação</th>
</tr>
</thead><tbody>
<tr>
<td>value</td>
<td>Texto</td>
<td>Obrigatório</td>
</tr>
</tbody></table>

<h2 id="contar-pedidos">Contar pedidos</h2>
<pre class="highlight javascript"><code>
<span class="nx">$</span><span class="p">(</span><span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>

    <span class="nx">$</span><span class="p">(</span><span class="nb">document</span><span class="p">).</span><span class="nx">ready</span><span class="p">(</span><span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
        <span class="nx">$</span><span class="p">(</span> <span class="s2">"#btnConsultar"</span> <span class="p">).</span><span class="nx">click</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
            <span class="nx">consultar</span><span class="p">();</span>
        <span class="p">});</span>        
    <span class="p">});</span>

    <span class="kd">function</span> <span class="nx">consultar</span><span class="p">()</span> <span class="p">{</span>

        <span class="kd">var</span> <span class="nx">urlApi</span> <span class="o">=</span> <span class="s1">'/achadosepedidos.org.br/api/pedidos/contar/'</span><span class="p">;</span>

        <span class="kd">var</span> <span class="nx">data</span> <span class="o">=</span> <span class="p">{</span> 
            <span class="s2">"value"</span> <span class="p">:</span>  <span class="nx">$</span><span class="p">(</span><span class="s1">'#value'</span><span class="p">).</span><span class="nx">val</span><span class="p">()</span>
        <span class="p">};</span>

        <span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">(</span><span class="nx">urlApi</span><span class="p">,</span> <span class="p">{</span>
            <span class="na">method</span><span class="p">:</span> <span class="s2">"POST"</span><span class="p">,</span>
            <span class="na">contentType</span><span class="p">:</span> <span class="s1">'application/x-www-form-urlencoded'</span><span class="p">,</span>
            <span class="na">dataType</span><span class="p">:</span> <span class="s2">"json"</span><span class="p">,</span>
            <span class="na">data</span><span class="p">:</span> <span class="nx">data</span><span class="p">,</span>
            <span class="na">success</span><span class="p">:</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">result</span><span class="p">)</span> <span class="p">{</span>
                <span class="nx">alert</span><span class="p">(</span><span class="nx">result</span><span class="p">);</span>
                <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">result</span><span class="p">);</span>
            <span class="p">},</span>
            <span class="na">error</span><span class="p">:</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
                <span class="nx">alert</span><span class="p">(</span><span class="s2">"Erro"</span><span class="p">);</span>
            <span class="p">}</span>
        <span class="p">});</span>
    <span class="p">}</span>

<span class="p">});</span>

</code></pre><pre class="highlight html"><code><span class="cp">&lt;!DOCTYPE html&gt;</span>
<span class="nt">&lt;html</span> <span class="na">lang=</span><span class="s">"pt-BR"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;head&gt;</span>
        <span class="nt">&lt;title&gt;</span>Contar Pedidos<span class="nt">&lt;/title&gt;</span>
        <span class="nt">&lt;script </span><span class="na">src=</span><span class="s">"https://code.jquery.com/jquery-2.2.4.min.js"</span><span class="nt">&gt;&lt;/script&gt;</span>
    <span class="nt">&lt;/head&gt;</span>
    <span class="nt">&lt;body&gt;</span>
        <span class="nt">&lt;table&gt;</span>
            <span class="nt">&lt;tr&gt;</span>
                <span class="nt">&lt;td&gt;</span>Valor<span class="nt">&lt;/td&gt;</span>
                <span class="nt">&lt;td&gt;&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">id=</span><span class="s">"value"</span><span class="nt">&gt;&lt;/td&gt;</span>
            <span class="nt">&lt;/tr&gt;</span>
            <span class="nt">&lt;tr&gt;&lt;td</span> <span class="na">colspan=</span><span class="s">"2"</span><span class="nt">&gt;&lt;input</span> <span class="na">type=</span><span class="s">"button"</span> <span class="na">id=</span><span class="s">"btnConsultar"</span> <span class="na">value=</span><span class="s">"Consultar"</span><span class="nt">&gt;&lt;/td&gt;&lt;/tr&gt;</span>
        <span class="nt">&lt;/table&gt;</span>
    <span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span>

</code></pre>
<blockquote>
<p>O código acima retorna número inteiro com a quantidade de documentos que satisfazem a pesquisa:</p>
</blockquote>
<pre class="highlight json"><code><span class="mi">0</span><span class="w">
</span></code></pre>
<blockquote>
<p>O código acima retorna o objeto abaixo em caso de erro:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"error"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"source"</span><span class="p">:</span><span class="w"> </span><span class="s2">"..."</span><span class="p">,</span><span class="w">
        </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"..."</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Este endpoint serve para contar a quantidade de pedidos no elasticsearch através de qualquer palavra inserida no corpo do pedido. </p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST /achadosepedidos.org.br/api/pedidos/contar/</code></p>

<h3 id="par-metros-querystring">Parâmetros - Querystring</h3>

<table><thead>
<tr>
<th>Parâmetro</th>
<th>Tipo</th>
<th>Observação</th>
</tr>
</thead><tbody>
<tr>
<td>value</td>
<td>Texto</td>
<td>Obrigatório</td>
</tr>
</tbody></table>

<h1 id="intera-es">Interações</h1>

<h2 id="criar-intera-o">Criar interação</h2>
<pre class="highlight javascript"><code>
<span class="nx">$</span><span class="p">(</span><span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>

    <span class="nx">$</span><span class="p">(</span><span class="nb">document</span><span class="p">).</span><span class="nx">ready</span><span class="p">(</span><span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
        <span class="nx">$</span><span class="p">(</span> <span class="s2">"#btnCriar"</span> <span class="p">).</span><span class="nx">click</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
            <span class="nx">criar</span><span class="p">();</span>
        <span class="p">});</span>        
    <span class="p">});</span>

    <span class="kd">function</span> <span class="nx">criar</span><span class="p">()</span> <span class="p">{</span>

        <span class="kd">var</span> <span class="nx">data</span> <span class="o">=</span> <span class="p">{</span> 
            <span class="s2">"pedidos_codigo"</span> <span class="p">:</span>  <span class="nx">$</span><span class="p">(</span><span class="s1">'#pedidos_codigo'</span><span class="p">).</span><span class="nx">val</span><span class="p">(),</span>
            <span class="s2">"usuarios_codigo"</span> <span class="p">:</span>  <span class="nx">$</span><span class="p">(</span><span class="s1">'#usuarios_codigo'</span><span class="p">).</span><span class="nx">val</span><span class="p">(),</span>
            <span class="s2">"usuarios_nome"</span> <span class="p">:</span>  <span class="nx">$</span><span class="p">(</span><span class="s1">'#usuarios_nome'</span><span class="p">).</span><span class="nx">val</span><span class="p">(),</span>
            <span class="s2">"usuarios_email"</span> <span class="p">:</span>  <span class="nx">$</span><span class="p">(</span><span class="s1">'#usuarios_email'</span><span class="p">).</span><span class="nx">val</span><span class="p">(),</span>
            <span class="s2">"agentes_codigo"</span> <span class="p">:</span>  <span class="nx">$</span><span class="p">(</span><span class="s1">'#agentes_codigo'</span><span class="p">).</span><span class="nx">val</span><span class="p">(),</span>
            <span class="s2">"agentes_nome"</span> <span class="p">:</span>  <span class="nx">$</span><span class="p">(</span><span class="s1">'#agentes_nome'</span><span class="p">).</span><span class="nx">val</span><span class="p">(),</span>
            <span class="s2">"tipo_pedido_situacao_codigo"</span> <span class="p">:</span>  <span class="nx">$</span><span class="p">(</span><span class="s1">'#tipo_pedido_situacao_codigo'</span><span class="p">).</span><span class="nx">val</span><span class="p">(),</span>
            <span class="s2">"tipo_pedido_situacao_nome"</span> <span class="p">:</span>  <span class="nx">$</span><span class="p">(</span><span class="s1">'#tipo_pedido_situacao_nome'</span><span class="p">).</span><span class="nx">val</span><span class="p">(),</span>
            <span class="s2">"status_pedido_codigo"</span> <span class="p">:</span>  <span class="nx">$</span><span class="p">(</span><span class="s1">'#status_pedido_codigo'</span><span class="p">).</span><span class="nx">val</span><span class="p">(),</span>
            <span class="s2">"status_pedido_nome"</span> <span class="p">:</span>  <span class="nx">$</span><span class="p">(</span><span class="s1">'#status_pedido_nome'</span><span class="p">).</span><span class="nx">val</span><span class="p">(),</span>
            <span class="s2">"status_pedido_interno_codigo"</span> <span class="p">:</span>  <span class="nx">$</span><span class="p">(</span><span class="s1">'#status_pedido_interno_codigo'</span><span class="p">).</span><span class="nx">val</span><span class="p">(),</span>
            <span class="s2">"status_pedido_interno_nome"</span> <span class="p">:</span>  <span class="nx">$</span><span class="p">(</span><span class="s1">'#status_pedido_interno_nome'</span><span class="p">).</span><span class="nx">val</span><span class="p">(),</span>
            <span class="s2">"tipo_pedido_origem_codigo"</span>      <span class="p">:</span>  <span class="nx">$</span><span class="p">(</span><span class="s1">'#tipo_pedido_origem_codigo'</span><span class="p">).</span><span class="nx">val</span><span class="p">(),</span>
            <span class="s2">"tipo_pedido_origem_nome"</span> <span class="p">:</span>  <span class="nx">$</span><span class="p">(</span><span class="s1">'#tipo_pedido_origem_nome'</span><span class="p">).</span><span class="nx">val</span><span class="p">(),</span>
            <span class="s2">"tipo_poder_codigo"</span> <span class="p">:</span>  <span class="nx">$</span><span class="p">(</span><span class="s1">'#tipo_poder_codigo'</span><span class="p">).</span><span class="nx">val</span><span class="p">(),</span>
            <span class="s2">"tipo_poder_nome"</span> <span class="p">:</span>  <span class="nx">$</span><span class="p">(</span><span class="s1">'#tipo_poder_nome'</span><span class="p">).</span><span class="nx">val</span><span class="p">(),</span>
            <span class="s2">"tipo_nivel_federativo_codigo"</span> <span class="p">:</span> <span class="nx">$</span><span class="p">(</span><span class="s1">'#tipo_nivel_federativo_codigo'</span><span class="p">).</span><span class="nx">val</span><span class="p">(),</span>
            <span class="s2">"tipo_nivel_federativo_nome"</span> <span class="p">:</span> <span class="nx">$</span><span class="p">(</span><span class="s1">'#tipo_nivel_federativo_nome'</span><span class="p">).</span><span class="nx">val</span><span class="p">(),</span>
            <span class="s2">"pedidos_protocolo"</span> <span class="p">:</span>  <span class="nx">$</span><span class="p">(</span><span class="s1">'#pedidos_protocolo'</span><span class="p">).</span><span class="nx">val</span><span class="p">(),</span>
            <span class="s2">"pedidos_titulo"</span> <span class="p">:</span>  <span class="nx">$</span><span class="p">(</span><span class="s1">'#pedidos_titulo'</span><span class="p">).</span><span class="nx">val</span><span class="p">(),</span>
            <span class="s2">"pedidos_slug"</span> <span class="p">:</span>  <span class="nx">$</span><span class="p">(</span><span class="s1">'#pedidos_slug'</span><span class="p">).</span><span class="nx">val</span><span class="p">(),</span>
            <span class="s2">"pedidos_descricao"</span> <span class="p">:</span>  <span class="nx">$</span><span class="p">(</span><span class="s1">'#pedidos_descricao'</span><span class="p">).</span><span class="nx">val</span><span class="p">(),</span>
            <span class="s2">"pedidos_enviado_para"</span> <span class="p">:</span>  <span class="nx">$</span><span class="p">(</span><span class="s1">'#pedidos_enviado_para'</span><span class="p">).</span><span class="nx">val</span><span class="p">(),</span>
            <span class="s2">"pedidos_data_envio"</span> <span class="p">:</span>  <span class="nx">$</span><span class="p">(</span><span class="s1">'#pedidos_data_envio'</span><span class="p">).</span><span class="nx">val</span><span class="p">(),</span>
            <span class="s2">"pedidos_foi_prorrogado"</span> <span class="p">:</span>  <span class="nx">$</span><span class="p">(</span><span class="s1">'#pedidos_foi_prorrogado'</span><span class="p">).</span><span class="nx">val</span><span class="p">(),</span>
            <span class="s2">"pedidos_anonimo"</span> <span class="p">:</span>  <span class="nx">$</span><span class="p">(</span><span class="s1">'#pedidos_anonimo'</span><span class="p">).</span><span class="nx">val</span><span class="p">(),</span>
            <span class="s2">"interacoes_codigo_local"</span> <span class="p">:</span>  <span class="nx">$</span><span class="p">(</span><span class="s1">'#interacoes_codigo_local'</span><span class="p">).</span><span class="nx">val</span><span class="p">(),</span>
            <span class="s2">"tipo_pedidos_resposta_codigo_local"</span> <span class="p">:</span>  <span class="nx">$</span><span class="p">(</span><span class="s1">'#tipo_pedidos_resposta_codigo_local'</span><span class="p">).</span><span class="nx">val</span><span class="p">(),</span>
            <span class="s2">"tipo_pedidos_resposta_nome_local"</span> <span class="p">:</span>  <span class="nx">$</span><span class="p">(</span><span class="s1">'#tipo_pedidos_resposta_nome_local'</span><span class="p">).</span><span class="nx">val</span><span class="p">(),</span>
            <span class="s2">"interacoes_descricao_local"</span> <span class="p">:</span>  <span class="nx">$</span><span class="p">(</span><span class="s1">'#interacoes_descricao_local'</span><span class="p">).</span><span class="nx">val</span><span class="p">(),</span>
            <span class="s2">"interacoes_data_resposta_local"</span> <span class="p">:</span>  <span class="nx">$</span><span class="p">(</span><span class="s1">'#interacoes_data_resposta_local'</span><span class="p">).</span><span class="nx">val</span><span class="p">()</span>
        <span class="p">};</span>

        <span class="kd">var</span> <span class="nx">urlApi</span> <span class="o">=</span> <span class="s1">'/achadosepedidos.org.br/api/interacoes/criar/'</span> <span class="o">+</span> <span class="nx">$</span><span class="p">(</span><span class="s1">'#interacoes_codigo_local'</span><span class="p">).</span><span class="nx">val</span><span class="p">();</span>

        <span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">(</span><span class="nx">urlApi</span><span class="p">,</span> <span class="p">{</span>
            <span class="na">method</span><span class="p">:</span> <span class="s2">"PUT"</span><span class="p">,</span>
            <span class="na">data</span><span class="p">:</span> <span class="nx">data</span><span class="p">,</span>
            <span class="na">contentType</span><span class="p">:</span> <span class="s1">'application/x-www-form-urlencoded'</span><span class="p">,</span>
            <span class="na">dataType</span><span class="p">:</span> <span class="s2">"json"</span><span class="p">,</span>
            <span class="na">success</span><span class="p">:</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">result</span><span class="p">)</span> <span class="p">{</span>
                <span class="nx">alert</span><span class="p">(</span><span class="s2">"Interação criada"</span><span class="p">);</span>
            <span class="p">},</span>
            <span class="na">error</span><span class="p">:</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
                <span class="nx">alert</span><span class="p">(</span><span class="s2">"Erro"</span><span class="p">);</span>
            <span class="p">}</span>
        <span class="p">});</span>
    <span class="p">}</span>

<span class="p">});</span>

</code></pre><pre class="highlight html"><code><span class="cp">&lt;!DOCTYPE html&gt;</span>
<span class="nt">&lt;html</span> <span class="na">lang=</span><span class="s">"pt-BR"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;head&gt;</span>
        <span class="nt">&lt;title&gt;</span>Criar Interação<span class="nt">&lt;/title&gt;</span>
        <span class="nt">&lt;script </span><span class="na">src=</span><span class="s">"https://code.jquery.com/jquery-2.2.4.min.js"</span><span class="nt">&gt;&lt;/script&gt;</span>
    <span class="nt">&lt;/head&gt;</span>
    <span class="nt">&lt;body&gt;</span>
        <span class="nt">&lt;table&gt;</span>
            <span class="nt">&lt;tr&gt;&lt;td&gt;</span>interacoes_codigo<span class="nt">&lt;/td&gt;&lt;td&gt;&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">id=</span><span class="s">"interacoes_codigo_local"</span><span class="nt">&gt;&lt;/td&gt;&lt;/tr&gt;</span>
            <span class="nt">&lt;tr&gt;&lt;td&gt;</span>tipo_pedidos_resposta_codigo_local<span class="nt">&lt;/td&gt;&lt;td&gt;&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">id=</span><span class="s">"tipo_pedidos_resposta_codigo_local"</span><span class="nt">&gt;&lt;/td&gt;&lt;/tr&gt;</span>
            <span class="nt">&lt;tr&gt;&lt;td&gt;</span>tipo_pedidos_resposta_nome_local<span class="nt">&lt;/td&gt;&lt;td&gt;&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">id=</span><span class="s">"tipo_pedidos_resposta_nome_local"</span><span class="nt">&gt;&lt;/td&gt;&lt;/tr&gt;</span>
            <span class="nt">&lt;tr&gt;&lt;td&gt;</span>interacoes_descricao_local<span class="nt">&lt;/td&gt;&lt;td&gt;&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">id=</span><span class="s">"interacoes_descricao_local"</span><span class="nt">&gt;&lt;/td&gt;&lt;/tr&gt;</span>
            <span class="nt">&lt;tr&gt;&lt;td&gt;</span>interacoes_data_resposta_local<span class="nt">&lt;/td&gt;&lt;td&gt;&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">id=</span><span class="s">"interacoes_data_resposta_local"</span><span class="nt">&gt;&lt;/td&gt;&lt;/tr&gt;</span>
            <span class="nt">&lt;tr&gt;&lt;td&gt;</span>codigo_pedido<span class="nt">&lt;/td&gt;&lt;td&gt;&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">id=</span><span class="s">"pedidos_codigo"</span><span class="nt">&gt;&lt;/td&gt;&lt;/tr&gt;</span>
            <span class="nt">&lt;tr&gt;&lt;td&gt;</span>usuarios_codigo<span class="nt">&lt;/td&gt;&lt;td&gt;&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">id=</span><span class="s">"usuarios_codigo"</span><span class="nt">&gt;&lt;/td&gt;&lt;/tr&gt;</span>
            <span class="nt">&lt;tr&gt;&lt;td&gt;</span>usuarios_nome<span class="nt">&lt;/td&gt;&lt;td&gt;&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">id=</span><span class="s">"usuarios_nome"</span><span class="nt">&gt;&lt;/td&gt;&lt;/tr&gt;</span>
            <span class="nt">&lt;tr&gt;&lt;td&gt;</span>usuarios_email<span class="nt">&lt;/td&gt;&lt;td&gt;&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">id=</span><span class="s">"usuarios_email"</span><span class="nt">&gt;&lt;/td&gt;&lt;/tr&gt;</span>
            <span class="nt">&lt;tr&gt;&lt;td&gt;</span>agentes_codigo<span class="nt">&lt;/td&gt;&lt;td&gt;&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">id=</span><span class="s">"agentes_codigo"</span><span class="nt">&gt;&lt;/td&gt;&lt;/tr&gt;</span>
            <span class="nt">&lt;tr&gt;&lt;td&gt;</span>agentes_nome<span class="nt">&lt;/td&gt;&lt;td&gt;&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">id=</span><span class="s">"agentes_nome"</span><span class="nt">&gt;&lt;/td&gt;&lt;/tr&gt;</span>
            <span class="nt">&lt;tr&gt;&lt;td&gt;</span>tipo_pedido_origem_codigo<span class="nt">&lt;/td&gt;&lt;td&gt;&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">id=</span><span class="s">"tipo_pedidos_origem_codigo"</span><span class="nt">&gt;&lt;/td&gt;&lt;/tr&gt;</span>
            <span class="nt">&lt;tr&gt;&lt;td&gt;</span>tipo_pedido_origem_nome<span class="nt">&lt;/td&gt;&lt;td&gt;&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">id=</span><span class="s">"tipo_pedidos_origem_nome"</span><span class="nt">&gt;&lt;/td&gt;&lt;/tr&gt;</span>
            <span class="nt">&lt;tr&gt;&lt;td&gt;</span>tipo_poder_codigo_local<span class="nt">&lt;/td&gt;&lt;td&gt;&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">id=</span><span class="s">"tipo_poder_codigo_local"</span><span class="nt">&gt;&lt;/td&gt;&lt;/tr&gt;</span>
            <span class="nt">&lt;tr&gt;&lt;td&gt;</span>tipo_poder_nome_local<span class="nt">&lt;/td&gt;&lt;td&gt;&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">id=</span><span class="s">"tipo_poder_nome_local"</span><span class="nt">&gt;&lt;/td&gt;&lt;/tr&gt;</span>
            <span class="nt">&lt;tr&gt;&lt;td&gt;</span>tipo_nivel_federativo_codigo_local<span class="nt">&lt;/td&gt;&lt;td&gt;&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">id=</span><span class="s">"tipo_nivel_federativo_codigo_local"</span><span class="nt">&gt;&lt;/td&gt;&lt;/tr&gt;</span>
            <span class="nt">&lt;tr&gt;&lt;td&gt;</span>tipo_nivel_federativo_nome_local<span class="nt">&lt;/td&gt;&lt;td&gt;&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">id=</span><span class="s">"tipo_nivel_federativo_nome_local"</span><span class="nt">&gt;&lt;/td&gt;&lt;/tr&gt;</span>
            <span class="nt">&lt;tr&gt;&lt;td&gt;</span>tipo_pedido_situacao_codigo<span class="nt">&lt;/td&gt;&lt;td&gt;&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">id=</span><span class="s">"tipo_pedido_situacao_codigo"</span><span class="nt">&gt;&lt;/td&gt;&lt;/tr&gt;</span>
            <span class="nt">&lt;tr&gt;&lt;td&gt;</span>tipo_pedido_situacao_nome<span class="nt">&lt;/td&gt;&lt;td&gt;&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">id=</span><span class="s">"tipo_pedido_situacao_nome"</span><span class="nt">&gt;&lt;/td&gt;&lt;/tr&gt;</span>
            <span class="nt">&lt;tr&gt;&lt;td&gt;</span>status_pedido_codigo<span class="nt">&lt;/td&gt;&lt;td&gt;&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">id=</span><span class="s">"status_pedido_codigo"</span><span class="nt">&gt;&lt;/td&gt;&lt;/tr&gt;</span>
            <span class="nt">&lt;tr&gt;&lt;td&gt;</span>status_pedido_nome<span class="nt">&lt;/td&gt;&lt;td&gt;&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">id=</span><span class="s">"status_pedido_nome"</span><span class="nt">&gt;&lt;/td&gt;&lt;/tr&gt;</span>
            <span class="nt">&lt;tr&gt;&lt;td&gt;</span>status_pedido_interno_codigo<span class="nt">&lt;/td&gt;&lt;td&gt;&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">id=</span><span class="s">"status_pedido_interno_codigo"</span><span class="nt">&gt;&lt;/td&gt;&lt;/tr&gt;</span>
            <span class="nt">&lt;tr&gt;&lt;td&gt;</span>status_pedido_interno_nome<span class="nt">&lt;/td&gt;&lt;td&gt;&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">id=</span><span class="s">"status_pedido_interno_nome"</span><span class="nt">&gt;&lt;/td&gt;&lt;/tr&gt;</span>
            <span class="nt">&lt;tr&gt;&lt;td&gt;</span>pedidos_protocolo<span class="nt">&lt;/td&gt;&lt;td&gt;&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">id=</span><span class="s">"pedidos_protocolo"</span><span class="nt">&gt;&lt;/td&gt;&lt;/tr&gt;</span>
            <span class="nt">&lt;tr&gt;&lt;td&gt;</span>pedidos_titulo<span class="nt">&lt;/td&gt;&lt;td&gt;&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">id=</span><span class="s">"pedidos_titulo"</span><span class="nt">&gt;&lt;/td&gt;&lt;/tr&gt;</span>
            <span class="nt">&lt;tr&gt;&lt;td&gt;</span>pedidos_slug<span class="nt">&lt;/td&gt;&lt;td&gt;&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">id=</span><span class="s">"pedidos_slug"</span><span class="nt">&gt;&lt;/td&gt;&lt;/tr&gt;</span>
            <span class="nt">&lt;tr&gt;&lt;td&gt;</span>pedidos_descricao<span class="nt">&lt;/td&gt;&lt;td&gt;&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">id=</span><span class="s">"pedidos_descricao"</span><span class="nt">&gt;&lt;/td&gt;&lt;/tr&gt;</span>
            <span class="nt">&lt;tr&gt;&lt;td&gt;</span>pedidos_enviado_para<span class="nt">&lt;/td&gt;&lt;td&gt;&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">id=</span><span class="s">"pedidos_enviado_para"</span><span class="nt">&gt;&lt;/td&gt;&lt;/tr&gt;</span>
            <span class="nt">&lt;tr&gt;&lt;td&gt;</span>pedidos_data_envio<span class="nt">&lt;/td&gt;&lt;td&gt;&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">id=</span><span class="s">"pedidos_data_envio"</span><span class="nt">&gt;&lt;/td&gt;&lt;/tr&gt;</span>
            <span class="nt">&lt;tr&gt;&lt;td&gt;</span>pedidos_foi_prorrogado<span class="nt">&lt;/td&gt;&lt;td&gt;&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">id=</span><span class="s">"pedidos_foi_prorrogado"</span><span class="nt">&gt;&lt;/td&gt;&lt;/tr&gt;</span>
            <span class="nt">&lt;tr&gt;&lt;td&gt;</span>pedidos_anonimo<span class="nt">&lt;/td&gt;&lt;td&gt;&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">id=</span><span class="s">"pedidos_anonimo"</span><span class="nt">&gt;&lt;/td&gt;&lt;/tr&gt;</span>
            <span class="nt">&lt;tr&gt;&lt;td</span> <span class="na">colspan=</span><span class="s">"2"</span><span class="nt">&gt;&lt;input</span> <span class="na">type=</span><span class="s">"button"</span> <span class="na">id=</span><span class="s">"btnGravar"</span> <span class="na">value=</span><span class="s">"Gravar"</span><span class="nt">&gt;&lt;/td&gt;&lt;/tr&gt;</span>
        <span class="nt">&lt;/table&gt;</span>
    <span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span>

</code></pre>
<blockquote>
<p>O código acima retorna o objeto abaixo em caso de sucesso:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>O código acima retorna o objeto abaixo em caso de erro:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"error"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"source"</span><span class="p">:</span><span class="w"> </span><span class="s2">"..."</span><span class="p">,</span><span class="w">
        </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"..."</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Este endpoint serve pra criar interações no elasticsearch, caso o código da interação já tenha sido utilizado, o endpoint resultará em erro. </p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">PUT /achadosepedidos.org.br/api/interacoes/criar/$CODIGO_INTERACAO</code></p>

<h3 id="par-metros-querystring">Parâmetros - Querystring</h3>

<table><thead>
<tr>
<th>Parâmetro</th>
<th>Tipo</th>
<th>Observação</th>
</tr>
</thead><tbody>
<tr>
<td>CODIGO_INTERACAO</td>
<td>Número</td>
<td>Obrigatório</td>
</tr>
</tbody></table>

<h3 id="par-metros-do-request">Parâmetros do Request</h3>

<table><thead>
<tr>
<th>Parâmetro</th>
<th>Tipo</th>
<th>Observação</th>
</tr>
</thead><tbody>
<tr>
<td>interacoes_codigo</td>
<td>Número</td>
<td>Obrigatório</td>
</tr>
<tr>
<td>tipo_pedidos_resposta_codigo_local</td>
<td>Número</td>
<td></td>
</tr>
<tr>
<td>tipo_pedidos_resposta_nome_local</td>
<td>Texto</td>
<td></td>
</tr>
<tr>
<td>interacoes_descricao_local</td>
<td>Texto</td>
<td></td>
</tr>
<tr>
<td>interacoes_data_resposta_local</td>
<td>Data</td>
<td>Timestamp em formato &ldquo;aaaa-mm-dd&rdquo;</td>
</tr>
<tr>
<td>codigo_pedido</td>
<td>Número</td>
<td>Obrigatório</td>
</tr>
<tr>
<td>usuarios_codigo</td>
<td>Número</td>
<td></td>
</tr>
<tr>
<td>usuarios_nome</td>
<td>Texto</td>
<td></td>
</tr>
<tr>
<td>usuarios_email</td>
<td>Texto</td>
<td></td>
</tr>
<tr>
<td>agentes_codigo</td>
<td>Número</td>
<td></td>
</tr>
<tr>
<td>agentes_nome</td>
<td>Texto</td>
<td></td>
</tr>
<tr>
<td>tipo_pedido_situacao_codigo</td>
<td>Número</td>
<td></td>
</tr>
<tr>
<td>tipo_pedido_situacao_nome</td>
<td>Texto</td>
<td></td>
</tr>
<tr>
<td>status_pedido_codigo</td>
<td>Número</td>
<td></td>
</tr>
<tr>
<td>status_pedido_nome</td>
<td>Texto</td>
<td></td>
</tr>
<tr>
<td>status_pedido_interno_codigo</td>
<td>Número</td>
<td></td>
</tr>
<tr>
<td>status_pedido_interno_nome</td>
<td>Texto</td>
<td></td>
</tr>
<tr>
<td>tipo_pedido_origem_codigo</td>
<td>Número</td>
<td></td>
</tr>
<tr>
<td>tipo_pedido_origem_nome</td>
<td>Texto</td>
<td></td>
</tr>
<tr>
<td>tipo_poder_codigo</td>
<td>Número</td>
<td></td>
</tr>
<tr>
<td>tipo_poder_nome</td>
<td>Texto</td>
<td></td>
</tr>
<tr>
<td>tipo_nivel_federativo_codigo</td>
<td>Número</td>
<td></td>
</tr>
<tr>
<td>tipo_nivel_federativo_nome</td>
<td>Texto</td>
<td></td>
</tr>
<tr>
<td>pedidos_protocolo</td>
<td>Texto</td>
<td></td>
</tr>
<tr>
<td>pedidos_titulo</td>
<td>Texto</td>
<td></td>
</tr>
<tr>
<td>pedidos_slug</td>
<td>Texto</td>
<td></td>
</tr>
<tr>
<td>pedidos_descricao</td>
<td>Texto</td>
<td></td>
</tr>
<tr>
<td>pedidos_enviado_para</td>
<td>Texto</td>
<td></td>
</tr>
<tr>
<td>pedidos_data_envio</td>
<td>Data</td>
<td>Timestamp em formato &ldquo;aaaa-mm-dd&rdquo;</td>
</tr>
<tr>
<td>pedidos_foi_prorrogado</td>
<td>Boolean</td>
<td></td>
</tr>
<tr>
<td>pedidos_anonimo</td>
<td>Boolean</td>
<td></td>
</tr>
</tbody></table>

<h2 id="gravar-intera-o">Gravar interação</h2>
<pre class="highlight javascript"><code>
<span class="nx">$</span><span class="p">(</span><span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>

    <span class="nx">$</span><span class="p">(</span><span class="nb">document</span><span class="p">).</span><span class="nx">ready</span><span class="p">(</span><span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
        <span class="nx">$</span><span class="p">(</span> <span class="s2">"#btnGravar"</span> <span class="p">).</span><span class="nx">click</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
            <span class="nx">gravar</span><span class="p">();</span>
        <span class="p">});</span>        
    <span class="p">});</span>

    <span class="kd">function</span> <span class="nx">gravar</span><span class="p">()</span> <span class="p">{</span>

        <span class="kd">var</span> <span class="nx">data</span> <span class="o">=</span> <span class="p">{</span> 
            <span class="s2">"pedidos_codigo"</span> <span class="p">:</span>  <span class="nx">$</span><span class="p">(</span><span class="s1">'#pedidos_codigo'</span><span class="p">).</span><span class="nx">val</span><span class="p">(),</span>
            <span class="s2">"usuarios_codigo"</span> <span class="p">:</span>  <span class="nx">$</span><span class="p">(</span><span class="s1">'#usuarios_codigo'</span><span class="p">).</span><span class="nx">val</span><span class="p">(),</span>
            <span class="s2">"usuarios_nome"</span> <span class="p">:</span>  <span class="nx">$</span><span class="p">(</span><span class="s1">'#usuarios_nome'</span><span class="p">).</span><span class="nx">val</span><span class="p">(),</span>
            <span class="s2">"usuarios_email"</span> <span class="p">:</span>  <span class="nx">$</span><span class="p">(</span><span class="s1">'#usuarios_email'</span><span class="p">).</span><span class="nx">val</span><span class="p">(),</span>
            <span class="s2">"agentes_codigo"</span> <span class="p">:</span>  <span class="nx">$</span><span class="p">(</span><span class="s1">'#agentes_codigo'</span><span class="p">).</span><span class="nx">val</span><span class="p">(),</span>
            <span class="s2">"agentes_nome"</span> <span class="p">:</span>  <span class="nx">$</span><span class="p">(</span><span class="s1">'#agentes_nome'</span><span class="p">).</span><span class="nx">val</span><span class="p">(),</span>
            <span class="s2">"tipo_pedido_situacao_codigo"</span> <span class="p">:</span>  <span class="nx">$</span><span class="p">(</span><span class="s1">'#tipo_pedido_situacao_codigo'</span><span class="p">).</span><span class="nx">val</span><span class="p">(),</span>
            <span class="s2">"tipo_pedido_situacao_nome"</span> <span class="p">:</span>  <span class="nx">$</span><span class="p">(</span><span class="s1">'#tipo_pedido_situacao_nome'</span><span class="p">).</span><span class="nx">val</span><span class="p">(),</span>
            <span class="s2">"status_pedido_codigo"</span> <span class="p">:</span>  <span class="nx">$</span><span class="p">(</span><span class="s1">'#status_pedido_codigo'</span><span class="p">).</span><span class="nx">val</span><span class="p">(),</span>
            <span class="s2">"status_pedido_nome"</span> <span class="p">:</span>  <span class="nx">$</span><span class="p">(</span><span class="s1">'#status_pedido_nome'</span><span class="p">).</span><span class="nx">val</span><span class="p">(),</span>
            <span class="s2">"status_pedido_interno_codigo"</span> <span class="p">:</span>  <span class="nx">$</span><span class="p">(</span><span class="s1">'#status_pedido_interno_codigo'</span><span class="p">).</span><span class="nx">val</span><span class="p">(),</span>
            <span class="s2">"status_pedido_interno_nome"</span> <span class="p">:</span>  <span class="nx">$</span><span class="p">(</span><span class="s1">'#status_pedido_interno_nome'</span><span class="p">).</span><span class="nx">val</span><span class="p">(),</span>
            <span class="s2">"tipo_pedido_origem_codigo"</span>      <span class="p">:</span>  <span class="nx">$</span><span class="p">(</span><span class="s1">'#tipo_pedido_origem_codigo'</span><span class="p">).</span><span class="nx">val</span><span class="p">(),</span>
            <span class="s2">"tipo_pedido_origem_nome"</span> <span class="p">:</span>  <span class="nx">$</span><span class="p">(</span><span class="s1">'#tipo_pedido_origem_nome'</span><span class="p">).</span><span class="nx">val</span><span class="p">(),</span>
            <span class="s2">"tipo_poder_codigo"</span> <span class="p">:</span>  <span class="nx">$</span><span class="p">(</span><span class="s1">'#tipo_poder_codigo'</span><span class="p">).</span><span class="nx">val</span><span class="p">(),</span>
            <span class="s2">"tipo_poder_nome"</span> <span class="p">:</span>  <span class="nx">$</span><span class="p">(</span><span class="s1">'#tipo_poder_nome'</span><span class="p">).</span><span class="nx">val</span><span class="p">(),</span>
            <span class="s2">"tipo_nivel_federativo_codigo"</span> <span class="p">:</span> <span class="nx">$</span><span class="p">(</span><span class="s1">'#tipo_nivel_federativo_codigo'</span><span class="p">).</span><span class="nx">val</span><span class="p">(),</span>
            <span class="s2">"tipo_nivel_federativo_nome"</span> <span class="p">:</span> <span class="nx">$</span><span class="p">(</span><span class="s1">'#tipo_nivel_federativo_nome'</span><span class="p">).</span><span class="nx">val</span><span class="p">(),</span>
            <span class="s2">"pedidos_protocolo"</span> <span class="p">:</span>  <span class="nx">$</span><span class="p">(</span><span class="s1">'#pedidos_protocolo'</span><span class="p">).</span><span class="nx">val</span><span class="p">(),</span>
            <span class="s2">"pedidos_titulo"</span> <span class="p">:</span>  <span class="nx">$</span><span class="p">(</span><span class="s1">'#pedidos_titulo'</span><span class="p">).</span><span class="nx">val</span><span class="p">(),</span>
            <span class="s2">"pedidos_slug"</span> <span class="p">:</span>  <span class="nx">$</span><span class="p">(</span><span class="s1">'#pedidos_slug'</span><span class="p">).</span><span class="nx">val</span><span class="p">(),</span>
            <span class="s2">"pedidos_descricao"</span> <span class="p">:</span>  <span class="nx">$</span><span class="p">(</span><span class="s1">'#pedidos_descricao'</span><span class="p">).</span><span class="nx">val</span><span class="p">(),</span>
            <span class="s2">"pedidos_enviado_para"</span> <span class="p">:</span>  <span class="nx">$</span><span class="p">(</span><span class="s1">'#pedidos_enviado_para'</span><span class="p">).</span><span class="nx">val</span><span class="p">(),</span>
            <span class="s2">"pedidos_data_envio"</span> <span class="p">:</span>  <span class="nx">$</span><span class="p">(</span><span class="s1">'#pedidos_data_envio'</span><span class="p">).</span><span class="nx">val</span><span class="p">(),</span>
            <span class="s2">"pedidos_foi_prorrogado"</span> <span class="p">:</span>  <span class="nx">$</span><span class="p">(</span><span class="s1">'#pedidos_foi_prorrogado'</span><span class="p">).</span><span class="nx">val</span><span class="p">(),</span>
            <span class="s2">"pedidos_anonimo"</span> <span class="p">:</span>  <span class="nx">$</span><span class="p">(</span><span class="s1">'#pedidos_anonimo'</span><span class="p">).</span><span class="nx">val</span><span class="p">(),</span>
            <span class="s2">"interacoes_codigo_local"</span> <span class="p">:</span>  <span class="nx">$</span><span class="p">(</span><span class="s1">'#interacoes_codigo_local'</span><span class="p">).</span><span class="nx">val</span><span class="p">(),</span>
            <span class="s2">"tipo_pedidos_resposta_codigo_local"</span> <span class="p">:</span>  <span class="nx">$</span><span class="p">(</span><span class="s1">'#tipo_pedidos_resposta_codigo_local'</span><span class="p">).</span><span class="nx">val</span><span class="p">(),</span>
            <span class="s2">"tipo_pedidos_resposta_nome_local"</span> <span class="p">:</span>  <span class="nx">$</span><span class="p">(</span><span class="s1">'#tipo_pedidos_resposta_nome_local'</span><span class="p">).</span><span class="nx">val</span><span class="p">(),</span>
            <span class="s2">"interacoes_descricao_local"</span> <span class="p">:</span>  <span class="nx">$</span><span class="p">(</span><span class="s1">'#interacoes_descricao_local'</span><span class="p">).</span><span class="nx">val</span><span class="p">(),</span>
            <span class="s2">"interacoes_data_resposta_local"</span> <span class="p">:</span>  <span class="nx">$</span><span class="p">(</span><span class="s1">'#interacoes_data_resposta_local'</span><span class="p">).</span><span class="nx">val</span><span class="p">()</span>
        <span class="p">};</span>

        <span class="kd">var</span> <span class="nx">urlApi</span> <span class="o">=</span> <span class="s1">'/achadosepedidos.org.br/api/interacoes/gravar/'</span> <span class="o">+</span> <span class="nx">$</span><span class="p">(</span><span class="s1">'#interacoes_codigo_local'</span><span class="p">).</span><span class="nx">val</span><span class="p">();</span>

        <span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">(</span><span class="nx">urlApi</span><span class="p">,</span> <span class="p">{</span>
            <span class="na">method</span><span class="p">:</span> <span class="s2">"PUT"</span><span class="p">,</span>
            <span class="na">data</span><span class="p">:</span> <span class="nx">data</span><span class="p">,</span>
            <span class="na">contentType</span><span class="p">:</span> <span class="s1">'application/x-www-form-urlencoded'</span><span class="p">,</span>
            <span class="na">dataType</span><span class="p">:</span> <span class="s2">"json"</span><span class="p">,</span>
            <span class="na">success</span><span class="p">:</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">result</span><span class="p">)</span> <span class="p">{</span>
                <span class="nx">alert</span><span class="p">(</span><span class="s2">"Interação salva"</span><span class="p">);</span>
            <span class="p">},</span>
            <span class="na">error</span><span class="p">:</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
                <span class="nx">alert</span><span class="p">(</span><span class="s2">"Erro"</span><span class="p">);</span>
            <span class="p">}</span>
        <span class="p">});</span>
    <span class="p">}</span>

<span class="p">});</span>

</code></pre><pre class="highlight html"><code><span class="cp">&lt;!DOCTYPE html&gt;</span>
<span class="nt">&lt;html</span> <span class="na">lang=</span><span class="s">"pt-BR"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;head&gt;</span>
        <span class="nt">&lt;title&gt;</span>Gravar Interação<span class="nt">&lt;/title&gt;</span>
        <span class="nt">&lt;script </span><span class="na">src=</span><span class="s">"https://code.jquery.com/jquery-2.2.4.min.js"</span><span class="nt">&gt;&lt;/script&gt;</span>
    <span class="nt">&lt;/head&gt;</span>
    <span class="nt">&lt;body&gt;</span>
        <span class="nt">&lt;table&gt;</span>
            <span class="nt">&lt;tr&gt;&lt;td&gt;</span>interacoes_codigo<span class="nt">&lt;/td&gt;&lt;td&gt;&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">id=</span><span class="s">"interacoes_codigo_local"</span><span class="nt">&gt;&lt;/td&gt;&lt;/tr&gt;</span>
            <span class="nt">&lt;tr&gt;&lt;td&gt;</span>tipo_pedidos_resposta_codigo_local<span class="nt">&lt;/td&gt;&lt;td&gt;&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">id=</span><span class="s">"tipo_pedidos_resposta_codigo_local"</span><span class="nt">&gt;&lt;/td&gt;&lt;/tr&gt;</span>
            <span class="nt">&lt;tr&gt;&lt;td&gt;</span>tipo_pedidos_resposta_nome_local<span class="nt">&lt;/td&gt;&lt;td&gt;&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">id=</span><span class="s">"tipo_pedidos_resposta_nome_local"</span><span class="nt">&gt;&lt;/td&gt;&lt;/tr&gt;</span>
            <span class="nt">&lt;tr&gt;&lt;td&gt;</span>interacoes_descricao_local<span class="nt">&lt;/td&gt;&lt;td&gt;&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">id=</span><span class="s">"interacoes_descricao_local"</span><span class="nt">&gt;&lt;/td&gt;&lt;/tr&gt;</span>
            <span class="nt">&lt;tr&gt;&lt;td&gt;</span>interacoes_data_resposta_local<span class="nt">&lt;/td&gt;&lt;td&gt;&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">id=</span><span class="s">"interacoes_data_resposta_local"</span><span class="nt">&gt;&lt;/td&gt;&lt;/tr&gt;</span>
            <span class="nt">&lt;tr&gt;&lt;td&gt;</span>codigo_pedido<span class="nt">&lt;/td&gt;&lt;td&gt;&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">id=</span><span class="s">"pedidos_codigo"</span><span class="nt">&gt;&lt;/td&gt;&lt;/tr&gt;</span>
            <span class="nt">&lt;tr&gt;&lt;td&gt;</span>usuarios_codigo<span class="nt">&lt;/td&gt;&lt;td&gt;&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">id=</span><span class="s">"usuarios_codigo"</span><span class="nt">&gt;&lt;/td&gt;&lt;/tr&gt;</span>
            <span class="nt">&lt;tr&gt;&lt;td&gt;</span>usuarios_nome<span class="nt">&lt;/td&gt;&lt;td&gt;&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">id=</span><span class="s">"usuarios_nome"</span><span class="nt">&gt;&lt;/td&gt;&lt;/tr&gt;</span>
            <span class="nt">&lt;tr&gt;&lt;td&gt;</span>usuarios_email<span class="nt">&lt;/td&gt;&lt;td&gt;&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">id=</span><span class="s">"usuarios_email"</span><span class="nt">&gt;&lt;/td&gt;&lt;/tr&gt;</span>
            <span class="nt">&lt;tr&gt;&lt;td&gt;</span>agentes_codigo<span class="nt">&lt;/td&gt;&lt;td&gt;&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">id=</span><span class="s">"agentes_codigo"</span><span class="nt">&gt;&lt;/td&gt;&lt;/tr&gt;</span>
            <span class="nt">&lt;tr&gt;&lt;td&gt;</span>agentes_nome<span class="nt">&lt;/td&gt;&lt;td&gt;&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">id=</span><span class="s">"agentes_nome"</span><span class="nt">&gt;&lt;/td&gt;&lt;/tr&gt;</span>
            <span class="nt">&lt;tr&gt;&lt;td&gt;</span>tipo_pedido_origem_codigo<span class="nt">&lt;/td&gt;&lt;td&gt;&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">id=</span><span class="s">"tipo_pedidos_origem_codigo"</span><span class="nt">&gt;&lt;/td&gt;&lt;/tr&gt;</span>
            <span class="nt">&lt;tr&gt;&lt;td&gt;</span>tipo_pedido_origem_nome<span class="nt">&lt;/td&gt;&lt;td&gt;&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">id=</span><span class="s">"tipo_pedidos_origem_nome"</span><span class="nt">&gt;&lt;/td&gt;&lt;/tr&gt;</span>
            <span class="nt">&lt;tr&gt;&lt;td&gt;</span>tipo_poder_codigo_local<span class="nt">&lt;/td&gt;&lt;td&gt;&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">id=</span><span class="s">"tipo_poder_codigo_local"</span><span class="nt">&gt;&lt;/td&gt;&lt;/tr&gt;</span>
            <span class="nt">&lt;tr&gt;&lt;td&gt;</span>tipo_poder_nome_local<span class="nt">&lt;/td&gt;&lt;td&gt;&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">id=</span><span class="s">"tipo_poder_nome_local"</span><span class="nt">&gt;&lt;/td&gt;&lt;/tr&gt;</span>
            <span class="nt">&lt;tr&gt;&lt;td&gt;</span>tipo_nivel_federativo_codigo_local<span class="nt">&lt;/td&gt;&lt;td&gt;&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">id=</span><span class="s">"tipo_nivel_federativo_codigo_local"</span><span class="nt">&gt;&lt;/td&gt;&lt;/tr&gt;</span>
            <span class="nt">&lt;tr&gt;&lt;td&gt;</span>tipo_nivel_federativo_nome_local<span class="nt">&lt;/td&gt;&lt;td&gt;&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">id=</span><span class="s">"tipo_nivel_federativo_nome_local"</span><span class="nt">&gt;&lt;/td&gt;&lt;/tr&gt;</span>
            <span class="nt">&lt;tr&gt;&lt;td&gt;</span>tipo_pedido_situacao_codigo<span class="nt">&lt;/td&gt;&lt;td&gt;&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">id=</span><span class="s">"tipo_pedido_situacao_codigo"</span><span class="nt">&gt;&lt;/td&gt;&lt;/tr&gt;</span>
            <span class="nt">&lt;tr&gt;&lt;td&gt;</span>tipo_pedido_situacao_nome<span class="nt">&lt;/td&gt;&lt;td&gt;&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">id=</span><span class="s">"tipo_pedido_situacao_nome"</span><span class="nt">&gt;&lt;/td&gt;&lt;/tr&gt;</span>
            <span class="nt">&lt;tr&gt;&lt;td&gt;</span>status_pedido_codigo<span class="nt">&lt;/td&gt;&lt;td&gt;&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">id=</span><span class="s">"status_pedido_codigo"</span><span class="nt">&gt;&lt;/td&gt;&lt;/tr&gt;</span>
            <span class="nt">&lt;tr&gt;&lt;td&gt;</span>status_pedido_nome<span class="nt">&lt;/td&gt;&lt;td&gt;&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">id=</span><span class="s">"status_pedido_nome"</span><span class="nt">&gt;&lt;/td&gt;&lt;/tr&gt;</span>
            <span class="nt">&lt;tr&gt;&lt;td&gt;</span>status_pedido_interno_codigo<span class="nt">&lt;/td&gt;&lt;td&gt;&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">id=</span><span class="s">"status_pedido_interno_codigo"</span><span class="nt">&gt;&lt;/td&gt;&lt;/tr&gt;</span>
            <span class="nt">&lt;tr&gt;&lt;td&gt;</span>status_pedido_interno_nome<span class="nt">&lt;/td&gt;&lt;td&gt;&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">id=</span><span class="s">"status_pedido_interno_nome"</span><span class="nt">&gt;&lt;/td&gt;&lt;/tr&gt;</span>
            <span class="nt">&lt;tr&gt;&lt;td&gt;</span>pedidos_protocolo<span class="nt">&lt;/td&gt;&lt;td&gt;&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">id=</span><span class="s">"pedidos_protocolo"</span><span class="nt">&gt;&lt;/td&gt;&lt;/tr&gt;</span>
            <span class="nt">&lt;tr&gt;&lt;td&gt;</span>pedidos_titulo<span class="nt">&lt;/td&gt;&lt;td&gt;&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">id=</span><span class="s">"pedidos_titulo"</span><span class="nt">&gt;&lt;/td&gt;&lt;/tr&gt;</span>
            <span class="nt">&lt;tr&gt;&lt;td&gt;</span>pedidos_slug<span class="nt">&lt;/td&gt;&lt;td&gt;&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">id=</span><span class="s">"pedidos_slug"</span><span class="nt">&gt;&lt;/td&gt;&lt;/tr&gt;</span>
            <span class="nt">&lt;tr&gt;&lt;td&gt;</span>pedidos_descricao<span class="nt">&lt;/td&gt;&lt;td&gt;&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">id=</span><span class="s">"pedidos_descricao"</span><span class="nt">&gt;&lt;/td&gt;&lt;/tr&gt;</span>
            <span class="nt">&lt;tr&gt;&lt;td&gt;</span>pedidos_enviado_para<span class="nt">&lt;/td&gt;&lt;td&gt;&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">id=</span><span class="s">"pedidos_enviado_para"</span><span class="nt">&gt;&lt;/td&gt;&lt;/tr&gt;</span>
            <span class="nt">&lt;tr&gt;&lt;td&gt;</span>pedidos_data_envio<span class="nt">&lt;/td&gt;&lt;td&gt;&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">id=</span><span class="s">"pedidos_data_envio"</span><span class="nt">&gt;&lt;/td&gt;&lt;/tr&gt;</span>
            <span class="nt">&lt;tr&gt;&lt;td&gt;</span>pedidos_foi_prorrogado<span class="nt">&lt;/td&gt;&lt;td&gt;&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">id=</span><span class="s">"pedidos_foi_prorrogado"</span><span class="nt">&gt;&lt;/td&gt;&lt;/tr&gt;</span>
            <span class="nt">&lt;tr&gt;&lt;td&gt;</span>pedidos_anonimo<span class="nt">&lt;/td&gt;&lt;td&gt;&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">id=</span><span class="s">"pedidos_anonimo"</span><span class="nt">&gt;&lt;/td&gt;&lt;/tr&gt;</span>
            <span class="nt">&lt;tr&gt;&lt;td</span> <span class="na">colspan=</span><span class="s">"2"</span><span class="nt">&gt;&lt;input</span> <span class="na">type=</span><span class="s">"button"</span> <span class="na">id=</span><span class="s">"btnGravar"</span> <span class="na">value=</span><span class="s">"Gravar"</span><span class="nt">&gt;&lt;/td&gt;&lt;/tr&gt;</span>
        <span class="nt">&lt;/table&gt;</span>
    <span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span>

</code></pre>
<blockquote>
<p>O código acima retorna o objeto abaixo em caso de sucesso:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>O código acima retorna o objeto abaixo em caso de erro:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"error"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"source"</span><span class="p">:</span><span class="w"> </span><span class="s2">"..."</span><span class="p">,</span><span class="w">
        </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"..."</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Este endpoint serve pra criar interações no elasticsearch, caso o código da interação já tenha sido utilizado, o endpoint sobreescreverá o json no elasticsearch. </p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">PUT /achadosepedidos.org.br/api/interacoes/gravar/$CODIGO_INTERACAO</code></p>

<h3 id="par-metros-querystring">Parâmetros - Querystring</h3>

<table><thead>
<tr>
<th>Parâmetro</th>
<th>Tipo</th>
<th>Observação</th>
</tr>
</thead><tbody>
<tr>
<td>CODIGO_INTERACAO</td>
<td>Número</td>
<td>Obrigatório</td>
</tr>
</tbody></table>

<h3 id="par-metros-do-request">Parâmetros do Request</h3>

<table><thead>
<tr>
<th>Parâmetro</th>
<th>Tipo</th>
<th>Observação</th>
</tr>
</thead><tbody>
<tr>
<td>interacoes_codigo</td>
<td>Número</td>
<td>Obrigatório</td>
</tr>
<tr>
<td>tipo_pedidos_resposta_codigo_local</td>
<td>Número</td>
<td></td>
</tr>
<tr>
<td>tipo_pedidos_resposta_nome_local</td>
<td>Texto</td>
<td></td>
</tr>
<tr>
<td>interacoes_descricao_local</td>
<td>Texto</td>
<td></td>
</tr>
<tr>
<td>interacoes_data_resposta_local</td>
<td>Data</td>
<td>Timestamp em formato &ldquo;aaaa-mm-dd&rdquo;</td>
</tr>
<tr>
<td>codigo_pedido</td>
<td>Número</td>
<td>Obrigatório</td>
</tr>
<tr>
<td>usuarios_codigo</td>
<td>Número</td>
<td></td>
</tr>
<tr>
<td>usuarios_nome</td>
<td>Texto</td>
<td></td>
</tr>
<tr>
<td>usuarios_email</td>
<td>Texto</td>
<td></td>
</tr>
<tr>
<td>agentes_codigo</td>
<td>Número</td>
<td></td>
</tr>
<tr>
<td>agentes_nome</td>
<td>Texto</td>
<td></td>
</tr>
<tr>
<td>tipo_pedido_situacao_codigo</td>
<td>Número</td>
<td></td>
</tr>
<tr>
<td>tipo_pedido_situacao_nome</td>
<td>Texto</td>
<td></td>
</tr>
<tr>
<td>status_pedido_codigo</td>
<td>Número</td>
<td></td>
</tr>
<tr>
<td>status_pedido_nome</td>
<td>Texto</td>
<td></td>
</tr>
<tr>
<td>status_pedido_interno_codigo</td>
<td>Número</td>
<td></td>
</tr>
<tr>
<td>status_pedido_interno_nome</td>
<td>Texto</td>
<td></td>
</tr>
<tr>
<td>tipo_pedido_origem_codigo</td>
<td>Número</td>
<td></td>
</tr>
<tr>
<td>tipo_pedido_origem_nome</td>
<td>Texto</td>
<td></td>
</tr>
<tr>
<td>tipo_poder_codigo</td>
<td>Número</td>
<td></td>
</tr>
<tr>
<td>tipo_poder_nome</td>
<td>Texto</td>
<td></td>
</tr>
<tr>
<td>tipo_nivel_federativo_codigo</td>
<td>Número</td>
<td></td>
</tr>
<tr>
<td>tipo_nivel_federativo_nome</td>
<td>Texto</td>
<td></td>
</tr>
<tr>
<td>pedidos_protocolo</td>
<td>Texto</td>
<td></td>
</tr>
<tr>
<td>pedidos_titulo</td>
<td>Texto</td>
<td></td>
</tr>
<tr>
<td>pedidos_slug</td>
<td>Texto</td>
<td></td>
</tr>
<tr>
<td>pedidos_descricao</td>
<td>Texto</td>
<td></td>
</tr>
<tr>
<td>pedidos_enviado_para</td>
<td>Texto</td>
<td></td>
</tr>
<tr>
<td>pedidos_data_envio</td>
<td>Data</td>
<td>Timestamp em formato &ldquo;aaaa-mm-dd&rdquo;</td>
</tr>
<tr>
<td>pedidos_foi_prorrogado</td>
<td>Boolean</td>
<td></td>
</tr>
<tr>
<td>pedidos_anonimo</td>
<td>Boolean</td>
<td></td>
</tr>
</tbody></table>

<h2 id="apagar-intera-o">Apagar interação</h2>
<pre class="highlight javascript"><code>
<span class="nx">$</span><span class="p">(</span><span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>

    <span class="nx">$</span><span class="p">(</span><span class="nb">document</span><span class="p">).</span><span class="nx">ready</span><span class="p">(</span><span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
        <span class="nx">$</span><span class="p">(</span> <span class="s2">"#btnApagar"</span> <span class="p">).</span><span class="nx">click</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
            <span class="nx">apagar</span><span class="p">();</span>
        <span class="p">});</span>        
    <span class="p">});</span>

    <span class="kd">function</span> <span class="nx">apagar</span><span class="p">()</span> <span class="p">{</span>

        <span class="kd">var</span> <span class="nx">urlApi</span> <span class="o">=</span> <span class="s1">'/achadosepedidos.org.br/api/interacoes/apagar/'</span> <span class="o">+</span> <span class="nx">$</span><span class="p">(</span><span class="s1">'#codigo_interacao'</span><span class="p">).</span><span class="nx">val</span><span class="p">();</span>

        <span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">(</span><span class="nx">urlApi</span><span class="p">,</span> <span class="p">{</span>
            <span class="na">method</span><span class="p">:</span> <span class="s2">"DELETE"</span><span class="p">,</span>
            <span class="na">contentType</span><span class="p">:</span> <span class="s1">'application/x-www-form-urlencoded'</span><span class="p">,</span>
            <span class="na">dataType</span><span class="p">:</span> <span class="s2">"json"</span><span class="p">,</span>
            <span class="na">success</span><span class="p">:</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">result</span><span class="p">)</span> <span class="p">{</span>
                <span class="nx">alert</span><span class="p">(</span><span class="s2">"Interação apagada"</span><span class="p">);</span>
            <span class="p">},</span>
            <span class="na">error</span><span class="p">:</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
                <span class="nx">alert</span><span class="p">(</span><span class="s2">"Erro"</span><span class="p">);</span>
            <span class="p">}</span>
        <span class="p">});</span>
    <span class="p">}</span>

<span class="p">});</span>

</code></pre><pre class="highlight html"><code><span class="cp">&lt;!DOCTYPE html&gt;</span>
<span class="nt">&lt;html</span> <span class="na">lang=</span><span class="s">"pt-BR"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;head&gt;</span>
        <span class="nt">&lt;title&gt;</span>Apagar Interação<span class="nt">&lt;/title&gt;</span>
        <span class="nt">&lt;script </span><span class="na">src=</span><span class="s">"https://code.jquery.com/jquery-2.2.4.min.js"</span><span class="nt">&gt;&lt;/script&gt;</span>
    <span class="nt">&lt;/head&gt;</span>
    <span class="nt">&lt;body&gt;</span>
        <span class="nt">&lt;table&gt;</span>
            <span class="nt">&lt;tr&gt;</span>
                <span class="nt">&lt;td&gt;</span>codigo_interacao<span class="nt">&lt;/td&gt;</span>
                <span class="nt">&lt;td&gt;&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">id=</span><span class="s">"codigo_interacao"</span><span class="nt">&gt;&lt;/td&gt;</span>
            <span class="nt">&lt;/tr&gt;</span>
            <span class="nt">&lt;tr&gt;&lt;td</span> <span class="na">colspan=</span><span class="s">"2"</span><span class="nt">&gt;&lt;input</span> <span class="na">type=</span><span class="s">"button"</span> <span class="na">id=</span><span class="s">"btnApagar"</span> <span class="na">value=</span><span class="s">"Apagar"</span><span class="nt">&gt;&lt;/td&gt;&lt;/tr&gt;</span>
        <span class="nt">&lt;/table&gt;</span>
    <span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span>

</code></pre>
<blockquote>
<p>O código acima retorna o objeto abaixo em caso de sucesso:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>O código acima retorna o objeto abaixo em caso de erro:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"error"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"source"</span><span class="p">:</span><span class="w"> </span><span class="s2">"..."</span><span class="p">,</span><span class="w">
        </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"..."</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Este endpoint serve para apagar uma interação no elasticsearch. </p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">DELETE /achadosepedidos.org.br/api/interacoes/apagar/$CODIGO_INTERACAO</code></p>

<h3 id="par-metros-querystring">Parâmetros - Querystring</h3>

<table><thead>
<tr>
<th>Parâmetro</th>
<th>Tipo</th>
<th>Observação</th>
</tr>
</thead><tbody>
<tr>
<td>CODIGO_INTERACAO</td>
<td>Número</td>
<td>Obrigatório</td>
</tr>
</tbody></table>

<h2 id="consultar-intera-o-por-id">Consultar interação por ID</h2>
<pre class="highlight javascript"><code>
<span class="nx">$</span><span class="p">(</span><span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>

    <span class="nx">$</span><span class="p">(</span><span class="nb">document</span><span class="p">).</span><span class="nx">ready</span><span class="p">(</span><span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
        <span class="nx">$</span><span class="p">(</span> <span class="s2">"#btnConsultar"</span> <span class="p">).</span><span class="nx">click</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
            <span class="nx">consultar</span><span class="p">();</span>
        <span class="p">});</span>        
    <span class="p">});</span>

    <span class="kd">function</span> <span class="nx">consultar</span><span class="p">()</span> <span class="p">{</span>

        <span class="kd">var</span> <span class="nx">urlApi</span> <span class="o">=</span> <span class="s1">'/achadosepedidos.org.br/api/interacoes/consultar/'</span> <span class="o">+</span> <span class="nx">$</span><span class="p">(</span><span class="s1">'#codigo_interacao'</span><span class="p">).</span><span class="nx">val</span><span class="p">();</span>

        <span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">(</span><span class="nx">urlApi</span><span class="p">,</span> <span class="p">{</span>
            <span class="na">method</span><span class="p">:</span> <span class="s2">"GET"</span><span class="p">,</span>
            <span class="na">contentType</span><span class="p">:</span> <span class="s1">'application/x-www-form-urlencoded'</span><span class="p">,</span>
            <span class="na">dataType</span><span class="p">:</span> <span class="s2">"json"</span><span class="p">,</span>
            <span class="na">success</span><span class="p">:</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">result</span><span class="p">)</span> <span class="p">{</span>
                <span class="nx">alert</span><span class="p">(</span><span class="s2">"Interação encontrado"</span><span class="p">);</span>
                <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">result</span><span class="p">);</span>
            <span class="p">},</span>
            <span class="na">error</span><span class="p">:</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
                <span class="nx">alert</span><span class="p">(</span><span class="s2">"Erro"</span><span class="p">);</span>
            <span class="p">}</span>
        <span class="p">});</span>
    <span class="p">}</span>

<span class="p">});</span>

</code></pre><pre class="highlight html"><code><span class="cp">&lt;!DOCTYPE html&gt;</span>
<span class="nt">&lt;html</span> <span class="na">lang=</span><span class="s">"pt-BR"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;head&gt;</span>
        <span class="nt">&lt;title&gt;</span>Consultar Interação<span class="nt">&lt;/title&gt;</span>
        <span class="nt">&lt;script </span><span class="na">src=</span><span class="s">"https://code.jquery.com/jquery-2.2.4.min.js"</span><span class="nt">&gt;&lt;/script&gt;</span>
    <span class="nt">&lt;/head&gt;</span>
    <span class="nt">&lt;body&gt;</span>
        <span class="nt">&lt;table&gt;</span>
            <span class="nt">&lt;tr&gt;</span>
                <span class="nt">&lt;td&gt;</span>codigo_interacao<span class="nt">&lt;/td&gt;</span>
                <span class="nt">&lt;td&gt;&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">id=</span><span class="s">"codigo_interacao"</span><span class="nt">&gt;&lt;/td&gt;</span>
            <span class="nt">&lt;/tr&gt;</span>
            <span class="nt">&lt;tr&gt;&lt;td</span> <span class="na">colspan=</span><span class="s">"2"</span><span class="nt">&gt;&lt;input</span> <span class="na">type=</span><span class="s">"button"</span> <span class="na">id=</span><span class="s">"btnConsultar"</span> <span class="na">value=</span><span class="s">"Consultar"</span><span class="nt">&gt;&lt;/td&gt;&lt;/tr&gt;</span>
        <span class="nt">&lt;/table&gt;</span>
    <span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span>

</code></pre>
<blockquote>
<p>O código acima retorna o objeto abaixo em caso de sucesso:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"... objeto da interação ..."</span><span class="w">
</span><span class="err">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>O código acima retorna o objeto abaixo em caso de erro:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"error"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"source"</span><span class="p">:</span><span class="w"> </span><span class="s2">"..."</span><span class="p">,</span><span class="w">
        </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"..."</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Este endpoint serve para consultar uma integração no elasticsearch através de seu ID. </p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET /achadosepedidos.org.br/api/interacoes/consultar/$CODIGO_INTERACAO</code></p>

<h3 id="par-metros-querystring">Parâmetros - Querystring</h3>

<table><thead>
<tr>
<th>Parâmetro</th>
<th>Tipo</th>
<th>Observação</th>
</tr>
</thead><tbody>
<tr>
<td>CODIGO_INTERACAO</td>
<td>Número</td>
<td>Obrigatório</td>
</tr>
</tbody></table>

<h2 id="consultar-intera-o">Consultar interação</h2>
<pre class="highlight javascript"><code>
<span class="nx">$</span><span class="p">(</span><span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>

    <span class="nx">$</span><span class="p">(</span><span class="nb">document</span><span class="p">).</span><span class="nx">ready</span><span class="p">(</span><span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
        <span class="nx">$</span><span class="p">(</span> <span class="s2">"#btnConsultar"</span> <span class="p">).</span><span class="nx">click</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
            <span class="nx">consultar</span><span class="p">();</span>
        <span class="p">});</span>        
    <span class="p">});</span>

    <span class="kd">function</span> <span class="nx">consultar</span><span class="p">()</span> <span class="p">{</span>

        <span class="kd">var</span> <span class="nx">urlApi</span> <span class="o">=</span> <span class="s1">'/achadosepedidos.org.br/api/interacoes/consultar/'</span><span class="p">;</span>

        <span class="kd">var</span> <span class="nx">data</span> <span class="o">=</span> <span class="p">{</span> 
            <span class="s1">'value'</span> <span class="p">:</span>  <span class="nx">$</span><span class="p">(</span><span class="s1">'#value'</span><span class="p">).</span><span class="nx">val</span><span class="p">()</span>
        <span class="p">};</span>

        <span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">(</span><span class="nx">urlApi</span><span class="p">,</span> <span class="p">{</span>
            <span class="na">method</span><span class="p">:</span> <span class="s2">"POST"</span><span class="p">,</span>
            <span class="na">contentType</span><span class="p">:</span> <span class="s1">'application/x-www-form-urlencoded'</span><span class="p">,</span>
            <span class="na">dataType</span><span class="p">:</span> <span class="s2">"json"</span><span class="p">,</span>
            <span class="na">data</span><span class="p">:</span> <span class="nx">data</span><span class="p">,</span>
            <span class="na">success</span><span class="p">:</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">result</span><span class="p">)</span> <span class="p">{</span>
                <span class="nx">alert</span><span class="p">(</span><span class="s2">"Interação encontrado"</span><span class="p">);</span>
                <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">result</span><span class="p">);</span>
            <span class="p">},</span>
            <span class="na">error</span><span class="p">:</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
                <span class="nx">alert</span><span class="p">(</span><span class="s2">"Erro"</span><span class="p">);</span>
            <span class="p">}</span>
        <span class="p">});</span>
    <span class="p">}</span>

<span class="p">});</span>

</code></pre><pre class="highlight html"><code><span class="cp">&lt;!DOCTYPE html&gt;</span>
<span class="nt">&lt;html</span> <span class="na">lang=</span><span class="s">"pt-BR"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;head&gt;</span>
        <span class="nt">&lt;title&gt;</span>Consultar Interação<span class="nt">&lt;/title&gt;</span>
        <span class="nt">&lt;script </span><span class="na">src=</span><span class="s">"https://code.jquery.com/jquery-2.2.4.min.js"</span><span class="nt">&gt;&lt;/script&gt;</span>
    <span class="nt">&lt;/head&gt;</span>
    <span class="nt">&lt;body&gt;</span>
        <span class="nt">&lt;table&gt;</span>
            <span class="nt">&lt;tr&gt;</span>
                <span class="nt">&lt;td&gt;</span>Valor<span class="nt">&lt;/td&gt;</span>
                <span class="nt">&lt;td&gt;&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">id=</span><span class="s">"value"</span><span class="nt">&gt;&lt;/td&gt;</span>
            <span class="nt">&lt;/tr&gt;</span>
            <span class="nt">&lt;tr&gt;&lt;td</span> <span class="na">colspan=</span><span class="s">"2"</span><span class="nt">&gt;&lt;input</span> <span class="na">type=</span><span class="s">"button"</span> <span class="na">id=</span><span class="s">"btnConsultar"</span> <span class="na">value=</span><span class="s">"Consultar"</span><span class="nt">&gt;&lt;/td&gt;&lt;/tr&gt;</span>
        <span class="nt">&lt;/table&gt;</span>
    <span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span>

</code></pre>
<blockquote>
<p>O código acima retorna o objeto abaixo em caso de sucesso:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"total"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nt">"max_score"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"hits"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"... array de interações ..."</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>O código acima retorna o objeto abaixo em caso de erro:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"error"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"source"</span><span class="p">:</span><span class="w"> </span><span class="s2">"..."</span><span class="p">,</span><span class="w">
        </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"..."</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Este endpoint serve para consultar uma interação no elasticsearch através de qualquer palavra inserida no corpo da interação. </p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST /achadosepedidos.org.br/api/interacoes/consultar/</code></p>

<h3 id="par-metros-querystring">Parâmetros - Querystring</h3>

<table><thead>
<tr>
<th>Parâmetro</th>
<th>Tipo</th>
<th>Observação</th>
</tr>
</thead><tbody>
<tr>
<td>value</td>
<td>Texto</td>
<td>Obrigatório</td>
</tr>
</tbody></table>

<h2 id="contar-intera-es">Contar interações</h2>
<pre class="highlight javascript"><code>
<span class="nx">$</span><span class="p">(</span><span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>

    <span class="nx">$</span><span class="p">(</span><span class="nb">document</span><span class="p">).</span><span class="nx">ready</span><span class="p">(</span><span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
        <span class="nx">$</span><span class="p">(</span> <span class="s2">"#btnConsultar"</span> <span class="p">).</span><span class="nx">click</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
            <span class="nx">consultar</span><span class="p">();</span>
        <span class="p">});</span>        
    <span class="p">});</span>

    <span class="kd">function</span> <span class="nx">consultar</span><span class="p">()</span> <span class="p">{</span>

        <span class="kd">var</span> <span class="nx">urlApi</span> <span class="o">=</span> <span class="s1">'/achadosepedidos.org.br/api/interacoes/contar/'</span><span class="p">;</span>

        <span class="kd">var</span> <span class="nx">data</span> <span class="o">=</span> <span class="p">{</span> 
            <span class="s1">'value'</span> <span class="p">:</span>  <span class="nx">$</span><span class="p">(</span><span class="s1">'#value'</span><span class="p">).</span><span class="nx">val</span><span class="p">()</span>
        <span class="p">};</span>

        <span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">(</span><span class="nx">urlApi</span><span class="p">,</span> <span class="p">{</span>
            <span class="na">method</span><span class="p">:</span> <span class="s2">"POST"</span><span class="p">,</span>
            <span class="na">contentType</span><span class="p">:</span> <span class="s1">'application/x-www-form-urlencoded'</span><span class="p">,</span>
            <span class="na">dataType</span><span class="p">:</span> <span class="s2">"json"</span><span class="p">,</span>
            <span class="na">data</span><span class="p">:</span> <span class="nx">data</span><span class="p">,</span>
            <span class="na">success</span><span class="p">:</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">result</span><span class="p">)</span> <span class="p">{</span>
                <span class="nx">alert</span><span class="p">(</span><span class="nx">result</span><span class="p">);</span>
                <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">result</span><span class="p">);</span>
            <span class="p">},</span>
            <span class="na">error</span><span class="p">:</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
                <span class="nx">alert</span><span class="p">(</span><span class="s2">"Erro"</span><span class="p">);</span>
            <span class="p">}</span>
        <span class="p">});</span>
    <span class="p">}</span>

<span class="p">});</span>

</code></pre><pre class="highlight html"><code><span class="cp">&lt;!DOCTYPE html&gt;</span>
<span class="nt">&lt;html</span> <span class="na">lang=</span><span class="s">"pt-BR"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;head&gt;</span>
        <span class="nt">&lt;title&gt;</span>Contar Interações<span class="nt">&lt;/title&gt;</span>
        <span class="nt">&lt;script </span><span class="na">src=</span><span class="s">"https://code.jquery.com/jquery-2.2.4.min.js"</span><span class="nt">&gt;&lt;/script&gt;</span>
    <span class="nt">&lt;/head&gt;</span>
    <span class="nt">&lt;body&gt;</span>
        <span class="nt">&lt;table&gt;</span>
            <span class="nt">&lt;tr&gt;</span>
                <span class="nt">&lt;td&gt;</span>Valor<span class="nt">&lt;/td&gt;</span>
                <span class="nt">&lt;td&gt;&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">id=</span><span class="s">"value"</span><span class="nt">&gt;&lt;/td&gt;</span>
            <span class="nt">&lt;/tr&gt;</span>
            <span class="nt">&lt;tr&gt;&lt;td</span> <span class="na">colspan=</span><span class="s">"2"</span><span class="nt">&gt;&lt;input</span> <span class="na">type=</span><span class="s">"button"</span> <span class="na">id=</span><span class="s">"btnConsultar"</span> <span class="na">value=</span><span class="s">"Consultar"</span><span class="nt">&gt;&lt;/td&gt;&lt;/tr&gt;</span>
        <span class="nt">&lt;/table&gt;</span>
    <span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span>

</code></pre>
<blockquote>
<p>O código acima retorna número inteiro com a quantidade de documentos que satisfazem a pesquisa:</p>
</blockquote>
<pre class="highlight json"><code><span class="mi">0</span><span class="w">
</span></code></pre>
<blockquote>
<p>O código acima retorna o objeto abaixo em caso de erro:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"error"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"source"</span><span class="p">:</span><span class="w"> </span><span class="s2">"..."</span><span class="p">,</span><span class="w">
        </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"..."</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Este endpoint serve para contar a quantidade de interações no elasticsearch através de qualquer palavra inserida no corpo da interação. </p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST /achadosepedidos.org.br/api/interacoes/contar/</code></p>

<h3 id="par-metros-querystring">Parâmetros - Querystring</h3>

<table><thead>
<tr>
<th>Parâmetro</th>
<th>Tipo</th>
<th>Observação</th>
</tr>
</thead><tbody>
<tr>
<td>value</td>
<td>Texto</td>
<td>Obrigatório</td>
</tr>
</tbody></table>

<h1 id="anexos">Anexos</h1>

<h2 id="criar-anexo">Criar anexo</h2>
<pre class="highlight javascript"><code>
<span class="nx">$</span><span class="p">(</span><span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>

    <span class="nx">$</span><span class="p">(</span><span class="nb">document</span><span class="p">).</span><span class="nx">ready</span><span class="p">(</span><span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
        <span class="nx">$</span><span class="p">(</span> <span class="s2">"#btnCriar"</span> <span class="p">).</span><span class="nx">click</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
            <span class="nx">criar</span><span class="p">();</span>
        <span class="p">});</span>        
    <span class="p">});</span>

    <span class="kd">function</span> <span class="nx">criar</span><span class="p">()</span> <span class="p">{</span>

        <span class="kd">var</span> <span class="nx">data</span> <span class="o">=</span> <span class="p">{</span> 
            <span class="s2">"pedidos_codigo"</span> <span class="p">:</span>  <span class="nx">$</span><span class="p">(</span><span class="s1">'#pedidos_codigo'</span><span class="p">).</span><span class="nx">val</span><span class="p">(),</span>
            <span class="s2">"usuarios_codigo"</span> <span class="p">:</span>  <span class="nx">$</span><span class="p">(</span><span class="s1">'#usuarios_codigo'</span><span class="p">).</span><span class="nx">val</span><span class="p">(),</span>
            <span class="s2">"usuarios_nome"</span> <span class="p">:</span>  <span class="nx">$</span><span class="p">(</span><span class="s1">'#usuarios_nome'</span><span class="p">).</span><span class="nx">val</span><span class="p">(),</span>
            <span class="s2">"usuarios_email"</span> <span class="p">:</span>  <span class="nx">$</span><span class="p">(</span><span class="s1">'#usuarios_email'</span><span class="p">).</span><span class="nx">val</span><span class="p">(),</span>
            <span class="s2">"agentes_codigo"</span> <span class="p">:</span>  <span class="nx">$</span><span class="p">(</span><span class="s1">'#agentes_codigo'</span><span class="p">).</span><span class="nx">val</span><span class="p">(),</span>
            <span class="s2">"agentes_nome"</span> <span class="p">:</span>  <span class="nx">$</span><span class="p">(</span><span class="s1">'#agentes_nome'</span><span class="p">).</span><span class="nx">val</span><span class="p">(),</span>
            <span class="s2">"tipo_pedido_situacao_codigo"</span> <span class="p">:</span>  <span class="nx">$</span><span class="p">(</span><span class="s1">'#tipo_pedido_situacao_codigo'</span><span class="p">).</span><span class="nx">val</span><span class="p">(),</span>
            <span class="s2">"tipo_pedido_situacao_nome"</span> <span class="p">:</span>  <span class="nx">$</span><span class="p">(</span><span class="s1">'#tipo_pedido_situacao_nome'</span><span class="p">).</span><span class="nx">val</span><span class="p">(),</span>
            <span class="s2">"status_pedido_codigo"</span> <span class="p">:</span>  <span class="nx">$</span><span class="p">(</span><span class="s1">'#status_pedido_codigo'</span><span class="p">).</span><span class="nx">val</span><span class="p">(),</span>
            <span class="s2">"status_pedido_nome"</span> <span class="p">:</span>  <span class="nx">$</span><span class="p">(</span><span class="s1">'#status_pedido_nome'</span><span class="p">).</span><span class="nx">val</span><span class="p">(),</span>
            <span class="s2">"status_pedido_interno_codigo"</span> <span class="p">:</span>  <span class="nx">$</span><span class="p">(</span><span class="s1">'#status_pedido_interno_codigo'</span><span class="p">).</span><span class="nx">val</span><span class="p">(),</span>
            <span class="s2">"status_pedido_interno_nome"</span> <span class="p">:</span>  <span class="nx">$</span><span class="p">(</span><span class="s1">'#status_pedido_interno_nome'</span><span class="p">).</span><span class="nx">val</span><span class="p">(),</span>
            <span class="s2">"tipo_pedido_origem_codigo"</span>      <span class="p">:</span>  <span class="nx">$</span><span class="p">(</span><span class="s1">'#tipo_pedido_origem_codigo'</span><span class="p">).</span><span class="nx">val</span><span class="p">(),</span>
            <span class="s2">"tipo_pedido_origem_nome"</span> <span class="p">:</span>  <span class="nx">$</span><span class="p">(</span><span class="s1">'#tipo_pedido_origem_nome'</span><span class="p">).</span><span class="nx">val</span><span class="p">(),</span>
            <span class="s2">"tipo_poder_codigo"</span> <span class="p">:</span>  <span class="nx">$</span><span class="p">(</span><span class="s1">'#tipo_poder_codigo'</span><span class="p">).</span><span class="nx">val</span><span class="p">(),</span>
            <span class="s2">"tipo_poder_nome"</span> <span class="p">:</span>  <span class="nx">$</span><span class="p">(</span><span class="s1">'#tipo_poder_nome'</span><span class="p">).</span><span class="nx">val</span><span class="p">(),</span>
            <span class="s2">"tipo_nivel_federativo_codigo"</span> <span class="p">:</span> <span class="nx">$</span><span class="p">(</span><span class="s1">'#tipo_nivel_federativo_codigo'</span><span class="p">).</span><span class="nx">val</span><span class="p">(),</span>
            <span class="s2">"tipo_nivel_federativo_nome"</span> <span class="p">:</span> <span class="nx">$</span><span class="p">(</span><span class="s1">'#tipo_nivel_federativo_nome'</span><span class="p">).</span><span class="nx">val</span><span class="p">(),</span>
            <span class="s2">"pedidos_protocolo"</span> <span class="p">:</span>  <span class="nx">$</span><span class="p">(</span><span class="s1">'#pedidos_protocolo'</span><span class="p">).</span><span class="nx">val</span><span class="p">(),</span>
            <span class="s2">"pedidos_titulo"</span> <span class="p">:</span>  <span class="nx">$</span><span class="p">(</span><span class="s1">'#pedidos_titulo'</span><span class="p">).</span><span class="nx">val</span><span class="p">(),</span>
            <span class="s2">"pedidos_slug"</span> <span class="p">:</span>  <span class="nx">$</span><span class="p">(</span><span class="s1">'#pedidos_slug'</span><span class="p">).</span><span class="nx">val</span><span class="p">(),</span>
            <span class="s2">"pedidos_descricao"</span> <span class="p">:</span>  <span class="nx">$</span><span class="p">(</span><span class="s1">'#pedidos_descricao'</span><span class="p">).</span><span class="nx">val</span><span class="p">(),</span>
            <span class="s2">"pedidos_enviado_para"</span> <span class="p">:</span>  <span class="nx">$</span><span class="p">(</span><span class="s1">'#pedidos_enviado_para'</span><span class="p">).</span><span class="nx">val</span><span class="p">(),</span>
            <span class="s2">"pedidos_data_envio"</span> <span class="p">:</span>  <span class="nx">$</span><span class="p">(</span><span class="s1">'#pedidos_data_envio'</span><span class="p">).</span><span class="nx">val</span><span class="p">(),</span>
            <span class="s2">"pedidos_foi_prorrogado"</span> <span class="p">:</span>  <span class="nx">$</span><span class="p">(</span><span class="s1">'#pedidos_foi_prorrogado'</span><span class="p">).</span><span class="nx">val</span><span class="p">(),</span>
            <span class="s2">"pedidos_anonimo"</span> <span class="p">:</span>  <span class="nx">$</span><span class="p">(</span><span class="s1">'#pedidos_anonimo'</span><span class="p">).</span><span class="nx">val</span><span class="p">(),</span>
            <span class="s2">"interacoes_codigo"</span> <span class="p">:</span>  <span class="nx">$</span><span class="p">(</span><span class="s1">'#interacoes_codigo'</span><span class="p">).</span><span class="nx">val</span><span class="p">(),</span>
            <span class="s2">"tipo_pedidos_resposta_codigo"</span> <span class="p">:</span>  <span class="nx">$</span><span class="p">(</span><span class="s1">'#tipo_pedidos_resposta_codigo'</span><span class="p">).</span><span class="nx">val</span><span class="p">(),</span>
            <span class="s2">"tipo_pedidos_resposta_nome"</span> <span class="p">:</span>  <span class="nx">$</span><span class="p">(</span><span class="s1">'#tipo_pedidos_resposta_nome'</span><span class="p">).</span><span class="nx">val</span><span class="p">(),</span>
            <span class="s2">"interacoes_descricao"</span> <span class="p">:</span>  <span class="nx">$</span><span class="p">(</span><span class="s1">'#interacoes_descricao'</span><span class="p">).</span><span class="nx">val</span><span class="p">(),</span>
            <span class="s2">"interacoes_data_resposta"</span> <span class="p">:</span>  <span class="nx">$</span><span class="p">(</span><span class="s1">'#interacoes_data_resposta'</span><span class="p">).</span><span class="nx">val</span><span class="p">(),</span>
            <span class="s2">"anexos_codigo"</span> <span class="p">:</span>  <span class="nx">$</span><span class="p">(</span><span class="s1">'#anexos_codigo'</span><span class="p">).</span><span class="nx">val</span><span class="p">(),</span>
            <span class="s2">"anexos_arquivo"</span> <span class="p">:</span>  <span class="nx">$</span><span class="p">(</span><span class="s1">'#anexos_arquivo'</span><span class="p">).</span><span class="nx">val</span><span class="p">(),</span>
            <span class="s2">"anexos_conteudo_arquivo"</span> <span class="p">:</span>  <span class="nx">$</span><span class="p">(</span><span class="s1">'#anexos_conteudo_arquivo'</span><span class="p">).</span><span class="nx">val</span><span class="p">()</span>
        <span class="p">};</span>

        <span class="kd">var</span> <span class="nx">urlApi</span> <span class="o">=</span> <span class="s1">'/achadosepedidos.org.br/api/anexos/criar/'</span> <span class="o">+</span> <span class="nx">$</span><span class="p">(</span><span class="s1">'#anexos_codigo'</span><span class="p">).</span><span class="nx">val</span><span class="p">();</span>

        <span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">(</span><span class="nx">urlApi</span><span class="p">,</span> <span class="p">{</span>
            <span class="na">method</span><span class="p">:</span> <span class="s2">"PUT"</span><span class="p">,</span>
            <span class="na">data</span><span class="p">:</span> <span class="nx">data</span><span class="p">,</span>
            <span class="na">contentType</span><span class="p">:</span> <span class="s1">'application/x-www-form-urlencoded'</span><span class="p">,</span>
            <span class="na">dataType</span><span class="p">:</span> <span class="s2">"json"</span><span class="p">,</span>
            <span class="na">success</span><span class="p">:</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">result</span><span class="p">)</span> <span class="p">{</span>
                <span class="nx">alert</span><span class="p">(</span><span class="s2">"Anexo criado"</span><span class="p">);</span>
            <span class="p">},</span>
            <span class="na">error</span><span class="p">:</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
                <span class="nx">alert</span><span class="p">(</span><span class="s2">"Erro"</span><span class="p">);</span>
            <span class="p">}</span>
        <span class="p">});</span>
    <span class="p">}</span>

<span class="p">});</span>

</code></pre><pre class="highlight html"><code><span class="cp">&lt;!DOCTYPE html&gt;</span>
<span class="nt">&lt;html</span> <span class="na">lang=</span><span class="s">"pt-BR"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;head&gt;</span>
        <span class="nt">&lt;title&gt;</span>Criar Anexo<span class="nt">&lt;/title&gt;</span>
        <span class="nt">&lt;script </span><span class="na">src=</span><span class="s">"https://code.jquery.com/jquery-2.2.4.min.js"</span><span class="nt">&gt;&lt;/script&gt;</span>
    <span class="nt">&lt;/head&gt;</span>
    <span class="nt">&lt;body&gt;</span>
        <span class="nt">&lt;table&gt;</span>
            <span class="nt">&lt;tr&gt;&lt;td&gt;</span>anexos_codigo<span class="nt">&lt;/td&gt;&lt;td&gt;&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">id=</span><span class="s">"anexos_codigo"</span><span class="nt">&gt;&lt;/td&gt;&lt;/tr&gt;</span>
            <span class="nt">&lt;tr&gt;&lt;td&gt;</span>anexos_arquivo<span class="nt">&lt;/td&gt;&lt;td&gt;&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">id=</span><span class="s">"anexos_arquivo"</span><span class="nt">&gt;&lt;/td&gt;&lt;/tr&gt;</span>
            <span class="nt">&lt;tr&gt;&lt;td&gt;</span>anexos_conteudo_arquivo<span class="nt">&lt;/td&gt;&lt;td&gt;&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">id=</span><span class="s">"anexos_conteudo_arquivo"</span><span class="nt">&gt;&lt;/td&gt;&lt;/tr&gt;</span>
            <span class="nt">&lt;tr&gt;&lt;td&gt;</span>codigo_pedido<span class="nt">&lt;/td&gt;&lt;td&gt;&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">id=</span><span class="s">"pedidos_codigo"</span><span class="nt">&gt;&lt;/td&gt;&lt;/tr&gt;</span>
            <span class="nt">&lt;tr&gt;&lt;td&gt;</span>usuarios_codigo<span class="nt">&lt;/td&gt;&lt;td&gt;&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">id=</span><span class="s">"usuarios_codigo"</span><span class="nt">&gt;&lt;/td&gt;&lt;/tr&gt;</span>
            <span class="nt">&lt;tr&gt;&lt;td&gt;</span>usuarios_nome<span class="nt">&lt;/td&gt;&lt;td&gt;&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">id=</span><span class="s">"usuarios_nome"</span><span class="nt">&gt;&lt;/td&gt;&lt;/tr&gt;</span>
            <span class="nt">&lt;tr&gt;&lt;td&gt;</span>usuarios_email<span class="nt">&lt;/td&gt;&lt;td&gt;&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">id=</span><span class="s">"usuarios_email"</span><span class="nt">&gt;&lt;/td&gt;&lt;/tr&gt;</span>
            <span class="nt">&lt;tr&gt;&lt;td&gt;</span>agentes_codigo<span class="nt">&lt;/td&gt;&lt;td&gt;&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">id=</span><span class="s">"agentes_codigo"</span><span class="nt">&gt;&lt;/td&gt;&lt;/tr&gt;</span>
            <span class="nt">&lt;tr&gt;&lt;td&gt;</span>agentes_nome<span class="nt">&lt;/td&gt;&lt;td&gt;&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">id=</span><span class="s">"agentes_nome"</span><span class="nt">&gt;&lt;/td&gt;&lt;/tr&gt;</span>
            <span class="nt">&lt;tr&gt;&lt;td&gt;</span>tipo_pedido_origem_codigo<span class="nt">&lt;/td&gt;&lt;td&gt;&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">id=</span><span class="s">"tipo_pedidos_origem_codigo"</span><span class="nt">&gt;&lt;/td&gt;&lt;/tr&gt;</span>
            <span class="nt">&lt;tr&gt;&lt;td&gt;</span>tipo_pedido_origem_nome<span class="nt">&lt;/td&gt;&lt;td&gt;&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">id=</span><span class="s">"tipo_pedidos_origem_nome"</span><span class="nt">&gt;&lt;/td&gt;&lt;/tr&gt;</span>
            <span class="nt">&lt;tr&gt;&lt;td&gt;</span>tipo_poder_codigo_local<span class="nt">&lt;/td&gt;&lt;td&gt;&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">id=</span><span class="s">"tipo_poder_codigo_local"</span><span class="nt">&gt;&lt;/td&gt;&lt;/tr&gt;</span>
            <span class="nt">&lt;tr&gt;&lt;td&gt;</span>tipo_poder_nome_local<span class="nt">&lt;/td&gt;&lt;td&gt;&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">id=</span><span class="s">"tipo_poder_nome_local"</span><span class="nt">&gt;&lt;/td&gt;&lt;/tr&gt;</span>
            <span class="nt">&lt;tr&gt;&lt;td&gt;</span>tipo_nivel_federativo_codigo_local<span class="nt">&lt;/td&gt;&lt;td&gt;&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">id=</span><span class="s">"tipo_nivel_federativo_codigo_local"</span><span class="nt">&gt;&lt;/td&gt;&lt;/tr&gt;</span>
            <span class="nt">&lt;tr&gt;&lt;td&gt;</span>tipo_nivel_federativo_nome_local<span class="nt">&lt;/td&gt;&lt;td&gt;&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">id=</span><span class="s">"tipo_nivel_federativo_nome_local"</span><span class="nt">&gt;&lt;/td&gt;&lt;/tr&gt;</span>
            <span class="nt">&lt;tr&gt;&lt;td&gt;</span>tipo_pedido_situacao_codigo<span class="nt">&lt;/td&gt;&lt;td&gt;&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">id=</span><span class="s">"tipo_pedido_situacao_codigo"</span><span class="nt">&gt;&lt;/td&gt;&lt;/tr&gt;</span>
            <span class="nt">&lt;tr&gt;&lt;td&gt;</span>tipo_pedido_situacao_nome<span class="nt">&lt;/td&gt;&lt;td&gt;&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">id=</span><span class="s">"tipo_pedido_situacao_nome"</span><span class="nt">&gt;&lt;/td&gt;&lt;/tr&gt;</span>
            <span class="nt">&lt;tr&gt;&lt;td&gt;</span>status_pedido_codigo<span class="nt">&lt;/td&gt;&lt;td&gt;&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">id=</span><span class="s">"status_pedido_codigo"</span><span class="nt">&gt;&lt;/td&gt;&lt;/tr&gt;</span>
            <span class="nt">&lt;tr&gt;&lt;td&gt;</span>status_pedido_nome<span class="nt">&lt;/td&gt;&lt;td&gt;&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">id=</span><span class="s">"status_pedido_nome"</span><span class="nt">&gt;&lt;/td&gt;&lt;/tr&gt;</span>
            <span class="nt">&lt;tr&gt;&lt;td&gt;</span>status_pedido_interno_codigo<span class="nt">&lt;/td&gt;&lt;td&gt;&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">id=</span><span class="s">"status_pedido_interno_codigo"</span><span class="nt">&gt;&lt;/td&gt;&lt;/tr&gt;</span>
            <span class="nt">&lt;tr&gt;&lt;td&gt;</span>status_pedido_interno_nome<span class="nt">&lt;/td&gt;&lt;td&gt;&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">id=</span><span class="s">"status_pedido_interno_nome"</span><span class="nt">&gt;&lt;/td&gt;&lt;/tr&gt;</span>
            <span class="nt">&lt;tr&gt;&lt;td&gt;</span>pedidos_protocolo<span class="nt">&lt;/td&gt;&lt;td&gt;&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">id=</span><span class="s">"pedidos_protocolo"</span><span class="nt">&gt;&lt;/td&gt;&lt;/tr&gt;</span>
            <span class="nt">&lt;tr&gt;&lt;td&gt;</span>pedidos_titulo<span class="nt">&lt;/td&gt;&lt;td&gt;&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">id=</span><span class="s">"pedidos_titulo"</span><span class="nt">&gt;&lt;/td&gt;&lt;/tr&gt;</span>
            <span class="nt">&lt;tr&gt;&lt;td&gt;</span>pedidos_slug<span class="nt">&lt;/td&gt;&lt;td&gt;&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">id=</span><span class="s">"pedidos_slug"</span><span class="nt">&gt;&lt;/td&gt;&lt;/tr&gt;</span>
            <span class="nt">&lt;tr&gt;&lt;td&gt;</span>pedidos_descricao<span class="nt">&lt;/td&gt;&lt;td&gt;&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">id=</span><span class="s">"pedidos_descricao"</span><span class="nt">&gt;&lt;/td&gt;&lt;/tr&gt;</span>
            <span class="nt">&lt;tr&gt;&lt;td&gt;</span>pedidos_enviado_para<span class="nt">&lt;/td&gt;&lt;td&gt;&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">id=</span><span class="s">"pedidos_enviado_para"</span><span class="nt">&gt;&lt;/td&gt;&lt;/tr&gt;</span>
            <span class="nt">&lt;tr&gt;&lt;td&gt;</span>pedidos_data_envio<span class="nt">&lt;/td&gt;&lt;td&gt;&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">id=</span><span class="s">"pedidos_data_envio"</span><span class="nt">&gt;&lt;/td&gt;&lt;/tr&gt;</span>
            <span class="nt">&lt;tr&gt;&lt;td&gt;</span>pedidos_foi_prorrogado<span class="nt">&lt;/td&gt;&lt;td&gt;&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">id=</span><span class="s">"pedidos_foi_prorrogado"</span><span class="nt">&gt;&lt;/td&gt;&lt;/tr&gt;</span>
            <span class="nt">&lt;tr&gt;&lt;td&gt;</span>pedidos_anonimo<span class="nt">&lt;/td&gt;&lt;td&gt;&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">id=</span><span class="s">"pedidos_anonimo"</span><span class="nt">&gt;&lt;/td&gt;&lt;/tr&gt;</span>
            <span class="nt">&lt;tr&gt;&lt;td&gt;</span>interacoes_codigo<span class="nt">&lt;/td&gt;&lt;td&gt;&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">id=</span><span class="s">"interacoes_codigo"</span><span class="nt">&gt;&lt;/td&gt;&lt;/tr&gt;</span>
            <span class="nt">&lt;tr&gt;&lt;td&gt;</span>tipo_pedidos_resposta_codigo<span class="nt">&lt;/td&gt;&lt;td&gt;&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">id=</span><span class="s">"tipo_pedidos_resposta_codigo"</span><span class="nt">&gt;&lt;/td&gt;&lt;/tr&gt;</span>
            <span class="nt">&lt;tr&gt;&lt;td&gt;</span>tipo_pedidos_resposta_nome<span class="nt">&lt;/td&gt;&lt;td&gt;&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">id=</span><span class="s">"tipo_pedidos_resposta_nome"</span><span class="nt">&gt;&lt;/td&gt;&lt;/tr&gt;</span>
            <span class="nt">&lt;tr&gt;&lt;td&gt;</span>interacoes_descricao<span class="nt">&lt;/td&gt;&lt;td&gt;&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">id=</span><span class="s">"interacoes_descricao"</span><span class="nt">&gt;&lt;/td&gt;&lt;/tr&gt;</span>
            <span class="nt">&lt;tr&gt;&lt;td&gt;</span>interacoes_data_resposta<span class="nt">&lt;/td&gt;&lt;td&gt;&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">id=</span><span class="s">"interacoes_data_resposta"</span><span class="nt">&gt;&lt;/td&gt;&lt;/tr&gt;</span>
            <span class="nt">&lt;tr&gt;&lt;td</span> <span class="na">colspan=</span><span class="s">"2"</span><span class="nt">&gt;&lt;input</span> <span class="na">type=</span><span class="s">"button"</span> <span class="na">id=</span><span class="s">"btnGravar"</span> <span class="na">value=</span><span class="s">"Criar"</span><span class="nt">&gt;&lt;/td&gt;&lt;/tr&gt;</span>
        <span class="nt">&lt;/table&gt;</span>
    <span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span>

</code></pre>
<blockquote>
<p>O código acima retorna o objeto abaixo em caso de sucesso:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>O código acima retorna o objeto abaixo em caso de erro:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"error"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"source"</span><span class="p">:</span><span class="w"> </span><span class="s2">"..."</span><span class="p">,</span><span class="w">
        </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"..."</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Este endpoint serve pra criar anexos no elasticsearch, caso o código do anexo já tenha sido utilizado, o endpoint resultará em erro. </p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">PUT /achadosepedidos.org.br/api/anexos/criar/$CODIGO_ANEXO</code></p>

<h3 id="par-metros-querystring">Parâmetros - Querystring</h3>

<table><thead>
<tr>
<th>Parâmetro</th>
<th>Tipo</th>
<th>Observação</th>
</tr>
</thead><tbody>
<tr>
<td>CODIGO_ANEXO</td>
<td>Número</td>
<td>Obrigatório</td>
</tr>
</tbody></table>

<h3 id="par-metros-do-request">Parâmetros do Request</h3>

<table><thead>
<tr>
<th>Parâmetro</th>
<th>Tipo</th>
<th>Observação</th>
</tr>
</thead><tbody>
<tr>
<td>anexos_codigo</td>
<td>Número</td>
<td>Obrigatório</td>
</tr>
<tr>
<td>anexos_arquivo</td>
<td>Texto</td>
<td></td>
</tr>
<tr>
<td>anexos_conteudo_arquivo</td>
<td>Texto</td>
<td></td>
</tr>
<tr>
<td>interacoes_codigo</td>
<td>Número</td>
<td>Obrigatório</td>
</tr>
<tr>
<td>tipo_pedidos_resposta_codigo</td>
<td>Número</td>
<td></td>
</tr>
<tr>
<td>tipo_pedidos_resposta_nome</td>
<td>Texto</td>
<td></td>
</tr>
<tr>
<td>interacoes_descricao</td>
<td>Texto</td>
<td></td>
</tr>
<tr>
<td>interacoes_data_resposta</td>
<td>Data</td>
<td>Timestamp em formato &ldquo;aaaa-mm-dd&rdquo;</td>
</tr>
<tr>
<td>codigo_pedido</td>
<td>Número</td>
<td>Obrigatório</td>
</tr>
<tr>
<td>usuarios_codigo</td>
<td>Número</td>
<td></td>
</tr>
<tr>
<td>usuarios_nome</td>
<td>Texto</td>
<td></td>
</tr>
<tr>
<td>usuarios_email</td>
<td>Texto</td>
<td></td>
</tr>
<tr>
<td>agentes_codigo</td>
<td>Número</td>
<td></td>
</tr>
<tr>
<td>agentes_nome</td>
<td>Texto</td>
<td></td>
</tr>
<tr>
<td>tipo_pedido_situacao_codigo</td>
<td>Número</td>
<td></td>
</tr>
<tr>
<td>tipo_pedido_situacao_nome</td>
<td>Texto</td>
<td></td>
</tr>
<tr>
<td>status_pedido_codigo</td>
<td>Número</td>
<td></td>
</tr>
<tr>
<td>status_pedido_nome</td>
<td>Texto</td>
<td></td>
</tr>
<tr>
<td>status_pedido_interno_codigo</td>
<td>Número</td>
<td></td>
</tr>
<tr>
<td>status_pedido_interno_nome</td>
<td>Texto</td>
<td></td>
</tr>
<tr>
<td>tipo_pedido_origem_codigo</td>
<td>Número</td>
<td></td>
</tr>
<tr>
<td>tipo_pedido_origem_nome</td>
<td>Texto</td>
<td></td>
</tr>
<tr>
<td>tipo_poder_codigo</td>
<td>Número</td>
<td></td>
</tr>
<tr>
<td>tipo_poder_nome</td>
<td>Texto</td>
<td></td>
</tr>
<tr>
<td>tipo_nivel_federativo_codigo</td>
<td>Número</td>
<td></td>
</tr>
<tr>
<td>tipo_nivel_federativo_nome</td>
<td>Texto</td>
<td></td>
</tr>
<tr>
<td>pedidos_protocolo</td>
<td>Texto</td>
<td></td>
</tr>
<tr>
<td>pedidos_titulo</td>
<td>Texto</td>
<td></td>
</tr>
<tr>
<td>pedidos_slug</td>
<td>Texto</td>
<td></td>
</tr>
<tr>
<td>pedidos_descricao</td>
<td>Texto</td>
<td></td>
</tr>
<tr>
<td>pedidos_enviado_para</td>
<td>Texto</td>
<td></td>
</tr>
<tr>
<td>pedidos_data_envio</td>
<td>Data</td>
<td>Timestamp em formato &ldquo;aaaa-mm-dd&rdquo;</td>
</tr>
<tr>
<td>pedidos_foi_prorrogado</td>
<td>Boolean</td>
<td></td>
</tr>
<tr>
<td>pedidos_anonimo</td>
<td>Boolean</td>
<td></td>
</tr>
</tbody></table>

<h2 id="gravar-anexo">Gravar Anexo</h2>
<pre class="highlight javascript"><code>
<span class="nx">$</span><span class="p">(</span><span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>

    <span class="nx">$</span><span class="p">(</span><span class="nb">document</span><span class="p">).</span><span class="nx">ready</span><span class="p">(</span><span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
        <span class="nx">$</span><span class="p">(</span> <span class="s2">"#btnGravar"</span> <span class="p">).</span><span class="nx">click</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
            <span class="nx">gravar</span><span class="p">();</span>
        <span class="p">});</span>        
    <span class="p">});</span>

    <span class="kd">function</span> <span class="nx">gravar</span><span class="p">()</span> <span class="p">{</span>

        <span class="kd">var</span> <span class="nx">data</span> <span class="o">=</span> <span class="p">{</span> 
            <span class="s2">"pedidos_codigo"</span> <span class="p">:</span>  <span class="nx">$</span><span class="p">(</span><span class="s1">'#pedidos_codigo'</span><span class="p">).</span><span class="nx">val</span><span class="p">(),</span>
            <span class="s2">"usuarios_codigo"</span> <span class="p">:</span>  <span class="nx">$</span><span class="p">(</span><span class="s1">'#usuarios_codigo'</span><span class="p">).</span><span class="nx">val</span><span class="p">(),</span>
            <span class="s2">"usuarios_nome"</span> <span class="p">:</span>  <span class="nx">$</span><span class="p">(</span><span class="s1">'#usuarios_nome'</span><span class="p">).</span><span class="nx">val</span><span class="p">(),</span>
            <span class="s2">"usuarios_email"</span> <span class="p">:</span>  <span class="nx">$</span><span class="p">(</span><span class="s1">'#usuarios_email'</span><span class="p">).</span><span class="nx">val</span><span class="p">(),</span>
            <span class="s2">"agentes_codigo"</span> <span class="p">:</span>  <span class="nx">$</span><span class="p">(</span><span class="s1">'#agentes_codigo'</span><span class="p">).</span><span class="nx">val</span><span class="p">(),</span>
            <span class="s2">"agentes_nome"</span> <span class="p">:</span>  <span class="nx">$</span><span class="p">(</span><span class="s1">'#agentes_nome'</span><span class="p">).</span><span class="nx">val</span><span class="p">(),</span>
            <span class="s2">"tipo_pedidos_origem_codigo"</span> <span class="p">:</span>  <span class="nx">$</span><span class="p">(</span><span class="s1">'#tipo_pedidos_origem_codigo'</span><span class="p">).</span><span class="nx">val</span><span class="p">(),</span>
            <span class="s2">"tipo_pedidos_origem_nome"</span> <span class="p">:</span>  <span class="nx">$</span><span class="p">(</span><span class="s1">'#tipo_pedidos_origem_nome'</span><span class="p">).</span><span class="nx">val</span><span class="p">(),</span>
            <span class="s2">"tipo_pedido_situacao_codigo"</span> <span class="p">:</span>  <span class="nx">$</span><span class="p">(</span><span class="s1">'#tipo_pedido_situacao_codigo'</span><span class="p">).</span><span class="nx">val</span><span class="p">(),</span>
            <span class="s2">"tipo_pedido_situacao_nome"</span> <span class="p">:</span>  <span class="nx">$</span><span class="p">(</span><span class="s1">'#tipo_pedido_situacao_nome'</span><span class="p">).</span><span class="nx">val</span><span class="p">(),</span>
            <span class="s2">"status_pedido_codigo"</span> <span class="p">:</span>  <span class="nx">$</span><span class="p">(</span><span class="s1">'#status_pedido_codigo'</span><span class="p">).</span><span class="nx">val</span><span class="p">(),</span>
            <span class="s2">"status_pedido_nome"</span> <span class="p">:</span>  <span class="nx">$</span><span class="p">(</span><span class="s1">'#status_pedido_nome'</span><span class="p">).</span><span class="nx">val</span><span class="p">(),</span>
            <span class="s2">"status_pedido_interno_codigo"</span> <span class="p">:</span>  <span class="nx">$</span><span class="p">(</span><span class="s1">'#status_pedido_interno_codigo'</span><span class="p">).</span><span class="nx">val</span><span class="p">(),</span>
            <span class="s2">"status_pedido_interno_nome"</span> <span class="p">:</span>  <span class="nx">$</span><span class="p">(</span><span class="s1">'#status_pedido_interno_nome'</span><span class="p">).</span><span class="nx">val</span><span class="p">(),</span>
            <span class="s2">"tipo_pedido_origem_codigo"</span>      <span class="p">:</span>  <span class="nx">$</span><span class="p">(</span><span class="s1">'#tipo_pedido_origem_codigo'</span><span class="p">).</span><span class="nx">val</span><span class="p">(),</span>
            <span class="s2">"tipo_pedido_origem_nome"</span> <span class="p">:</span>  <span class="nx">$</span><span class="p">(</span><span class="s1">'#tipo_pedido_origem_nome'</span><span class="p">).</span><span class="nx">val</span><span class="p">(),</span>
            <span class="s2">"tipo_poder_codigo"</span> <span class="p">:</span>  <span class="nx">$</span><span class="p">(</span><span class="s1">'#tipo_poder_codigo'</span><span class="p">).</span><span class="nx">val</span><span class="p">(),</span>
            <span class="s2">"tipo_poder_nome"</span> <span class="p">:</span>  <span class="nx">$</span><span class="p">(</span><span class="s1">'#tipo_poder_nome'</span><span class="p">).</span><span class="nx">val</span><span class="p">(),</span>
            <span class="s2">"tipo_nivel_federativo_codigo"</span> <span class="p">:</span> <span class="nx">$</span><span class="p">(</span><span class="s1">'#tipo_nivel_federativo_codigo'</span><span class="p">).</span><span class="nx">val</span><span class="p">(),</span>
            <span class="s2">"tipo_nivel_federativo_nome"</span> <span class="p">:</span> <span class="nx">$</span><span class="p">(</span><span class="s1">'#tipo_nivel_federativo_nome'</span><span class="p">).</span><span class="nx">val</span><span class="p">(),</span>
            <span class="s2">"pedidos_protocolo"</span> <span class="p">:</span>  <span class="nx">$</span><span class="p">(</span><span class="s1">'#pedidos_protocolo'</span><span class="p">).</span><span class="nx">val</span><span class="p">(),</span>
            <span class="s2">"pedidos_titulo"</span> <span class="p">:</span>  <span class="nx">$</span><span class="p">(</span><span class="s1">'#pedidos_titulo'</span><span class="p">).</span><span class="nx">val</span><span class="p">(),</span>
            <span class="s2">"pedidos_slug"</span> <span class="p">:</span>  <span class="nx">$</span><span class="p">(</span><span class="s1">'#pedidos_slug'</span><span class="p">).</span><span class="nx">val</span><span class="p">(),</span>
            <span class="s2">"pedidos_descricao"</span> <span class="p">:</span>  <span class="nx">$</span><span class="p">(</span><span class="s1">'#pedidos_descricao'</span><span class="p">).</span><span class="nx">val</span><span class="p">(),</span>
            <span class="s2">"pedidos_enviado_para"</span> <span class="p">:</span>  <span class="nx">$</span><span class="p">(</span><span class="s1">'#pedidos_enviado_para'</span><span class="p">).</span><span class="nx">val</span><span class="p">(),</span>
            <span class="s2">"pedidos_data_envio"</span> <span class="p">:</span>  <span class="nx">$</span><span class="p">(</span><span class="s1">'#pedidos_data_envio'</span><span class="p">).</span><span class="nx">val</span><span class="p">(),</span>
            <span class="s2">"pedidos_foi_prorrogado"</span> <span class="p">:</span>  <span class="nx">$</span><span class="p">(</span><span class="s1">'#pedidos_foi_prorrogado'</span><span class="p">).</span><span class="nx">val</span><span class="p">(),</span>
            <span class="s2">"pedidos_anonimo"</span> <span class="p">:</span>  <span class="nx">$</span><span class="p">(</span><span class="s1">'#pedidos_anonimo'</span><span class="p">).</span><span class="nx">val</span><span class="p">(),</span>
            <span class="s2">"interacoes_codigo"</span> <span class="p">:</span>  <span class="nx">$</span><span class="p">(</span><span class="s1">'#interacoes_codigo'</span><span class="p">).</span><span class="nx">val</span><span class="p">(),</span>
            <span class="s2">"tipo_pedidos_resposta_codigo"</span> <span class="p">:</span>  <span class="nx">$</span><span class="p">(</span><span class="s1">'#tipo_pedidos_resposta_codigo'</span><span class="p">).</span><span class="nx">val</span><span class="p">(),</span>
            <span class="s2">"tipo_pedidos_resposta_nome"</span> <span class="p">:</span>  <span class="nx">$</span><span class="p">(</span><span class="s1">'#tipo_pedidos_resposta_nome'</span><span class="p">).</span><span class="nx">val</span><span class="p">(),</span>
            <span class="s2">"interacoes_descricao"</span> <span class="p">:</span>  <span class="nx">$</span><span class="p">(</span><span class="s1">'#interacoes_descricao'</span><span class="p">).</span><span class="nx">val</span><span class="p">(),</span>
            <span class="s2">"interacoes_data_resposta"</span> <span class="p">:</span>  <span class="nx">$</span><span class="p">(</span><span class="s1">'#interacoes_data_resposta'</span><span class="p">).</span><span class="nx">val</span><span class="p">(),</span>
            <span class="s2">"anexos_codigo"</span> <span class="p">:</span>  <span class="nx">$</span><span class="p">(</span><span class="s1">'#anexos_codigo'</span><span class="p">).</span><span class="nx">val</span><span class="p">(),</span>
            <span class="s2">"anexos_arquivo"</span> <span class="p">:</span>  <span class="nx">$</span><span class="p">(</span><span class="s1">'#anexos_arquivo'</span><span class="p">).</span><span class="nx">val</span><span class="p">(),</span>
            <span class="s2">"anexos_conteudo_arquivo"</span> <span class="p">:</span>  <span class="nx">$</span><span class="p">(</span><span class="s1">'#anexos_conteudo_arquivo'</span><span class="p">).</span><span class="nx">val</span><span class="p">()</span>
        <span class="p">};</span>

        <span class="kd">var</span> <span class="nx">urlApi</span> <span class="o">=</span> <span class="s1">'/achadosepedidos.org.br/api/anexos/gravar/'</span> <span class="o">+</span> <span class="nx">$</span><span class="p">(</span><span class="s1">'#anexos_codigo'</span><span class="p">).</span><span class="nx">val</span><span class="p">();</span>

        <span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">(</span><span class="nx">urlApi</span><span class="p">,</span> <span class="p">{</span>
            <span class="na">method</span><span class="p">:</span> <span class="s2">"PUT"</span><span class="p">,</span>
            <span class="na">data</span><span class="p">:</span> <span class="nx">data</span><span class="p">,</span>
            <span class="na">contentType</span><span class="p">:</span> <span class="s1">'application/x-www-form-urlencoded'</span><span class="p">,</span>
            <span class="na">dataType</span><span class="p">:</span> <span class="s2">"json"</span><span class="p">,</span>
            <span class="na">success</span><span class="p">:</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">result</span><span class="p">)</span> <span class="p">{</span>
                <span class="nx">alert</span><span class="p">(</span><span class="s2">"Anexo salvo"</span><span class="p">);</span>
            <span class="p">},</span>
            <span class="na">error</span><span class="p">:</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
                <span class="nx">alert</span><span class="p">(</span><span class="s2">"Erro"</span><span class="p">);</span>
            <span class="p">}</span>
        <span class="p">});</span>
    <span class="p">}</span>

<span class="p">});</span>

</code></pre><pre class="highlight html"><code><span class="cp">&lt;!DOCTYPE html&gt;</span>
<span class="nt">&lt;html</span> <span class="na">lang=</span><span class="s">"pt-BR"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;head&gt;</span>
        <span class="nt">&lt;title&gt;</span>Gravar Interação<span class="nt">&lt;/title&gt;</span>
        <span class="nt">&lt;script </span><span class="na">src=</span><span class="s">"https://code.jquery.com/jquery-2.2.4.min.js"</span><span class="nt">&gt;&lt;/script&gt;</span>
    <span class="nt">&lt;/head&gt;</span>
    <span class="nt">&lt;body&gt;</span>
        <span class="nt">&lt;table&gt;</span>
            <span class="nt">&lt;tr&gt;&lt;td&gt;</span>anexos_codigo<span class="nt">&lt;/td&gt;&lt;td&gt;&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">id=</span><span class="s">"anexos_codigo"</span><span class="nt">&gt;&lt;/td&gt;&lt;/tr&gt;</span>
            <span class="nt">&lt;tr&gt;&lt;td&gt;</span>anexos_arquivo<span class="nt">&lt;/td&gt;&lt;td&gt;&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">id=</span><span class="s">"anexos_arquivo"</span><span class="nt">&gt;&lt;/td&gt;&lt;/tr&gt;</span>
            <span class="nt">&lt;tr&gt;&lt;td&gt;</span>anexos_conteudo_arquivo<span class="nt">&lt;/td&gt;&lt;td&gt;&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">id=</span><span class="s">"anexos_conteudo_arquivo"</span><span class="nt">&gt;&lt;/td&gt;&lt;/tr&gt;</span>
            <span class="nt">&lt;tr&gt;&lt;td&gt;</span>codigo_pedido<span class="nt">&lt;/td&gt;&lt;td&gt;&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">id=</span><span class="s">"pedidos_codigo"</span><span class="nt">&gt;&lt;/td&gt;&lt;/tr&gt;</span>
            <span class="nt">&lt;tr&gt;&lt;td&gt;</span>usuarios_codigo<span class="nt">&lt;/td&gt;&lt;td&gt;&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">id=</span><span class="s">"usuarios_codigo"</span><span class="nt">&gt;&lt;/td&gt;&lt;/tr&gt;</span>
            <span class="nt">&lt;tr&gt;&lt;td&gt;</span>usuarios_nome<span class="nt">&lt;/td&gt;&lt;td&gt;&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">id=</span><span class="s">"usuarios_nome"</span><span class="nt">&gt;&lt;/td&gt;&lt;/tr&gt;</span>
            <span class="nt">&lt;tr&gt;&lt;td&gt;</span>usuarios_email<span class="nt">&lt;/td&gt;&lt;td&gt;&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">id=</span><span class="s">"usuarios_email"</span><span class="nt">&gt;&lt;/td&gt;&lt;/tr&gt;</span>
            <span class="nt">&lt;tr&gt;&lt;td&gt;</span>agentes_codigo<span class="nt">&lt;/td&gt;&lt;td&gt;&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">id=</span><span class="s">"agentes_codigo"</span><span class="nt">&gt;&lt;/td&gt;&lt;/tr&gt;</span>
            <span class="nt">&lt;tr&gt;&lt;td&gt;</span>agentes_nome<span class="nt">&lt;/td&gt;&lt;td&gt;&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">id=</span><span class="s">"agentes_nome"</span><span class="nt">&gt;&lt;/td&gt;&lt;/tr&gt;</span>
            <span class="nt">&lt;tr&gt;&lt;td&gt;</span>tipo_pedido_origem_codigo<span class="nt">&lt;/td&gt;&lt;td&gt;&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">id=</span><span class="s">"tipo_pedidos_origem_codigo"</span><span class="nt">&gt;&lt;/td&gt;&lt;/tr&gt;</span>
            <span class="nt">&lt;tr&gt;&lt;td&gt;</span>tipo_pedido_origem_nome<span class="nt">&lt;/td&gt;&lt;td&gt;&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">id=</span><span class="s">"tipo_pedidos_origem_nome"</span><span class="nt">&gt;&lt;/td&gt;&lt;/tr&gt;</span>
            <span class="nt">&lt;tr&gt;&lt;td&gt;</span>tipo_poder_codigo_local<span class="nt">&lt;/td&gt;&lt;td&gt;&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">id=</span><span class="s">"tipo_poder_codigo_local"</span><span class="nt">&gt;&lt;/td&gt;&lt;/tr&gt;</span>
            <span class="nt">&lt;tr&gt;&lt;td&gt;</span>tipo_poder_nome_local<span class="nt">&lt;/td&gt;&lt;td&gt;&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">id=</span><span class="s">"tipo_poder_nome_local"</span><span class="nt">&gt;&lt;/td&gt;&lt;/tr&gt;</span>
            <span class="nt">&lt;tr&gt;&lt;td&gt;</span>tipo_nivel_federativo_codigo_local<span class="nt">&lt;/td&gt;&lt;td&gt;&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">id=</span><span class="s">"tipo_nivel_federativo_codigo_local"</span><span class="nt">&gt;&lt;/td&gt;&lt;/tr&gt;</span>
            <span class="nt">&lt;tr&gt;&lt;td&gt;</span>tipo_nivel_federativo_nome_local<span class="nt">&lt;/td&gt;&lt;td&gt;&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">id=</span><span class="s">"tipo_nivel_federativo_nome_local"</span><span class="nt">&gt;&lt;/td&gt;&lt;/tr&gt;</span>
            <span class="nt">&lt;tr&gt;&lt;td&gt;</span>tipo_pedido_situacao_codigo<span class="nt">&lt;/td&gt;&lt;td&gt;&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">id=</span><span class="s">"tipo_pedido_situacao_codigo"</span><span class="nt">&gt;&lt;/td&gt;&lt;/tr&gt;</span>
            <span class="nt">&lt;tr&gt;&lt;td&gt;</span>tipo_pedido_situacao_nome<span class="nt">&lt;/td&gt;&lt;td&gt;&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">id=</span><span class="s">"tipo_pedido_situacao_nome"</span><span class="nt">&gt;&lt;/td&gt;&lt;/tr&gt;</span>
            <span class="nt">&lt;tr&gt;&lt;td&gt;</span>status_pedido_codigo<span class="nt">&lt;/td&gt;&lt;td&gt;&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">id=</span><span class="s">"status_pedido_codigo"</span><span class="nt">&gt;&lt;/td&gt;&lt;/tr&gt;</span>
            <span class="nt">&lt;tr&gt;&lt;td&gt;</span>status_pedido_nome<span class="nt">&lt;/td&gt;&lt;td&gt;&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">id=</span><span class="s">"status_pedido_nome"</span><span class="nt">&gt;&lt;/td&gt;&lt;/tr&gt;</span>
            <span class="nt">&lt;tr&gt;&lt;td&gt;</span>status_pedido_interno_codigo<span class="nt">&lt;/td&gt;&lt;td&gt;&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">id=</span><span class="s">"status_pedido_interno_codigo"</span><span class="nt">&gt;&lt;/td&gt;&lt;/tr&gt;</span>
            <span class="nt">&lt;tr&gt;&lt;td&gt;</span>status_pedido_interno_nome<span class="nt">&lt;/td&gt;&lt;td&gt;&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">id=</span><span class="s">"status_pedido_interno_nome"</span><span class="nt">&gt;&lt;/td&gt;&lt;/tr&gt;</span>
            <span class="nt">&lt;tr&gt;&lt;td&gt;</span>pedidos_protocolo<span class="nt">&lt;/td&gt;&lt;td&gt;&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">id=</span><span class="s">"pedidos_protocolo"</span><span class="nt">&gt;&lt;/td&gt;&lt;/tr&gt;</span>
            <span class="nt">&lt;tr&gt;&lt;td&gt;</span>pedidos_titulo<span class="nt">&lt;/td&gt;&lt;td&gt;&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">id=</span><span class="s">"pedidos_titulo"</span><span class="nt">&gt;&lt;/td&gt;&lt;/tr&gt;</span>
            <span class="nt">&lt;tr&gt;&lt;td&gt;</span>pedidos_slug<span class="nt">&lt;/td&gt;&lt;td&gt;&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">id=</span><span class="s">"pedidos_slug"</span><span class="nt">&gt;&lt;/td&gt;&lt;/tr&gt;</span>
            <span class="nt">&lt;tr&gt;&lt;td&gt;</span>pedidos_descricao<span class="nt">&lt;/td&gt;&lt;td&gt;&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">id=</span><span class="s">"pedidos_descricao"</span><span class="nt">&gt;&lt;/td&gt;&lt;/tr&gt;</span>
            <span class="nt">&lt;tr&gt;&lt;td&gt;</span>pedidos_enviado_para<span class="nt">&lt;/td&gt;&lt;td&gt;&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">id=</span><span class="s">"pedidos_enviado_para"</span><span class="nt">&gt;&lt;/td&gt;&lt;/tr&gt;</span>
            <span class="nt">&lt;tr&gt;&lt;td&gt;</span>pedidos_data_envio<span class="nt">&lt;/td&gt;&lt;td&gt;&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">id=</span><span class="s">"pedidos_data_envio"</span><span class="nt">&gt;&lt;/td&gt;&lt;/tr&gt;</span>
            <span class="nt">&lt;tr&gt;&lt;td&gt;</span>pedidos_foi_prorrogado<span class="nt">&lt;/td&gt;&lt;td&gt;&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">id=</span><span class="s">"pedidos_foi_prorrogado"</span><span class="nt">&gt;&lt;/td&gt;&lt;/tr&gt;</span>
            <span class="nt">&lt;tr&gt;&lt;td&gt;</span>pedidos_anonimo<span class="nt">&lt;/td&gt;&lt;td&gt;&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">id=</span><span class="s">"pedidos_anonimo"</span><span class="nt">&gt;&lt;/td&gt;&lt;/tr&gt;</span>
            <span class="nt">&lt;tr&gt;&lt;td&gt;</span>interacoes_codigo<span class="nt">&lt;/td&gt;&lt;td&gt;&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">id=</span><span class="s">"interacoes_codigo"</span><span class="nt">&gt;&lt;/td&gt;&lt;/tr&gt;</span>
            <span class="nt">&lt;tr&gt;&lt;td&gt;</span>tipo_pedidos_resposta_codigo<span class="nt">&lt;/td&gt;&lt;td&gt;&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">id=</span><span class="s">"tipo_pedidos_resposta_codigo"</span><span class="nt">&gt;&lt;/td&gt;&lt;/tr&gt;</span>
            <span class="nt">&lt;tr&gt;&lt;td&gt;</span>tipo_pedidos_resposta_nome<span class="nt">&lt;/td&gt;&lt;td&gt;&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">id=</span><span class="s">"tipo_pedidos_resposta_nome"</span><span class="nt">&gt;&lt;/td&gt;&lt;/tr&gt;</span>
            <span class="nt">&lt;tr&gt;&lt;td&gt;</span>interacoes_descricao<span class="nt">&lt;/td&gt;&lt;td&gt;&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">id=</span><span class="s">"interacoes_descricao"</span><span class="nt">&gt;&lt;/td&gt;&lt;/tr&gt;</span>
            <span class="nt">&lt;tr&gt;&lt;td&gt;</span>interacoes_data_resposta<span class="nt">&lt;/td&gt;&lt;td&gt;&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">id=</span><span class="s">"interacoes_data_resposta"</span><span class="nt">&gt;&lt;/td&gt;&lt;/tr&gt;</span>
            <span class="nt">&lt;tr&gt;&lt;td</span> <span class="na">colspan=</span><span class="s">"2"</span><span class="nt">&gt;&lt;input</span> <span class="na">type=</span><span class="s">"button"</span> <span class="na">id=</span><span class="s">"btnGravar"</span> <span class="na">value=</span><span class="s">"Gravar"</span><span class="nt">&gt;&lt;/td&gt;&lt;/tr&gt;</span>
        <span class="nt">&lt;/table&gt;</span>
    <span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span>

</code></pre>
<blockquote>
<p>O código acima retorna o objeto abaixo em caso de sucesso:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>O código acima retorna o objeto abaixo em caso de erro:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"error"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"source"</span><span class="p">:</span><span class="w"> </span><span class="s2">"..."</span><span class="p">,</span><span class="w">
        </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"..."</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Este endpoint serve pra criar anexos no elasticsearch, caso o código do anexo já tenha sido utilizado, o endpoint sobreescreverá o json no elasticsearch. </p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">PUT /achadosepedidos.org.br/api/anexos/gravar/$CODIGO_ANEXO</code></p>

<h3 id="par-metros-querystring">Parâmetros - Querystring</h3>

<table><thead>
<tr>
<th>Parâmetro</th>
<th>Tipo</th>
<th>Observação</th>
</tr>
</thead><tbody>
<tr>
<td>CODIGO_ANEXO</td>
<td>Número</td>
<td>Obrigatório</td>
</tr>
</tbody></table>

<h3 id="par-metros-do-request">Parâmetros do Request</h3>

<table><thead>
<tr>
<th>Parâmetro</th>
<th>Tipo</th>
<th>Observação</th>
</tr>
</thead><tbody>
<tr>
<td>anexos_codigo</td>
<td>Número</td>
<td>Obrigatório</td>
</tr>
<tr>
<td>anexos_arquivo</td>
<td>Texto</td>
<td></td>
</tr>
<tr>
<td>anexos_conteudo_arquivo</td>
<td>Texto</td>
<td></td>
</tr>
<tr>
<td>interacoes_codigo</td>
<td>Número</td>
<td>Obrigatório</td>
</tr>
<tr>
<td>interacoes_descricao</td>
<td>Texto</td>
<td></td>
</tr>
<tr>
<td>interacoes_data_resposta</td>
<td>Data</td>
<td>Timestamp em formato &ldquo;aaaa-mm-dd&rdquo;</td>
</tr>
<tr>
<td>codigo_pedido</td>
<td>Número</td>
<td>Obrigatório</td>
</tr>
<tr>
<td>usuarios_codigo</td>
<td>Número</td>
<td></td>
</tr>
<tr>
<td>usuarios_nome</td>
<td>Texto</td>
<td></td>
</tr>
<tr>
<td>usuarios_email</td>
<td>Texto</td>
<td></td>
</tr>
<tr>
<td>agentes_codigo</td>
<td>Número</td>
<td></td>
</tr>
<tr>
<td>agentes_nome</td>
<td>Texto</td>
<td></td>
</tr>
<tr>
<td>tipo_pedidos_origem_codigo</td>
<td>Número</td>
<td></td>
</tr>
<tr>
<td>tipo_pedidos_origem_nome</td>
<td>Texto</td>
<td></td>
</tr>
<tr>
<td>tipo_pedido_situacao_codigo</td>
<td>Número</td>
<td></td>
</tr>
<tr>
<td>tipo_pedido_situacao_nome</td>
<td>Texto</td>
<td></td>
</tr>
<tr>
<td>status_pedido_codigo</td>
<td>Número</td>
<td></td>
</tr>
<tr>
<td>status_pedido_nome</td>
<td>Texto</td>
<td></td>
</tr>
<tr>
<td>status_pedido_interno_codigo</td>
<td>Número</td>
<td></td>
</tr>
<tr>
<td>status_pedido_interno_nome</td>
<td>Texto</td>
<td></td>
</tr>
<tr>
<td>tipo_pedido_origem_codigo</td>
<td>Número</td>
<td></td>
</tr>
<tr>
<td>tipo_pedido_origem_nome</td>
<td>Texto</td>
<td></td>
</tr>
<tr>
<td>tipo_poder_codigo</td>
<td>Número</td>
<td></td>
</tr>
<tr>
<td>tipo_poder_nome</td>
<td>Texto</td>
<td></td>
</tr>
<tr>
<td>tipo_nivel_federativo_codigo</td>
<td>Número</td>
<td></td>
</tr>
<tr>
<td>tipo_nivel_federativo_nome</td>
<td>Texto</td>
<td></td>
</tr>
<tr>
<td>pedidos_protocolo</td>
<td>Texto</td>
<td></td>
</tr>
<tr>
<td>pedidos_titulo</td>
<td>Texto</td>
<td></td>
</tr>
<tr>
<td>pedidos_slug</td>
<td>Texto</td>
<td></td>
</tr>
<tr>
<td>pedidos_descricao</td>
<td>Texto</td>
<td></td>
</tr>
<tr>
<td>pedidos_enviado_para</td>
<td>Texto</td>
<td></td>
</tr>
<tr>
<td>pedidos_data_envio</td>
<td>Data</td>
<td>Timestamp em formato &ldquo;aaaa-mm-dd&rdquo;</td>
</tr>
<tr>
<td>pedidos_foi_prorrogado</td>
<td>Boolean</td>
<td></td>
</tr>
<tr>
<td>pedidos_anonimo</td>
<td>Boolean</td>
<td></td>
</tr>
</tbody></table>

<h2 id="apagar-anexo">Apagar anexo</h2>
<pre class="highlight javascript"><code>
<span class="nx">$</span><span class="p">(</span><span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>

    <span class="nx">$</span><span class="p">(</span><span class="nb">document</span><span class="p">).</span><span class="nx">ready</span><span class="p">(</span><span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
        <span class="nx">$</span><span class="p">(</span> <span class="s2">"#btnApagar"</span> <span class="p">).</span><span class="nx">click</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
            <span class="nx">apagar</span><span class="p">();</span>
        <span class="p">});</span>        
    <span class="p">});</span>

    <span class="kd">function</span> <span class="nx">apagar</span><span class="p">()</span> <span class="p">{</span>

        <span class="kd">var</span> <span class="nx">urlApi</span> <span class="o">=</span> <span class="s1">'/achadosepedidos.org.br/api/anexos/apagar/'</span> <span class="o">+</span> <span class="nx">$</span><span class="p">(</span><span class="s1">'#anexos_codigo'</span><span class="p">).</span><span class="nx">val</span><span class="p">();</span>

        <span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">(</span><span class="nx">urlApi</span><span class="p">,</span> <span class="p">{</span>
            <span class="na">method</span><span class="p">:</span> <span class="s2">"DELETE"</span><span class="p">,</span>
            <span class="na">contentType</span><span class="p">:</span> <span class="s1">'application/x-www-form-urlencoded'</span><span class="p">,</span>
            <span class="na">dataType</span><span class="p">:</span> <span class="s2">"json"</span><span class="p">,</span>
            <span class="na">success</span><span class="p">:</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">result</span><span class="p">)</span> <span class="p">{</span>
                <span class="nx">alert</span><span class="p">(</span><span class="s2">"Anexo apagado"</span><span class="p">);</span>
            <span class="p">},</span>
            <span class="na">error</span><span class="p">:</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
                <span class="nx">alert</span><span class="p">(</span><span class="s2">"Erro"</span><span class="p">);</span>
            <span class="p">}</span>
        <span class="p">});</span>
    <span class="p">}</span>

<span class="p">});</span>

</code></pre><pre class="highlight html"><code><span class="cp">&lt;!DOCTYPE html&gt;</span>
<span class="nt">&lt;html</span> <span class="na">lang=</span><span class="s">"pt-BR"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;head&gt;</span>
        <span class="nt">&lt;title&gt;</span>Apagar Anexo<span class="nt">&lt;/title&gt;</span>
        <span class="nt">&lt;script </span><span class="na">src=</span><span class="s">"https://code.jquery.com/jquery-2.2.4.min.js"</span><span class="nt">&gt;&lt;/script&gt;</span>
    <span class="nt">&lt;/head&gt;</span>
    <span class="nt">&lt;body&gt;</span>
        <span class="nt">&lt;table&gt;</span>
            <span class="nt">&lt;tr&gt;</span>
                <span class="nt">&lt;td&gt;</span>anexos_codigo<span class="nt">&lt;/td&gt;</span>
                <span class="nt">&lt;td&gt;&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">id=</span><span class="s">"anexos_codigo"</span><span class="nt">&gt;&lt;/td&gt;</span>
            <span class="nt">&lt;/tr&gt;</span>
            <span class="nt">&lt;tr&gt;&lt;td</span> <span class="na">colspan=</span><span class="s">"2"</span><span class="nt">&gt;&lt;input</span> <span class="na">type=</span><span class="s">"button"</span> <span class="na">id=</span><span class="s">"btnApagar"</span> <span class="na">value=</span><span class="s">"Apagar"</span><span class="nt">&gt;&lt;/td&gt;&lt;/tr&gt;</span>
        <span class="nt">&lt;/table&gt;</span>
    <span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span>

</code></pre>
<blockquote>
<p>O código acima retorna o objeto abaixo em caso de sucesso:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>O código acima retorna o objeto abaixo em caso de erro:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"error"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"source"</span><span class="p">:</span><span class="w"> </span><span class="s2">"..."</span><span class="p">,</span><span class="w">
        </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"..."</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Este endpoint serve para apagar um anexo no elasticsearch. </p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">DELETE /achadosepedidos.org.br/api/anexos/apagar/$CODIGO_ANEXO</code></p>

<h3 id="par-metros-querystring">Parâmetros - Querystring</h3>

<table><thead>
<tr>
<th>Parâmetro</th>
<th>Tipo</th>
<th>Observação</th>
</tr>
</thead><tbody>
<tr>
<td>CODIGO_ANEXO</td>
<td>Número</td>
<td>Obrigatório</td>
</tr>
</tbody></table>

<h2 id="atualizar-anexo-pelo-extractor">Atualizar anexo pelo extractor</h2>
<pre class="highlight javascript"><code>
<span class="nx">$</span><span class="p">(</span><span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>

    <span class="nx">$</span><span class="p">(</span><span class="nb">document</span><span class="p">).</span><span class="nx">ready</span><span class="p">(</span><span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
        <span class="nx">$</span><span class="p">(</span> <span class="s2">"#btnAtualizar"</span> <span class="p">).</span><span class="nx">click</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
            <span class="nx">atualizar</span><span class="p">();</span>
        <span class="p">});</span>        
    <span class="p">});</span>

    <span class="kd">function</span> <span class="nx">atualizar</span><span class="p">()</span> <span class="p">{</span>

        <span class="kd">var</span> <span class="nx">urlApi</span> <span class="o">=</span> <span class="s1">'/achadosepedidos.org.br/api/anexos/extractor-update/'</span> <span class="o">+</span> <span class="nx">$</span><span class="p">(</span><span class="s1">'#anexos_codigo'</span><span class="p">).</span><span class="nx">val</span><span class="p">();</span>

        <span class="kd">var</span> <span class="nx">data</span> <span class="o">=</span> <span class="p">{</span> 
            <span class="s1">'value'</span> <span class="p">:</span>  <span class="nx">$</span><span class="p">(</span><span class="s1">'#value'</span><span class="p">).</span><span class="nx">val</span><span class="p">(),</span>
            <span class="s1">'anexos_conteudo_arquivo'</span> <span class="p">:</span>  <span class="nx">$</span><span class="p">(</span><span class="s1">'#anexos_conteudo_arquivo'</span><span class="p">).</span><span class="nx">val</span><span class="p">()</span>
        <span class="p">};</span>

        <span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">(</span><span class="nx">urlApi</span><span class="p">,</span> <span class="p">{</span>
            <span class="na">method</span><span class="p">:</span> <span class="s2">"PUT"</span><span class="p">,</span>
            <span class="na">contentType</span><span class="p">:</span> <span class="s1">'application/x-www-form-urlencoded'</span><span class="p">,</span>
            <span class="na">dataType</span><span class="p">:</span> <span class="s2">"json"</span><span class="p">,</span>
            <span class="na">data</span><span class="p">:</span> <span class="nx">data</span><span class="p">,</span>
            <span class="na">success</span><span class="p">:</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">result</span><span class="p">)</span> <span class="p">{</span>
                <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">result</span><span class="p">);</span>
                <span class="nx">alert</span><span class="p">(</span><span class="s1">'Ok'</span><span class="p">);</span>
            <span class="p">},</span>
            <span class="na">error</span><span class="p">:</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
                <span class="nx">alert</span><span class="p">(</span><span class="s2">"Erro"</span><span class="p">);</span>
            <span class="p">}</span>
        <span class="p">});</span>
    <span class="p">}</span>

<span class="p">});</span>

</code></pre><pre class="highlight html"><code><span class="cp">&lt;!DOCTYPE html&gt;</span>
<span class="nt">&lt;html</span> <span class="na">lang=</span><span class="s">"pt-BR"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;head&gt;</span>
        <span class="nt">&lt;title&gt;</span>Atualizar anexo | extractor<span class="nt">&lt;/title&gt;</span>
        <span class="nt">&lt;script </span><span class="na">src=</span><span class="s">"https://code.jquery.com/jquery-2.2.4.min.js"</span><span class="nt">&gt;&lt;/script&gt;</span>
    <span class="nt">&lt;/head&gt;</span>
    <span class="nt">&lt;body&gt;</span>
        <span class="nt">&lt;table&gt;</span>
            <span class="nt">&lt;tr&gt;</span>
                <span class="nt">&lt;td&gt;</span>codigo<span class="nt">&lt;/td&gt;</span>
                <span class="nt">&lt;td&gt;&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">id=</span><span class="s">"anexos_codigo"</span><span class="nt">&gt;&lt;/td&gt;</span>
            <span class="nt">&lt;/tr&gt;</span>
            <span class="nt">&lt;tr&gt;</span>
                <span class="nt">&lt;td&gt;</span>Conteudo do arquivo<span class="nt">&lt;/td&gt;</span>
                <span class="nt">&lt;td&gt;&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">id=</span><span class="s">"anexos_conteudo_arquivo"</span><span class="nt">&gt;&lt;/td&gt;</span>
            <span class="nt">&lt;/tr&gt;</span>
            <span class="nt">&lt;tr&gt;&lt;td</span> <span class="na">colspan=</span><span class="s">"2"</span><span class="nt">&gt;&lt;input</span> <span class="na">type=</span><span class="s">"button"</span> <span class="na">id=</span><span class="s">"btnAtualizar"</span> <span class="na">value=</span><span class="s">"Atualizar"</span><span class="nt">&gt;&lt;/td&gt;&lt;/tr&gt;</span>
        <span class="nt">&lt;/table&gt;</span>
    <span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span>

</code></pre>
<blockquote>
<p>O código acima retorna o objeto abaixo em caso de sucesso:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>O código acima retorna o objeto abaixo em caso de erro:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"error"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"source"</span><span class="p">:</span><span class="w"> </span><span class="s2">"..."</span><span class="p">,</span><span class="w">
        </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"..."</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Este endpoint serve para apagar um anexo no elasticsearch. </p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">PUT /achadosepedidos.org.br/api/anexos/extractor-update/$CODIGO_ANEXO</code></p>

<h3 id="par-metros-querystring">Parâmetros - Querystring</h3>

<table><thead>
<tr>
<th>Parâmetro</th>
<th>Tipo</th>
<th>Observação</th>
</tr>
</thead><tbody>
<tr>
<td>CODIGO_ANEXO</td>
<td>Número</td>
<td>Obrigatório</td>
</tr>
</tbody></table>

<h3 id="par-metros-body">Parâmetros - Body</h3>

<table><thead>
<tr>
<th>Parâmetro</th>
<th>Tipo</th>
<th>Observação</th>
</tr>
</thead><tbody>
<tr>
<td>anexos_conteudo_arquivo</td>
<td>Texto</td>
<td>Obrigatório, texto extraído do arquivo</td>
</tr>
</tbody></table>

<h2 id="consultar-anexo-por-id">Consultar anexo por ID</h2>
<pre class="highlight javascript"><code>
<span class="nx">$</span><span class="p">(</span><span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>

    <span class="nx">$</span><span class="p">(</span><span class="nb">document</span><span class="p">).</span><span class="nx">ready</span><span class="p">(</span><span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
        <span class="nx">$</span><span class="p">(</span> <span class="s2">"#btnConsultar"</span> <span class="p">).</span><span class="nx">click</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
            <span class="nx">consultar</span><span class="p">();</span>
        <span class="p">});</span>        
    <span class="p">});</span>

    <span class="kd">function</span> <span class="nx">consultar</span><span class="p">()</span> <span class="p">{</span>

        <span class="kd">var</span> <span class="nx">urlApi</span> <span class="o">=</span> <span class="s1">'/achadosepedidos.org.br/api/anexos/consultar/'</span> <span class="o">+</span> <span class="nx">$</span><span class="p">(</span><span class="s1">'#codigo_anexo'</span><span class="p">).</span><span class="nx">val</span><span class="p">();</span>

        <span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">(</span><span class="nx">urlApi</span><span class="p">,</span> <span class="p">{</span>
            <span class="na">method</span><span class="p">:</span> <span class="s2">"GET"</span><span class="p">,</span>
            <span class="na">contentType</span><span class="p">:</span> <span class="s1">'application/x-www-form-urlencoded'</span><span class="p">,</span>
            <span class="na">dataType</span><span class="p">:</span> <span class="s2">"json"</span><span class="p">,</span>
            <span class="na">success</span><span class="p">:</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">result</span><span class="p">)</span> <span class="p">{</span>
                <span class="nx">alert</span><span class="p">(</span><span class="s2">"Anexo encontrado"</span><span class="p">);</span>
                <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">result</span><span class="p">);</span>
            <span class="p">},</span>
            <span class="na">error</span><span class="p">:</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
                <span class="nx">alert</span><span class="p">(</span><span class="s2">"Erro"</span><span class="p">);</span>
            <span class="p">}</span>
        <span class="p">});</span>
    <span class="p">}</span>

<span class="p">});</span>

</code></pre><pre class="highlight html"><code><span class="cp">&lt;!DOCTYPE html&gt;</span>
<span class="nt">&lt;html</span> <span class="na">lang=</span><span class="s">"pt-BR"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;head&gt;</span>
        <span class="nt">&lt;title&gt;</span>Consultar Anexo<span class="nt">&lt;/title&gt;</span>
        <span class="nt">&lt;script </span><span class="na">src=</span><span class="s">"https://code.jquery.com/jquery-2.2.4.min.js"</span><span class="nt">&gt;&lt;/script&gt;</span>
    <span class="nt">&lt;/head&gt;</span>
    <span class="nt">&lt;body&gt;</span>
        <span class="nt">&lt;table&gt;</span>
            <span class="nt">&lt;tr&gt;</span>
                <span class="nt">&lt;td&gt;</span>codigo_anexo<span class="nt">&lt;/td&gt;</span>
                <span class="nt">&lt;td&gt;&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">id=</span><span class="s">"codigo_anexo"</span><span class="nt">&gt;&lt;/td&gt;</span>
            <span class="nt">&lt;/tr&gt;</span>
            <span class="nt">&lt;tr&gt;&lt;td</span> <span class="na">colspan=</span><span class="s">"2"</span><span class="nt">&gt;&lt;input</span> <span class="na">type=</span><span class="s">"button"</span> <span class="na">id=</span><span class="s">"btnConsultar"</span> <span class="na">value=</span><span class="s">"Consultar"</span><span class="nt">&gt;&lt;/td&gt;&lt;/tr&gt;</span>
        <span class="nt">&lt;/table&gt;</span>
    <span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span>

</code></pre>
<blockquote>
<p>O código acima retorna o objeto abaixo em caso de sucesso:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"... objeto do anexo ..."</span><span class="w">
</span><span class="err">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>O código acima retorna o objeto abaixo em caso de erro:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"error"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"source"</span><span class="p">:</span><span class="w"> </span><span class="s2">"..."</span><span class="p">,</span><span class="w">
        </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"..."</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Este endpoint serve para consultar um anexo no elasticsearch através de seu ID. </p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET /achadosepedidos.org.br/api/anexos/consultar/$CODIGO_ANEXO</code></p>

<h3 id="par-metros-querystring">Parâmetros - Querystring</h3>

<table><thead>
<tr>
<th>Parâmetro</th>
<th>Tipo</th>
<th>Observação</th>
</tr>
</thead><tbody>
<tr>
<td>CODIGO_ANEXO</td>
<td>Número</td>
<td>Obrigatório</td>
</tr>
</tbody></table>

<h2 id="consultar-anexos">Consultar anexos</h2>
<pre class="highlight javascript"><code>
<span class="nx">$</span><span class="p">(</span><span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>

    <span class="nx">$</span><span class="p">(</span><span class="nb">document</span><span class="p">).</span><span class="nx">ready</span><span class="p">(</span><span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
        <span class="nx">$</span><span class="p">(</span> <span class="s2">"#btnConsultar"</span> <span class="p">).</span><span class="nx">click</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
            <span class="nx">consultar</span><span class="p">();</span>
        <span class="p">});</span>        
    <span class="p">});</span>

    <span class="kd">function</span> <span class="nx">consultar</span><span class="p">()</span> <span class="p">{</span>

        <span class="kd">var</span> <span class="nx">urlApi</span> <span class="o">=</span> <span class="s1">'/achadosepedidos.org.br/api/anexos/consultar/'</span><span class="p">;</span>

        <span class="kd">var</span> <span class="nx">data</span> <span class="o">=</span> <span class="p">{</span> 
            <span class="s1">'value'</span> <span class="p">:</span>  <span class="nx">$</span><span class="p">(</span><span class="s1">'#value'</span><span class="p">).</span><span class="nx">val</span><span class="p">()</span>
        <span class="p">};</span>

        <span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">(</span><span class="nx">urlApi</span><span class="p">,</span> <span class="p">{</span>
            <span class="na">method</span><span class="p">:</span> <span class="s2">"POST"</span><span class="p">,</span>
            <span class="na">contentType</span><span class="p">:</span> <span class="s1">'application/x-www-form-urlencoded'</span><span class="p">,</span>
            <span class="na">dataType</span><span class="p">:</span> <span class="s2">"json"</span><span class="p">,</span>
            <span class="na">data</span><span class="p">:</span> <span class="nx">data</span><span class="p">,</span>
            <span class="na">success</span><span class="p">:</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">result</span><span class="p">)</span> <span class="p">{</span>
                <span class="nx">alert</span><span class="p">(</span><span class="s2">"Anexo encontrado"</span><span class="p">);</span>
                <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">result</span><span class="p">);</span>
            <span class="p">},</span>
            <span class="na">error</span><span class="p">:</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
                <span class="nx">alert</span><span class="p">(</span><span class="s2">"Erro"</span><span class="p">);</span>
            <span class="p">}</span>
        <span class="p">});</span>
    <span class="p">}</span>

<span class="p">});</span>

</code></pre><pre class="highlight html"><code><span class="cp">&lt;!DOCTYPE html&gt;</span>
<span class="nt">&lt;html</span> <span class="na">lang=</span><span class="s">"pt-BR"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;head&gt;</span>
        <span class="nt">&lt;title&gt;</span>Consultar Anexo<span class="nt">&lt;/title&gt;</span>
        <span class="nt">&lt;script </span><span class="na">src=</span><span class="s">"https://code.jquery.com/jquery-2.2.4.min.js"</span><span class="nt">&gt;&lt;/script&gt;</span>
    <span class="nt">&lt;/head&gt;</span>
    <span class="nt">&lt;body&gt;</span>
        <span class="nt">&lt;table&gt;</span>
            <span class="nt">&lt;tr&gt;</span>
                <span class="nt">&lt;td&gt;</span>Valor<span class="nt">&lt;/td&gt;</span>
                <span class="nt">&lt;td&gt;&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">id=</span><span class="s">"value"</span><span class="nt">&gt;&lt;/td&gt;</span>
            <span class="nt">&lt;/tr&gt;</span>
            <span class="nt">&lt;tr&gt;&lt;td</span> <span class="na">colspan=</span><span class="s">"2"</span><span class="nt">&gt;&lt;input</span> <span class="na">type=</span><span class="s">"button"</span> <span class="na">id=</span><span class="s">"btnConsultar"</span> <span class="na">value=</span><span class="s">"Consultar"</span><span class="nt">&gt;&lt;/td&gt;&lt;/tr&gt;</span>
        <span class="nt">&lt;/table&gt;</span>
    <span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span>

</code></pre>
<blockquote>
<p>O código acima retorna o objeto abaixo em caso de sucesso:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"total"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nt">"max_score"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"hits"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"... array de anexos ..."</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>O código acima retorna o objeto abaixo em caso de erro:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"error"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"source"</span><span class="p">:</span><span class="w"> </span><span class="s2">"..."</span><span class="p">,</span><span class="w">
        </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"..."</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Este endpoint serve para consultar um anexo no elasticsearch através de qualquer palavra inserida no corpo do anexo. </p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST /achadosepedidos.org.br/api/anexos/consultar/</code></p>

<h3 id="par-metros-querystring">Parâmetros - Querystring</h3>

<table><thead>
<tr>
<th>Parâmetro</th>
<th>Tipo</th>
<th>Observação</th>
</tr>
</thead><tbody>
<tr>
<td>value</td>
<td>Texto</td>
<td>Obrigatório</td>
</tr>
</tbody></table>

<h2 id="contar-anexos">Contar anexos</h2>
<pre class="highlight javascript"><code>
<span class="nx">$</span><span class="p">(</span><span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>

    <span class="nx">$</span><span class="p">(</span><span class="nb">document</span><span class="p">).</span><span class="nx">ready</span><span class="p">(</span><span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
        <span class="nx">$</span><span class="p">(</span> <span class="s2">"#btnConsultar"</span> <span class="p">).</span><span class="nx">click</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
            <span class="nx">consultar</span><span class="p">();</span>
        <span class="p">});</span>        
    <span class="p">});</span>

    <span class="kd">function</span> <span class="nx">consultar</span><span class="p">()</span> <span class="p">{</span>

        <span class="kd">var</span> <span class="nx">urlApi</span> <span class="o">=</span> <span class="s1">'/achadosepedidos.org.br/api/anexos/contar/'</span><span class="p">;</span>

        <span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">(</span><span class="nx">urlApi</span><span class="p">,</span> <span class="p">{</span>
            <span class="na">method</span><span class="p">:</span> <span class="s2">"POST"</span><span class="p">,</span>
            <span class="na">contentType</span><span class="p">:</span> <span class="s1">'application/x-www-form-urlencoded'</span><span class="p">,</span>
            <span class="na">dataType</span><span class="p">:</span> <span class="s2">"json"</span><span class="p">,</span>
            <span class="na">success</span><span class="p">:</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">result</span><span class="p">)</span> <span class="p">{</span>
                <span class="nx">alert</span><span class="p">(</span><span class="nx">result</span><span class="p">);</span>
                <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">result</span><span class="p">);</span>
            <span class="p">},</span>
            <span class="na">error</span><span class="p">:</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
                <span class="nx">alert</span><span class="p">(</span><span class="s2">"Erro"</span><span class="p">);</span>
            <span class="p">}</span>
        <span class="p">});</span>
    <span class="p">}</span>

<span class="p">});</span>

</code></pre><pre class="highlight html"><code><span class="cp">&lt;!DOCTYPE html&gt;</span>
<span class="nt">&lt;html</span> <span class="na">lang=</span><span class="s">"pt-BR"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;head&gt;</span>
        <span class="nt">&lt;title&gt;</span>Contar Anexos<span class="nt">&lt;/title&gt;</span>
        <span class="nt">&lt;script </span><span class="na">src=</span><span class="s">"https://code.jquery.com/jquery-2.2.4.min.js"</span><span class="nt">&gt;&lt;/script&gt;</span>
    <span class="nt">&lt;/head&gt;</span>
    <span class="nt">&lt;body&gt;</span>
        <span class="nt">&lt;table&gt;</span>
            <span class="nt">&lt;tr&gt;</span>
                <span class="nt">&lt;td&gt;</span>Valor<span class="nt">&lt;/td&gt;</span>
                <span class="nt">&lt;td&gt;&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">id=</span><span class="s">"value"</span><span class="nt">&gt;&lt;/td&gt;</span>
            <span class="nt">&lt;/tr&gt;</span>
            <span class="nt">&lt;tr&gt;&lt;td</span> <span class="na">colspan=</span><span class="s">"2"</span><span class="nt">&gt;&lt;input</span> <span class="na">type=</span><span class="s">"button"</span> <span class="na">id=</span><span class="s">"btnConsultar"</span> <span class="na">value=</span><span class="s">"Consultar"</span><span class="nt">&gt;&lt;/td&gt;&lt;/tr&gt;</span>
        <span class="nt">&lt;/table&gt;</span>
    <span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span>

</code></pre>
<blockquote>
<p>O código acima retorna número inteiro com a quantidade de documentos que satisfazem a pesquisa:</p>
</blockquote>
<pre class="highlight json"><code><span class="mi">0</span><span class="w">
</span></code></pre>
<blockquote>
<p>O código acima retorna o objeto abaixo em caso de erro:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"error"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"source"</span><span class="p">:</span><span class="w"> </span><span class="s2">"..."</span><span class="p">,</span><span class="w">
        </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"..."</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Este endpoint serve para contar a quantidade de anexos no elasticsearch através de qualquer palavra inserida no corpo do anexo. </p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST /achadosepedidos.org.br/api/anexos/contar/</code></p>

<h3 id="par-metros-querystring">Parâmetros - Querystring</h3>

<table><thead>
<tr>
<th>Parâmetro</th>
<th>Tipo</th>
<th>Observação</th>
</tr>
</thead><tbody>
<tr>
<td>value</td>
<td>Texto</td>
<td>Obrigatório</td>
</tr>
</tbody></table>

<h1 id="multiindex">MultiIndex</h1>

<h2 id="contar-documentos">Contar documentos</h2>
<pre class="highlight javascript"><code>
<span class="nx">$</span><span class="p">(</span><span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>

    <span class="nx">$</span><span class="p">(</span><span class="nb">document</span><span class="p">).</span><span class="nx">ready</span><span class="p">(</span><span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
        <span class="nx">$</span><span class="p">(</span> <span class="s2">"#btnConsultar"</span> <span class="p">).</span><span class="nx">click</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
            <span class="nx">consultar</span><span class="p">();</span>
        <span class="p">});</span>        
    <span class="p">});</span>

    <span class="kd">function</span> <span class="nx">consultar</span><span class="p">()</span> <span class="p">{</span>

        <span class="kd">var</span> <span class="nx">urlApi</span> <span class="o">=</span> <span class="s1">'/achadosepedidos.org.br/api/contar/'</span><span class="p">;</span>

        <span class="kd">var</span> <span class="nx">data</span> <span class="o">=</span> <span class="p">{</span> 
            <span class="s1">'value'</span> <span class="p">:</span>  <span class="nx">$</span><span class="p">(</span><span class="s1">'#value'</span><span class="p">).</span><span class="nx">val</span><span class="p">()</span>
        <span class="p">};</span>

        <span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">(</span><span class="nx">urlApi</span><span class="p">,</span> <span class="p">{</span>
            <span class="na">method</span><span class="p">:</span> <span class="s2">"POST"</span><span class="p">,</span>
            <span class="na">contentType</span><span class="p">:</span> <span class="s1">'application/x-www-form-urlencoded'</span><span class="p">,</span>
            <span class="na">dataType</span><span class="p">:</span> <span class="s2">"json"</span><span class="p">,</span>
            <span class="na">data</span><span class="p">:</span> <span class="nx">data</span><span class="p">,</span>
            <span class="na">success</span><span class="p">:</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">result</span><span class="p">)</span> <span class="p">{</span>
                <span class="nx">alert</span><span class="p">(</span><span class="nx">result</span><span class="p">);</span>
                <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">result</span><span class="p">);</span>
            <span class="p">},</span>
            <span class="na">error</span><span class="p">:</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
                <span class="nx">alert</span><span class="p">(</span><span class="s2">"Erro"</span><span class="p">);</span>
            <span class="p">}</span>
        <span class="p">});</span>
    <span class="p">}</span>

<span class="p">});</span>

</code></pre><pre class="highlight html"><code><span class="cp">&lt;!DOCTYPE html&gt;</span>
<span class="nt">&lt;html</span> <span class="na">lang=</span><span class="s">"pt-BR"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;head&gt;</span>
        <span class="nt">&lt;title&gt;</span>Contar Documentos<span class="nt">&lt;/title&gt;</span>
        <span class="nt">&lt;script </span><span class="na">src=</span><span class="s">"https://code.jquery.com/jquery-2.2.4.min.js"</span><span class="nt">&gt;&lt;/script&gt;</span>
    <span class="nt">&lt;/head&gt;</span>
    <span class="nt">&lt;body&gt;</span>
        <span class="nt">&lt;table&gt;</span>
            <span class="nt">&lt;tr&gt;</span>
                <span class="nt">&lt;td&gt;</span>Valor<span class="nt">&lt;/td&gt;</span>
                <span class="nt">&lt;td&gt;&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">id=</span><span class="s">"value"</span><span class="nt">&gt;&lt;/td&gt;</span>
            <span class="nt">&lt;/tr&gt;</span>
            <span class="nt">&lt;tr&gt;&lt;td</span> <span class="na">colspan=</span><span class="s">"2"</span><span class="nt">&gt;&lt;input</span> <span class="na">type=</span><span class="s">"button"</span> <span class="na">id=</span><span class="s">"btnConsultar"</span> <span class="na">value=</span><span class="s">"Consultar"</span><span class="nt">&gt;&lt;/td&gt;&lt;/tr&gt;</span>
        <span class="nt">&lt;/table&gt;</span>
    <span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span>

</code></pre>
<blockquote>
<p>O código acima retorna um objeto JSON com a quantidade de documentos que satisfazem a pesquisa para cada índice:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"interacoes"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nt">"pedidos"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nt">"anexos"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>O código acima retorna o objeto abaixo em caso de erro:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"error"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"source"</span><span class="p">:</span><span class="w"> </span><span class="s2">"..."</span><span class="p">,</span><span class="w">
        </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"..."</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Este endpoint serve para contar a quantidade de pedidos, interações e anexos no elasticsearch através de qualquer palavra presente no corpo do documento dos 3 índices. </p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST /achadosepedidos.org.br/api/contar/</code></p>

<h3 id="par-metros-querystring">Parâmetros - Querystring</h3>

<table><thead>
<tr>
<th>Parâmetro</th>
<th>Tipo</th>
<th>Observação</th>
</tr>
</thead><tbody>
<tr>
<td>value</td>
<td>Texto</td>
<td>Obrigatório</td>
</tr>
</tbody></table>

<h2 id="consulta-simples">Consulta simples</h2>
<pre class="highlight javascript"><code>
<span class="nx">$</span><span class="p">(</span><span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>

    <span class="nx">$</span><span class="p">(</span><span class="nb">document</span><span class="p">).</span><span class="nx">ready</span><span class="p">(</span><span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
        <span class="nx">$</span><span class="p">(</span> <span class="s2">"#btnConsultar"</span> <span class="p">).</span><span class="nx">click</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
            <span class="nx">consultar</span><span class="p">();</span>
        <span class="p">});</span>        
    <span class="p">});</span>

    <span class="kd">function</span> <span class="nx">consultar</span><span class="p">()</span> <span class="p">{</span>

        <span class="kd">var</span> <span class="nx">urlApi</span> <span class="o">=</span> <span class="s1">'/achadosepedidos.org.br/api/consulta-simples/'</span><span class="p">;</span>

        <span class="kd">var</span> <span class="nx">data</span> <span class="o">=</span> <span class="p">{</span> 
            <span class="s1">'value'</span> <span class="p">:</span>  <span class="nx">$</span><span class="p">(</span><span class="s1">'#value'</span><span class="p">).</span><span class="nx">val</span><span class="p">(),</span>
            <span class="s1">'currentPage'</span> <span class="p">:</span> <span class="nx">$</span><span class="p">(</span><span class="s1">'#currentPage'</span><span class="p">).</span><span class="nx">val</span><span class="p">()</span>
        <span class="p">};</span>

        <span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">(</span><span class="nx">urlApi</span><span class="p">,</span> <span class="p">{</span>
            <span class="na">method</span><span class="p">:</span> <span class="s2">"POST"</span><span class="p">,</span>
            <span class="na">contentType</span><span class="p">:</span> <span class="s1">'application/x-www-form-urlencoded'</span><span class="p">,</span>
            <span class="na">dataType</span><span class="p">:</span> <span class="s2">"json"</span><span class="p">,</span>
            <span class="na">data</span><span class="p">:</span> <span class="nx">data</span><span class="p">,</span>
            <span class="na">success</span><span class="p">:</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">result</span><span class="p">)</span> <span class="p">{</span>
                <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">result</span><span class="p">);</span>
            <span class="p">},</span>
            <span class="na">error</span><span class="p">:</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
                <span class="nx">alert</span><span class="p">(</span><span class="s2">"Erro"</span><span class="p">);</span>
            <span class="p">}</span>
        <span class="p">});</span>

    <span class="p">}</span>

<span class="p">});</span>

</code></pre><pre class="highlight html"><code><span class="cp">&lt;!DOCTYPE html&gt;</span>
<span class="nt">&lt;html</span> <span class="na">lang=</span><span class="s">"pt-BR"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;head&gt;</span>
        <span class="nt">&lt;title&gt;</span>Consulta Simples<span class="nt">&lt;/title&gt;</span>
        <span class="nt">&lt;script </span><span class="na">src=</span><span class="s">"https://code.jquery.com/jquery-2.2.4.min.js"</span><span class="nt">&gt;&lt;/script&gt;</span>
    <span class="nt">&lt;/head&gt;</span>
    <span class="nt">&lt;body&gt;</span>
        <span class="nt">&lt;table&gt;</span>
            <span class="nt">&lt;tr&gt;</span>
                <span class="nt">&lt;td&gt;</span>Valor:<span class="nt">&lt;/td&gt;</span>
                <span class="nt">&lt;td&gt;&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">id=</span><span class="s">"value"</span><span class="nt">&gt;&lt;/td&gt;</span>
            <span class="nt">&lt;/tr&gt;</span>
            <span class="nt">&lt;tr&gt;</span>
                <span class="nt">&lt;td&gt;</span>Página atual na paginação:<span class="nt">&lt;/td&gt;</span>
                <span class="nt">&lt;td&gt;&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">id=</span><span class="s">"currentPage"</span><span class="nt">&gt;&lt;/td&gt;</span>
            <span class="nt">&lt;/tr&gt;</span>
            <span class="nt">&lt;tr&gt;&lt;td</span> <span class="na">colspan=</span><span class="s">"2"</span><span class="nt">&gt;&lt;input</span> <span class="na">type=</span><span class="s">"button"</span> <span class="na">id=</span><span class="s">"btnConsultar"</span> <span class="na">value=</span><span class="s">"Consultar"</span><span class="nt">&gt;&lt;/td&gt;&lt;/tr&gt;</span>
        <span class="nt">&lt;/table&gt;</span>
    <span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span>

</code></pre>
<blockquote>
<p>O código acima retorna o objeto abaixo em caso de sucesso:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"pagination"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"prelink"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="nt">"current"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
        </span><span class="nt">"previous"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nt">"next"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nt">"first"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nt">"last"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nt">"range"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="mi">1</span><span class="p">,</span><span class="w">
            </span><span class="mi">2</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="nt">"fromResult"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
        </span><span class="nt">"toResult"</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w">
        </span><span class="nt">"totalResult"</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w">
        </span><span class="nt">"pageCount"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"hits"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"took"</span><span class="p">:</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span><span class="w">
        </span><span class="nt">"timed_out"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nt">"_shards"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"total"</span><span class="p">:</span><span class="w"> </span><span class="mi">15</span><span class="p">,</span><span class="w">
            </span><span class="nt">"successful"</span><span class="p">:</span><span class="w"> </span><span class="mi">15</span><span class="p">,</span><span class="w">
            </span><span class="nt">"failed"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"hits"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"total"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
            </span><span class="nt">"max_score"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="nt">"hits"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"... objetos como resultado da busca são listados aqui ..."</span><span class="p">]</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>O código acima retorna o objeto abaixo em caso de erro:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"error"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"source"</span><span class="p">:</span><span class="w"> </span><span class="s2">"..."</span><span class="p">,</span><span class="w">
        </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"..."</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Este endpoint realiza uma consulta no elasticsearch nos índices de pedidos, interações e anexos simultaneamente, retornando além dos documentos como resultado um objeto com detalhes sobre a paginação e também os resultado da pesquisa em highlight. </p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST /achadosepedidos.org.br/api/consulta-simples/</code></p>

<h3 id="par-metros-querystring">Parâmetros - Querystring</h3>

<table><thead>
<tr>
<th>Parâmetro</th>
<th>Tipo</th>
<th>Observação</th>
</tr>
</thead><tbody>
<tr>
<td>value</td>
<td>Texto</td>
<td>Obrigatório</td>
</tr>
<tr>
<td>currentPage</td>
<td>Número</td>
<td>Obrigatório, inteiro e maior que zero</td>
</tr>
</tbody></table>

<h3 id="par-metros-objeto-pagination-no-resultado">Parâmetros - Objeto pagination no resultado</h3>

<table><thead>
<tr>
<th>Parâmetro</th>
<th>Tipo</th>
<th>Observação</th>
</tr>
</thead><tbody>
<tr>
<td>prelink</td>
<td>Texto</td>
<td>Não utilizado</td>
</tr>
<tr>
<td>current</td>
<td>Número</td>
<td>Página atual</td>
</tr>
<tr>
<td>previous</td>
<td>Número</td>
<td>número da página anterior, retorna &lsquo;null&rsquo; se a página atual é a primeira página</td>
</tr>
<tr>
<td>next</td>
<td>Número</td>
<td>número da próxima página, retorna &#39;null&rsquo; se a página atual for a última</td>
</tr>
<tr>
<td>first</td>
<td>Número</td>
<td>número da primeira página , retorna &#39;null&rsquo; se a página atual é a primeira página</td>
</tr>
<tr>
<td>last</td>
<td>Número</td>
<td>número da última página, retorna &#39;null&rsquo; se a página atual for a última</td>
</tr>
<tr>
<td>range</td>
<td>Número</td>
<td>Array contendo o número da página atual e mais duas páginas anteriores e duas próximas, para montar o objeto de paginação em tela</td>
</tr>
<tr>
<td>fromResult</td>
<td>Número</td>
<td>Posição do objeto inicial da página. Ex: Consulta com 100 objetos e dez por página, na página dois o valor de fromResult é 11</td>
</tr>
<tr>
<td>toResult</td>
<td>Número</td>
<td>Posição do objeto final da página. Ex: Consulta com 100 objetos e dez por página, na página dois o valor de fromResult é 20</td>
</tr>
<tr>
<td>totalResult</td>
<td>Número</td>
<td>Quantidade de objetos retornados na pesquisa</td>
</tr>
<tr>
<td>pageCount</td>
<td>Número</td>
<td>Quantidade de páginas retornadas na pesquisa</td>
</tr>
</tbody></table>

<h2 id="consulta-com-par-metros">Consulta com parâmetros</h2>
<pre class="highlight javascript"><code>
<span class="nx">$</span><span class="p">(</span><span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>

    <span class="nx">$</span><span class="p">(</span><span class="nb">document</span><span class="p">).</span><span class="nx">ready</span><span class="p">(</span><span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
        <span class="nx">$</span><span class="p">(</span> <span class="s2">"#btnConsultar"</span> <span class="p">).</span><span class="nx">click</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
            <span class="nx">consultar</span><span class="p">();</span>
        <span class="p">});</span>        
    <span class="p">});</span>

    <span class="kd">function</span> <span class="nx">consultar</span><span class="p">()</span> <span class="p">{</span>

        <span class="kd">var</span> <span class="nx">urlApi</span> <span class="o">=</span> <span class="s1">'/achadosepedidos.org.br/api/consultar/'</span><span class="p">;</span>

        <span class="kd">var</span> <span class="nx">data</span> <span class="o">=</span> <span class="p">{</span> 
            <span class="s1">'value'</span>             <span class="p">:</span> <span class="nx">$</span><span class="p">(</span><span class="s1">'#value'</span><span class="p">).</span><span class="nx">val</span><span class="p">(),</span>
            <span class="s1">'currentPage'</span>       <span class="p">:</span> <span class="nx">$</span><span class="p">(</span><span class="s1">'#currentPage'</span><span class="p">).</span><span class="nx">val</span><span class="p">(),</span>
            <span class="s1">'dataDe'</span>            <span class="p">:</span> <span class="nx">$</span><span class="p">(</span><span class="s1">'#data-de'</span><span class="p">).</span><span class="nx">val</span><span class="p">(),</span>
            <span class="s1">'dataAte'</span>           <span class="p">:</span> <span class="nx">$</span><span class="p">(</span><span class="s1">'#data-ate'</span><span class="p">).</span><span class="nx">val</span><span class="p">(),</span>
            <span class="s1">'chkEmTramitacao'</span>   <span class="p">:</span> <span class="nx">$</span><span class="p">(</span><span class="s1">'#chkEmTramitacao'</span><span class="p">).</span><span class="nx">is</span><span class="p">(</span><span class="s1">':checked'</span><span class="p">),</span>
            <span class="s1">'chkFinalizada'</span>     <span class="p">:</span> <span class="nx">$</span><span class="p">(</span><span class="s1">'#chkFinalizada'</span><span class="p">).</span><span class="nx">is</span><span class="p">(</span><span class="s1">':checked'</span><span class="p">),</span>
            <span class="s1">'chkNaoObteveResposta'</span> <span class="p">:</span> <span class="nx">$</span><span class="p">(</span><span class="s1">'#chkNaoObteveResposta'</span><span class="p">).</span><span class="nx">is</span><span class="p">(</span><span class="s1">':checked'</span><span class="p">),</span>
            <span class="s1">'pedidosRecursoSim'</span> <span class="p">:</span> <span class="nx">$</span><span class="p">(</span><span class="s1">'input[id=pedidosRecursoSim]'</span><span class="p">).</span><span class="nx">filter</span><span class="p">(</span><span class="s1">':checked'</span><span class="p">).</span><span class="nx">val</span><span class="p">(),</span>
            <span class="s1">'pedidosRecursoNao'</span> <span class="p">:</span> <span class="nx">$</span><span class="p">(</span><span class="s1">'input[id=pedidosRecursoNao]'</span><span class="p">).</span><span class="nx">filter</span><span class="p">(</span><span class="s1">':checked'</span><span class="p">).</span><span class="nx">val</span><span class="p">(),</span>
            <span class="s1">'chkAtendido'</span>       <span class="p">:</span> <span class="nx">$</span><span class="p">(</span><span class="s1">'#chkAtendido'</span><span class="p">).</span><span class="nx">is</span><span class="p">(</span><span class="s1">':checked'</span><span class="p">),</span>
            <span class="s1">'chkNaoAtendido'</span>    <span class="p">:</span> <span class="nx">$</span><span class="p">(</span><span class="s1">'#chkNaoAtendido'</span><span class="p">).</span><span class="nx">is</span><span class="p">(</span><span class="s1">':checked'</span><span class="p">),</span>
            <span class="s1">'chkParcAtendido'</span>   <span class="p">:</span> <span class="nx">$</span><span class="p">(</span><span class="s1">'#chkParcAtendido'</span><span class="p">).</span><span class="nx">is</span><span class="p">(</span><span class="s1">':checked'</span><span class="p">),</span>
            <span class="s1">'chkFederal'</span>        <span class="p">:</span> <span class="nx">$</span><span class="p">(</span><span class="s1">'#chkFederal'</span><span class="p">).</span><span class="nx">is</span><span class="p">(</span><span class="s1">':checked'</span><span class="p">),</span>
            <span class="s1">'chkEstadual'</span>       <span class="p">:</span> <span class="nx">$</span><span class="p">(</span><span class="s1">'#chkEstadual'</span><span class="p">).</span><span class="nx">is</span><span class="p">(</span><span class="s1">':checked'</span><span class="p">),</span>
            <span class="s1">'chkMunicipal'</span>      <span class="p">:</span> <span class="nx">$</span><span class="p">(</span><span class="s1">'#chkMunicipal'</span><span class="p">).</span><span class="nx">is</span><span class="p">(</span><span class="s1">':checked'</span><span class="p">),</span>
            <span class="s1">'chkLegislativo'</span>    <span class="p">:</span> <span class="nx">$</span><span class="p">(</span><span class="s1">'#chkLegislativo'</span><span class="p">).</span><span class="nx">is</span><span class="p">(</span><span class="s1">':checked'</span><span class="p">),</span>
            <span class="s1">'chkExecutivo'</span>      <span class="p">:</span> <span class="nx">$</span><span class="p">(</span><span class="s1">'#chkExecutivo'</span><span class="p">).</span><span class="nx">is</span><span class="p">(</span><span class="s1">':checked'</span><span class="p">),</span>
            <span class="s1">'chkJudiciario'</span>     <span class="p">:</span> <span class="nx">$</span><span class="p">(</span><span class="s1">'#chkJudiciario'</span><span class="p">).</span><span class="nx">is</span><span class="p">(</span><span class="s1">':checked'</span><span class="p">),</span>
            <span class="s1">'chkMinisterio'</span>     <span class="p">:</span> <span class="nx">$</span><span class="p">(</span><span class="s1">'#chkMinisterio'</span><span class="p">).</span><span class="nx">is</span><span class="p">(</span><span class="s1">':checked'</span><span class="p">)</span>
        <span class="p">};</span>

        <span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">(</span><span class="nx">urlApi</span><span class="p">,</span> <span class="p">{</span>
            <span class="na">method</span><span class="p">:</span> <span class="s2">"POST"</span><span class="p">,</span>
            <span class="na">contentType</span><span class="p">:</span> <span class="s1">'application/x-www-form-urlencoded'</span><span class="p">,</span>
            <span class="na">dataType</span><span class="p">:</span> <span class="s2">"json"</span><span class="p">,</span>
            <span class="na">data</span><span class="p">:</span> <span class="nx">data</span><span class="p">,</span>
            <span class="na">success</span><span class="p">:</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">result</span><span class="p">)</span> <span class="p">{</span>
                <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">result</span><span class="p">);</span>
            <span class="p">},</span>
            <span class="na">error</span><span class="p">:</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
                <span class="nx">alert</span><span class="p">(</span><span class="s2">"Erro"</span><span class="p">);</span>
            <span class="p">}</span>
        <span class="p">});</span>

    <span class="p">}</span>

<span class="p">});</span>

</code></pre><pre class="highlight html"><code><span class="cp">&lt;!DOCTYPE html&gt;</span>
<span class="nt">&lt;html</span> <span class="na">lang=</span><span class="s">"pt-BR"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;head&gt;</span>
        <span class="nt">&lt;title&gt;</span>Consulta Simples<span class="nt">&lt;/title&gt;</span>
        <span class="nt">&lt;script </span><span class="na">src=</span><span class="s">"https://code.jquery.com/jquery-2.2.4.min.js"</span><span class="nt">&gt;&lt;/script&gt;</span>
    <span class="nt">&lt;/head&gt;</span>
    <span class="nt">&lt;body&gt;</span>
        <span class="nt">&lt;table&gt;</span>
            <span class="nt">&lt;tr&gt;</span>
                <span class="nt">&lt;td&gt;</span>Valor:<span class="nt">&lt;/td&gt;</span>
                <span class="nt">&lt;td&gt;&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">id=</span><span class="s">"value"</span><span class="nt">&gt;&lt;/td&gt;</span>
            <span class="nt">&lt;/tr&gt;</span>
            <span class="nt">&lt;tr&gt;</span>
                <span class="nt">&lt;td&gt;</span>Página atual na paginação:<span class="nt">&lt;/td&gt;</span>
                <span class="nt">&lt;td&gt;&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">id=</span><span class="s">"currentPage"</span><span class="nt">&gt;&lt;/td&gt;</span>
            <span class="nt">&lt;/tr&gt;</span>
            <span class="nt">&lt;tr&gt;</span>
                <span class="nt">&lt;td&gt;</span>De:<span class="nt">&lt;/td&gt;</span>
                <span class="nt">&lt;td&gt;&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">id=</span><span class="s">"data-de"</span><span class="nt">&gt;&lt;/td&gt;</span>
            <span class="nt">&lt;/tr&gt;</span>
            <span class="nt">&lt;tr&gt;</span>
                <span class="nt">&lt;td&gt;</span>De:<span class="nt">&lt;/td&gt;</span>
                <span class="nt">&lt;td&gt;&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">id=</span><span class="s">"data-ate"</span><span class="nt">&gt;&lt;/td&gt;</span>
            <span class="nt">&lt;/tr&gt;</span>

            <span class="nt">&lt;tr&gt;</span>
                <span class="nt">&lt;td&gt;</span>Em tramitacao<span class="nt">&lt;/td&gt;</span>
                <span class="nt">&lt;td&gt;&lt;input</span> <span class="na">type=</span><span class="s">"checkbox"</span> <span class="na">id=</span><span class="s">"chkEmTramitacao"</span><span class="nt">&gt;&lt;/td&gt;</span>
            <span class="nt">&lt;/tr&gt;</span>

            <span class="nt">&lt;tr&gt;</span>
                <span class="nt">&lt;td&gt;</span>Finalizada<span class="nt">&lt;/td&gt;</span>
                <span class="nt">&lt;td&gt;&lt;input</span> <span class="na">type=</span><span class="s">"checkbox"</span> <span class="na">id=</span><span class="s">"chkFinalizada"</span><span class="nt">&gt;&lt;/td&gt;</span>
            <span class="nt">&lt;/tr&gt;</span>

            <span class="nt">&lt;tr&gt;</span>
                <span class="nt">&lt;td&gt;</span>Finalizada - Não Obteve Resposta<span class="nt">&lt;/td&gt;</span>
                <span class="nt">&lt;td&gt;&lt;input</span> <span class="na">type=</span><span class="s">"checkbox"</span> <span class="na">id=</span><span class="s">"chkNaoObteveResposta"</span><span class="nt">&gt;&lt;/td&gt;</span>
            <span class="nt">&lt;/tr&gt;</span>

            <span class="nt">&lt;tr&gt;</span>
                <span class="nt">&lt;td&gt;</span>Com recurso<span class="nt">&lt;/td&gt;</span>
                <span class="nt">&lt;td&gt;&lt;input</span> <span class="na">type=</span><span class="s">"radio"</span> <span class="na">name=</span><span class="s">"pedidosRecurso"</span> <span class="na">id=</span><span class="s">"pedidosRecursoSim"</span><span class="nt">&gt;&lt;/td&gt;</span>
            <span class="nt">&lt;/tr&gt;</span>
            <span class="nt">&lt;tr&gt;</span>
                <span class="nt">&lt;td&gt;</span>Sem recurso<span class="nt">&lt;/td&gt;</span>
                <span class="nt">&lt;td&gt;&lt;input</span> <span class="na">type=</span><span class="s">"radio"</span> <span class="na">name=</span><span class="s">"pedidosRecurso"</span> <span class="na">id=</span><span class="s">"pedidosRecursoNao"</span><span class="nt">&gt;&lt;/td&gt;</span>
            <span class="nt">&lt;/tr&gt;</span>
            <span class="nt">&lt;tr&gt;</span>
                <span class="nt">&lt;td&gt;</span>Resposta do orgão: Atendido<span class="nt">&lt;/td&gt;</span>
                <span class="nt">&lt;td&gt;&lt;input</span> <span class="na">type=</span><span class="s">"checkbox"</span> <span class="na">id=</span><span class="s">"chkAtendido"</span><span class="nt">&gt;&lt;/td&gt;</span>
            <span class="nt">&lt;/tr&gt;</span>
            <span class="nt">&lt;tr&gt;</span>
                <span class="nt">&lt;td&gt;</span>Resposta do orgão: Não Atendido<span class="nt">&lt;/td&gt;</span>
                <span class="nt">&lt;td&gt;&lt;input</span> <span class="na">type=</span><span class="s">"checkbox"</span> <span class="na">id=</span><span class="s">"chkNaoAtendido"</span><span class="nt">&gt;&lt;/td&gt;</span>
            <span class="nt">&lt;/tr&gt;</span>
            <span class="nt">&lt;tr&gt;</span>
                <span class="nt">&lt;td&gt;</span>Resposta do orgão: Parcialmente Atendido<span class="nt">&lt;/td&gt;</span>
                <span class="nt">&lt;td&gt;&lt;input</span> <span class="na">type=</span><span class="s">"checkbox"</span> <span class="na">id=</span><span class="s">"chkParcAtendido"</span><span class="nt">&gt;&lt;/td&gt;</span>
            <span class="nt">&lt;/tr&gt;</span>
            <span class="nt">&lt;tr&gt;</span>
                <span class="nt">&lt;td&gt;</span>Federal<span class="nt">&lt;/td&gt;</span>
                <span class="nt">&lt;td&gt;&lt;input</span> <span class="na">type=</span><span class="s">"checkbox"</span> <span class="na">id=</span><span class="s">"chkFederal"</span><span class="nt">&gt;&lt;/td&gt;</span>
            <span class="nt">&lt;/tr&gt;</span>
            <span class="nt">&lt;tr&gt;</span>
                <span class="nt">&lt;td&gt;</span>Estadual<span class="nt">&lt;/td&gt;</span>
                <span class="nt">&lt;td&gt;&lt;input</span> <span class="na">type=</span><span class="s">"checkbox"</span> <span class="na">id=</span><span class="s">"chkEstadual"</span><span class="nt">&gt;&lt;/td&gt;</span>
            <span class="nt">&lt;/tr&gt;</span>
            <span class="nt">&lt;tr&gt;</span>
                <span class="nt">&lt;td&gt;</span>Municipal<span class="nt">&lt;/td&gt;</span>
                <span class="nt">&lt;td&gt;&lt;input</span> <span class="na">type=</span><span class="s">"checkbox"</span> <span class="na">id=</span><span class="s">"chkMunicipal"</span><span class="nt">&gt;&lt;/td&gt;</span>
            <span class="nt">&lt;/tr&gt;</span>
            <span class="nt">&lt;tr&gt;</span>
                <span class="nt">&lt;td&gt;</span>Poder: Legislativo e Tribunais de Contas<span class="nt">&lt;/td&gt;</span>
                <span class="nt">&lt;td&gt;&lt;input</span> <span class="na">type=</span><span class="s">"checkbox"</span> <span class="na">id=</span><span class="s">"chkLegislativo"</span><span class="nt">&gt;&lt;/td&gt;</span>
            <span class="nt">&lt;/tr&gt;</span>
            <span class="nt">&lt;tr&gt;</span>
                <span class="nt">&lt;td&gt;</span>Poder: Executivo<span class="nt">&lt;/td&gt;</span>
                <span class="nt">&lt;td&gt;&lt;input</span> <span class="na">type=</span><span class="s">"checkbox"</span> <span class="na">id=</span><span class="s">"chkExecutivo"</span><span class="nt">&gt;&lt;/td&gt;</span>
            <span class="nt">&lt;/tr&gt;</span>
            <span class="nt">&lt;tr&gt;</span>
                <span class="nt">&lt;td&gt;</span>Poder: Judiciário<span class="nt">&lt;/td&gt;</span>
                <span class="nt">&lt;td&gt;&lt;input</span> <span class="na">type=</span><span class="s">"checkbox"</span> <span class="na">id=</span><span class="s">"chkJudiciario"</span><span class="nt">&gt;&lt;/td&gt;</span>
            <span class="nt">&lt;/tr&gt;</span>
            <span class="nt">&lt;tr&gt;</span>
                <span class="nt">&lt;td&gt;</span>Poder: Ministério Público<span class="nt">&lt;/td&gt;</span>
                <span class="nt">&lt;td&gt;&lt;input</span> <span class="na">type=</span><span class="s">"checkbox"</span> <span class="na">id=</span><span class="s">"chkMinisterio"</span><span class="nt">&gt;&lt;/td&gt;</span>
            <span class="nt">&lt;/tr&gt;</span>
            <span class="nt">&lt;tr&gt;&lt;td</span> <span class="na">colspan=</span><span class="s">"2"</span><span class="nt">&gt;&lt;input</span> <span class="na">type=</span><span class="s">"button"</span> <span class="na">id=</span><span class="s">"btnConsultar"</span> <span class="na">value=</span><span class="s">"Consultar"</span><span class="nt">&gt;&lt;/td&gt;&lt;/tr&gt;</span>
        <span class="nt">&lt;/table&gt;</span>
    <span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span>

</code></pre>
<blockquote>
<p>O código acima retorna o objeto abaixo em caso de sucesso:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"pagination"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"prelink"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="nt">"current"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
        </span><span class="nt">"previous"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nt">"next"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nt">"first"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nt">"last"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nt">"range"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="mi">1</span><span class="p">,</span><span class="w">
            </span><span class="mi">2</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="nt">"fromResult"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
        </span><span class="nt">"toResult"</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w">
        </span><span class="nt">"totalResult"</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w">
        </span><span class="nt">"pageCount"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"hits"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"took"</span><span class="p">:</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span><span class="w">
        </span><span class="nt">"timed_out"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nt">"_shards"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"total"</span><span class="p">:</span><span class="w"> </span><span class="mi">15</span><span class="p">,</span><span class="w">
            </span><span class="nt">"successful"</span><span class="p">:</span><span class="w"> </span><span class="mi">15</span><span class="p">,</span><span class="w">
            </span><span class="nt">"failed"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"hits"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"total"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
            </span><span class="nt">"max_score"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="nt">"hits"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"... objetos como resultado da busca são listados aqui ..."</span><span class="p">]</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>O código acima retorna o objeto abaixo em caso de erro:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"error"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"source"</span><span class="p">:</span><span class="w"> </span><span class="s2">"..."</span><span class="p">,</span><span class="w">
        </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"..."</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Este endpoint realiza uma consulta no elasticsearch nos índices de pedidos, interações e anexos simultaneamente, retornando além dos documentos como resultado um objeto com detalhes sobre a paginação e também os resultado da pesquisa em highlight, através da utilização de parametros para filtrar os dados. </p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST /achadosepedidos.org.br/api/consultar/</code></p>

<h3 id="par-metros">Parâmetros</h3>

<table><thead>
<tr>
<th>Parâmetro</th>
<th>Tipo</th>
<th>Observação</th>
</tr>
</thead><tbody>
<tr>
<td>value</td>
<td>Texto</td>
<td>Obrigatório</td>
</tr>
<tr>
<td>currentPage</td>
<td>Número</td>
<td>Obrigatório, inteiro e maior que zero</td>
</tr>
<tr>
<td>dataDe</td>
<td>Data</td>
<td>Timestamp em formato &ldquo;aaaa-mm-dd&rdquo;</td>
</tr>
<tr>
<td>dataAte</td>
<td>Data</td>
<td>Timestamp em formato &ldquo;aaaa-mm-dd&rdquo;</td>
</tr>
<tr>
<td>chkEmTramitacao</td>
<td>Boleano</td>
<td></td>
</tr>
<tr>
<td>chkFinalizada</td>
<td>Boleano</td>
<td></td>
</tr>
<tr>
<td>pedidosRecursoSim</td>
<td>Boleano</td>
<td>Valores possíveis &#39;on&rsquo; ou null</td>
</tr>
<tr>
<td>pedidosRecursoNao</td>
<td>Boleano</td>
<td>Valores possíveis &#39;on&rsquo; ou null</td>
</tr>
<tr>
<td>chkAtendido</td>
<td>Boleano</td>
<td></td>
</tr>
<tr>
<td>chkNaoAtendido</td>
<td>Boleano</td>
<td></td>
</tr>
<tr>
<td>chkParcAtendido</td>
<td>Boleano</td>
<td></td>
</tr>
<tr>
<td>chkFederal</td>
<td>Boleano</td>
<td></td>
</tr>
<tr>
<td>chkEstadual</td>
<td>Boleano</td>
<td></td>
</tr>
<tr>
<td>chkMunicipal</td>
<td>Boleano</td>
<td></td>
</tr>
<tr>
<td>chkLegislativo</td>
<td>Boleano</td>
<td></td>
</tr>
<tr>
<td>chkExecutivo</td>
<td>Boleano</td>
<td></td>
</tr>
<tr>
<td>chkJudiciario</td>
<td>Boleano</td>
<td></td>
</tr>
<tr>
<td>chkMinisterio</td>
<td>Boleano</td>
<td></td>
</tr>
</tbody></table>

<h3 id="par-metros-objeto-pagination-no-resultado">Parâmetros - Objeto pagination no resultado</h3>

<table><thead>
<tr>
<th>Parâmetro</th>
<th>Tipo</th>
<th>Observação</th>
</tr>
</thead><tbody>
<tr>
<td>prelink</td>
<td>Texto</td>
<td>Não utilizado</td>
</tr>
<tr>
<td>current</td>
<td>Número</td>
<td>Página atual</td>
</tr>
<tr>
<td>previous</td>
<td>Número</td>
<td>número da página anterior, retorna &#39;null&rsquo; se a página atual é a primeira página</td>
</tr>
<tr>
<td>next</td>
<td>Número</td>
<td>número da próxima página, retorna &#39;null&rsquo; se a página atual for a última</td>
</tr>
<tr>
<td>first</td>
<td>Número</td>
<td>número da primeira página , retorna &#39;null&rsquo; se a página atual é a primeira página</td>
</tr>
<tr>
<td>last</td>
<td>Número</td>
<td>número da última página, retorna &#39;null&rsquo; se a página atual for a última</td>
</tr>
<tr>
<td>range</td>
<td>Número</td>
<td>Array contendo o número da página atual e mais duas páginas anteriores e duas próximas, para montar o objeto de paginação em tela</td>
</tr>
<tr>
<td>fromResult</td>
<td>Número</td>
<td>Posição do objeto inicial da página. Ex: Consulta com 100 objetos e dez por página, na página dois o valor de fromResult é 11</td>
</tr>
<tr>
<td>toResult</td>
<td>Número</td>
<td>Posição do objeto final da página. Ex: Consulta com 100 objetos e dez por página, na página dois o valor de fromResult é 20</td>
</tr>
<tr>
<td>totalResult</td>
<td>Número</td>
<td>Quantidade de objetos retornados na pesquisa</td>
</tr>
<tr>
<td>pageCount</td>
<td>Número</td>
<td>Quantidade de páginas retornadas na pesquisa</td>
</tr>
</tbody></table>

          <h1 id="errors">Errors</h1>

<p>Segue abaixo os possíveis erros e seus significados:</p>

<table><thead>
<tr>
<th>Error Code</th>
<th>Significado</th>
</tr>
</thead><tbody>
<tr>
<td>400</td>
<td>Bad Request</td>
</tr>
<tr>
<td>401</td>
<td>Unauthorized (Problemas com token)</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden</td>
</tr>
<tr>
<td>404</td>
<td>Not Found</td>
</tr>
<tr>
<td>405</td>
<td>Method Not Allowed</td>
</tr>
<tr>
<td>410</td>
<td>Gone (Resource pesquisado não existe mais)</td>
</tr>
<tr>
<td>422</td>
<td>Unprocessable Entity (Não é possível processar a imagem)</td>
</tr>
<tr>
<td>500</td>
<td>Internal Server Error</td>
</tr>
<tr>
<td>503</td>
<td>Service Unavailable</td>
</tr>
</tbody></table>

      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="javascript">javascript</a>
                <a href="#" data-language-name="html">html</a>
          </div>
      </div>
    </div>
  </body>
</html>
